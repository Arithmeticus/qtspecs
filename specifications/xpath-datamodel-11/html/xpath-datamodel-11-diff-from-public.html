<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><!--Generated by the DeltaXML.com xhtml-outfilter.xsl--><!--Using XSL Processor: SAXON 9.1.0.1 from Saxonica--><meta name="generator" content="HTML Tidy for Linux/x86 (vers 14 June 2007), see www.w3.org" /><title>XQuery and XPath Data Model 1.1</title><style type="text/css"> /**/ code { font-family: monospace; } div.constraint, div.issue, div.note, div.notice { margin-left: 2em; } div.issue p.title { margin-left: -2em; } ol.enumar { list-style-type: decimal; } ol.enumla { list-style-type: lower-alpha; } ol.enumlr { list-style-type: lower-roman; } ol.enumua { list-style-type: upper-alpha; } ol.enumur { list-style-type: upper-roman; } li p { margin-top: 0.3em; margin-bottom: 0.3em; } sup small { font-style: italic; color: #8F8F8F; } div.exampleInner pre { margin-left: 1em; margin-top: 0em; margin-bottom: 0em} div.exampleOuter {border: 4px double gray; margin: 0em; padding: 0em} div.exampleInner { background-color: #d5dee3; border-top-width: 4px; border-top-style: double; border-top-color: #d3d3d3; border-bottom-width: 4px; border-bottom-style: double; border-bottom-color: #d3d3d3; padding: 4px; margin: 0em } div.exampleWrapper { margin: 4px } div.exampleHeader { font-weight: bold; margin: 4px} div.issue { border-bottom-color: black; border-bottom-style: solid; border-bottom-width: 1pt; margin-bottom: 20pt; } th.issue-toc-head { border-bottom-color: black; border-bottom-style: solid; border-bottom-width: 1pt; } .termdef { color: rgb(133,0,033); } .aside { border-left: 4px solid green; background-color: #EEFFEE; padding-left: 1em; font-size: small; } .node-summary table { margin-left: 1em; } .node-summary thead td { font-weight: bold; } .node-summary td { padding-left: 1em; padding-right: 1em; border-bottom: 1px solid gray; } .infoset-mapping table { margin-left: 1em; } .infoset-mapping thead td { font-weight: bold; } .infoset-mapping td { padding-left: 1em; padding-right: 1em; } .issue-closed { color: green; } .issue-resolved { color: red; } .issue-open { color: red; } div.schemaComp { border: 4px double gray; margin: 0em 1em; padding: 0em; } div.compHeader { margin: 4px; font-weight: bold; } span.schemaComp { background-color: white; color: #A52A2A; } div.compBody { border-top-width: 4px; border-top-style: double; border-top-color: #d3d3d3; padding: 4px; margin: 0em; } div.exampleInner { background-color: #d5dee3; color: black; border-top-width: 4px; border-top-style: double; border-top-color: #d3d3d3; border-bottom-width: 4px; border-bottom-style: double; border-bottom-color: #d3d3d3; padding: 4px; margin: 0em; } div.issueBody { margin-left: 0.25in; } code.function { font-weight: bold; } code.return-type { font-style: italic; } code.type { font-style: italic; } code.as { font-style: normal; } code.arg { } code.strikeout { text-decoration: line-through; } p.table.footnote { font-size: 8pt; } span.function { font-family: monospace; } span.prefix { font-style: italic; } table.hierarchy { font-size: x-small; } td.castOther { background-color: yellow; color: black; } tr.document { background-color: #FFD4EA; } tr.element { background-color: #96E3D1; } tr.attribute { background-color: #E7E6FF; } tr.text { background-color: #FFFFC2; } tr.processing-instruction { background-color: #E5FDFE; } tr.comment { background-color: #E1E1E1; } tr.namespace { background-color: #E7E6FF; } /**/ </style><link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-WD.css" /><link rel="TableOfContents" title="1 Introduction" href="#intro" /><link rel="TableOfContents" title="2 Concepts" href="#concepts" /><link rel="TableOfContents" title="2.1 Terminology" href="#terminology" /><link rel="TableOfContents" title="2.2 Notation" href="#notation" /><link rel="TableOfContents" title="2.3 Node Identity" href="#node-identity" /><link rel="TableOfContents" title="2.4 Document Order" href="#document-order" /><link rel="TableOfContents" title="2.5 Sequences" href="#sequences" /><link rel="TableOfContents" title="3 Data Model Construction" href="#construction" /><link rel="TableOfContents" title="3.1 Direct Construction" href="#const-other" /><link rel="TableOfContents" title="3.2 Construction from an Infoset" href="#const-infoset" /><link rel="TableOfContents" title="3.3 Construction from a PSVI" href="#const-psvi" /><link rel="TableOfContents" title="4 Infoset Mapping" href="#infoset-mapping" /><link rel="TableOfContents" title="5 Accessors" href="#accessors" /><link rel="TableOfContents" title="5.1 attributes Accessor" href="#dm-attributes" /><link rel="TableOfContents" title="5.2 base-uri Accessor" href="#dm-base-uri" /><link rel="TableOfContents" title="5.3 children Accessor" href="#dm-children" /><link rel="TableOfContents" title="5.4 document-uri Accessor" href="#dm-document-uri" /><link rel="TableOfContents" title="5.5 is-id Accessor" href="#dm-is-id" /><link rel="TableOfContents" title="5.6 is-idrefs Accessor" href="#dm-is-idrefs" /><link rel="TableOfContents" title="6 Nodes" href="#Node" /><link rel="TableOfContents" title="6.1 Document Nodes" href="#DocumentNode" /><link rel="TableOfContents" title="6.2 Element Nodes" href="#ElementNode" /><link rel="TableOfContents" title="6.3 Attribute Nodes" href="#AttributeNode" /><link rel="TableOfContents" title="6.4 Namespace Nodes" href="#NamespaceNode" /><link rel="TableOfContents" title="6.5 Processing Instruction Nodes" href="#ProcessingInstructionNode" /><link rel="TableOfContents" title="6.6 Comment Nodes" href="#CommentNode" /><link rel="TableOfContents" title="6.7 Text Nodes" href="#TextNode" /><link rel="TableOfContents" title="7 Conformance" href="#conformance" /><link rel="TableOfContents" title="A XML Information Set Conformance" href="#infoset-conformance" /><link rel="TableOfContents" title="B References" href="#references" /><link rel="TableOfContents" title="B.1 Normative References" href="#normative-references" /><link rel="TableOfContents" title="B.2 Other References" href="#informative-references" /><link rel="TableOfContents" title="C Schema for the Extended XS Namespace" href="#xdtschema" /><link rel="TableOfContents" title="D Glossary" href="#glossary" /><link rel="TableOfContents" title="E Example" href="#example" /><link rel="TableOfContents" title="F Implementation-Defined and Implementation-Dependent Items" href="#impl-summary" /><link rel="TableOfContents" title="F.1 Implementation-Defined Items" href="#implementation-defined" /><link rel="TableOfContents" title="F.2 Implementation-Dependent Items" href="#implementation-dependent" /><link rel="TableOfContents" title="G Change Log" href="#ChangeLog" /><link rel="TableOfContents" href="#accessors-list" title="H Accessor Summary" /><link rel="TableOfContents" href="#infoset-construction-summary" title="I Infoset Construction Summary" /><link rel="TableOfContents" href="#psvi-construction-summary" title="J PSVI Construction Summary" /><link rel="TableOfContents" href="#infoset-mapping-summary" title="K Infoset Mapping Summary" /><link rel="TableOfContents" title="2.6 Types" href="#types" /><link rel="TableOfContents" title="2.7 Function Items" href="#function-items" /><link rel="TableOfContents" title="5.7 namespace-bindings Accessor" href="#dm-namespace-bindings" /><link rel="TableOfContents" title="5.8 namespace-nodes Accessor" href="#dm-namespace-nodes" /><link rel="TableOfContents" title="5.9 nilled Accessor" href="#dm-nilled" /><link rel="TableOfContents" title="5.10 node-kind Accessor" href="#dm-node-kind" /><link rel="TableOfContents" title="5.11 node-name Accessor" href="#dm-node-name" /><link rel="TableOfContents" title="5.12 parent Accessor" href="#dm-parent" /><link rel="TableOfContents" title="5.13 string-value Accessor" href="#dm-string-value" /><link rel="TableOfContents" title="5.14 type-name Accessor" href="#dm-type-name" /><link rel="TableOfContents" title="5.15 typed-value Accessor" href="#dm-typed-value" /><link rel="TableOfContents" title="5.16 unparsed-entity-public-id Accessor" href="#dm-unparsed-entity-public-id" /><link rel="TableOfContents" title="5.17 unparsed-entity-system-id Accessor" href="#dm-unparsed-entity-system-id" /><style type="text/css">
          body { margin-top: 50px }
          a.button { background: #DDD; border: 2px outset black; padding: 2px; margin: 2px; font-family: sans-serif; font-size: small;}
          a.button:hover { cursor:pointer; }
          a.button:active { border-style: inset; }
        </style><script type="text/javascript">
            function view(doc) {
              var allSpans=document.getElementsByTagName("*");
              if(doc=="old") {
                for(i=0;i!=allSpans.length;i++) {
                  var displayType= "inline";
                  if (allSpans[i].localName == "tr") {
                    displayType= "table-row";
                  } else if (allSpans[i].localName == "li") {
                    displayType= "list-item";
                  }
                  var name=allSpans[i].className;
                  if(name=="deltaxml-new" || name=="deltaxml-new-img" || name=="deltaxml-new-format" || name=="add_version" || name=="modify_version") {
                    allSpans[i].style.display="none";
                  } else if (name=="deltaxml-old" || name=="deltaxml-old-img" || name=="deltaxml-old-format" || name=="delete_version") {
                    allSpans[i].style.display= displayType;
                    allSpans[i].style.background="#FFF";
                    //need to take border off images
                    var allImgs=allSpans[i].getElementsByTagName("img");
                    for(j=0;j!=allImgs.length;j++) {
                      allImgs[j].style.border="none";
                    }
                  }
                }
              } else if(doc=="new") {
                for(i=0;i!=allSpans.length;i++) {
                  var displayType= "inline";
                  if (allSpans[i].localName == "tr") {
                    displayType= "table-row";
                  } else if (allSpans[i].localName == "li") {
                    displayType= "list-item";
                  }
                  var name=allSpans[i].className;
                  if(name=="deltaxml-new" || name=="deltaxml-new-img" || name=="deltaxml-new-format" || name=="add_version") {
                    allSpans[i].style.display= displayType;
                    allSpans[i].style.background="#FFF";
                    //need to take border off images
                    var allImgs=allSpans[i].getElementsByTagName("img");
                    for(j=0;j!=allImgs.length;j++) {
                      allImgs[j].style.border="none";
                    }
                  } else if (name=="deltaxml-old" || name=="deltaxml-old-img" || name=="deltaxml-old-format" || name=="delete_version" || name=="modify_version") {
                    allSpans[i].style.display="none";
                   }
                }
              } else if(doc=="both") {
                for(i=0;i!=allSpans.length;i++) {
                  var displayType= "inline";
                  if (allSpans[i].localName == "tr") {
                    displayType= "table-row";
                  } else if (allSpans[i].localName == "li") {
                    displayType= "list-item";
                  }
                  var name=allSpans[i].className;
                  if(name=="deltaxml-new" || name=="deltaxml-new-format" || name=="deltaxml-new-img") {
                    allSpans[i].style.display= displayType;
                    allSpans[i].style.background="#90EE90";
                    //need to add border to images
                    var allImgs=allSpans[i].getElementsByTagName("img");
                    for(j=0;j!=allImgs.length;j++) {
                      allImgs[j].style.border="2px solid green";
                    }
                  } else if(name=="deltaxml-old" || name=="deltaxml-old-format" || name=="deltaxml-old-img") {
                    allSpans[i].style.display= displayType;
                    allSpans[i].style.background="#FF5555";
                    //need to add border to images
                    var allImgs=allSpans[i].getElementsByTagName("img");
                    for(j=0;j!=allImgs.length;j++) {
                      allImgs[j].style.border="2px solid red";
                    }
                  } else if (name=="add_version" || name=="delete_version") {
                    allSpans[i].style.display="none";
                  } else if (name=="modify_version") {
                    allSpans[i].style.display= displayType;
                  }
                }
              }
            }
  
        </script></head><body><div style="position:fixed; clear:both; top:0px"><p><a class="button" onclick="view('old')">
              View Old
            </a><a class="button" onclick="view('new')">
              View New
            </a><a class="button" onclick="view('both')">
              View Both
            </a></p></div><div class="head"><p><a href="http://www.w3.org/"><img src="http://www.w3.org/Icons/w3c_home" alt="W3C" height="48" width="72" /></a></p><h1><a name="title" id="title"></a>XQuery and XPath Data Model 1.1</h1><h2><a name="w3c-doctype" id="w3c-doctype"></a><span class="deltaxml-old" style="background:#FF5555">W3C Working Draft 26 October 2010</span></h2><h2><a name="w3c-doctype" id="w3c-doctype"></a><span class="deltaxml-new" style="background:#90EE90">W3C Working Draft 15 December 2009</span></h2><dl><dt>This version:</dt><dd><a href="http://www.w3.org/TR/2010/WD-xpath-datamodel-11-20101026/"><span class="deltaxml-old" style="background:#FF5555">http://www.w3.org/TR/2010/WD-xpath-datamodel-11-20101026/</span></a><a href="http://www.w3.org/TR/2009/WD-xpath-datamodel-11-20091215/"><span class="deltaxml-new" style="background:#90EE90">http://www.w3.org/TR/2009/WD-xpath-datamodel-11-20091215/</span></a></dd><dt>Latest version:</dt><dd><a href="http://www.w3.org/TR/xpath-datamodel-11/">http://www.w3.org/TR/xpath-datamodel-11/</a></dd><dt>Editors:</dt><dd><span class="deltaxml-old" style="background:#FF5555">Norman</span><span class="deltaxml-new" style="background:#90EE90">Normal</span> Walsh (XML Query WG), Mark Logic <a href="mailto:Norman.Walsh@marklogic.com">&lt;Norman.Walsh@marklogic.com&gt;</a></dd><dd>Anders Berglund (XSL WG), BC&amp;TF <a href="http://www.albconsults.com">&lt;http://www.albconsults.com&gt;</a></dd><dd><span><a href="http://snelson.org.uk/john"><span class="deltaxml-old" style="background:#FF5555">John Snelson</span></a><span class="deltaxml-old" style="background:#FF5555"> (XML Query WG)</span></span><span class="deltaxml-old" style="background:#FF5555">, MarkLogic </span><a href="mailto:john.snelson@marklogic.com"><span class="deltaxml-old" style="background:#FF5555">&lt;john.snelson@marklogic.com&gt;</span></a></dd><dd><span><a href="http://snelson.org.uk/john"><span class="deltaxml-new" style="background:#90EE90">John Snelson</span></a><span class="deltaxml-new" style="background:#90EE90"> (XML Query WG)</span></span><span class="deltaxml-new" style="background:#90EE90">, Oracle Corporation </span><a href="mailto:john.snelson@oracle.com"><span class="deltaxml-new" style="background:#90EE90">&lt;john.snelson@oracle.com&gt;</span></a></dd></dl><p>See also <a href="http://www.w3.org/2003/03/Translations/byTechnology?technology=xpath-datamodel"><strong>translations</strong></a>.</p><p>This document is also available in these non-normative formats: <a href="http://www.w3.org/TR/2010/WD-xpath-datamodel-11-20101026/xpath-datamodel-11.xml"><span class="deltaxml-old" style="background:#FF5555">XML</span></a><a href="http://www.w3.org/TR/2009/WD-xpath-datamodel-11-20091215/xpath-datamodel-11.xml"><span class="deltaxml-new" style="background:#90EE90"> XML</span></a> and <a href="http://www.w3.org/TR/2009/WD-xpath-datamodel-11-20091215/xpath-datamodel-11-diff-from-20070123.html">Change markings relative to first edition</a>.</p><p class="copyright"><span style="display: none;" class="delete_version"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2010 <a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a><span class="delete_version" href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></span><span class="modify_version" href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></span></a>, <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</span><span style="display: none;" class="add_version"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2009 <a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a><span class="add_version" href="http://www.ercim.org/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></span><span class="modify_version" href="http://www.ercim.org/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></span></a>, <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</span><span class="modify_version"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a><span class="deltaxml-old" style="background:#FF5555"> © 2010 </span><span class="deltaxml-new" style="background:#90EE90"> © 2009 </span><a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a><span style="display: none;" class="delete_version" href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></span><span style="display: none;" class="add_version" href="http://www.ercim.org/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></span><span class="modify_version" href="http://www.ercim.org/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></span></a>, <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</span></p></div><hr /><div><h2><a name="abstract" id="abstract"></a>Abstract</h2><p>This document defines the XQuery and XPath Data Model 1.1, which is the data model of <a href="#xpath-21">[XML Path Language (XPath) 2.1]</a>, <a href="#xslt-21">[XSL Transformations (XSLT) Version 2.1]</a>, and <a href="#xquery-11">[XQuery 1.1: An XML Query Language]</a>, and any other specifications that reference it. This document is the result of joint work by the <a href="#XSLWG">[XSL Working Group]</a> and the <a href="#XQWG">[XML Query Working Group]</a>.</p></div><div><h2><a name="status" id="status"></a>Status of this Document</h2><p><em>This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current W3C publications and the latest revision of this technical report can be found in the <a href="http://www.w3.org/TR/">W3C technical reports index</a> at http://www.w3.org/TR/.</em></p><p>This is one document in a set of seven documents that are being progressed to Recommendation together (XQuery 1.1, XQueryX 1.1, XSLT 2.1, Data Model 1.1, Functions and Operators 1.1, Serialization 1.1, XPath 2.1).</p><p>This is a <a href="http://www.w3.org/2005/10/Process-20051014/tr.html#maturity-levels"><span class="deltaxml-old" style="background:#FF5555">Working Draft</span></a><a href="http://www.w3.org/2005/10/Process-20051014/tr.html#first-wd"><span class="deltaxml-new" style="background:#90EE90">First Public Working Draft</span></a> as described in the <a href="http://www.w3.org/2005/10/Process-20051014/tr.html">Process Document</a>. It has been jointly developed by the W3C <a href="http://www.w3.org/XML/Query/">XML Query Working Group</a> and the W3C <a href="http://www.w3.org/Style/XSL/">XSL Working Group</a>, each of which is part of the <a href="http://www.w3.org/XML/Activity">XML Activity</a>. The Working Groups expect to advance this specification to <a href="http://www.w3.org/2005/10/Process-20051014/tr.html#RecsW3C">Recommendation</a> Status.</p><p><span class="deltaxml-old" style="background:#FF5555">This is an "internal last call working draft" of XQuery and XPath Data Model 1.1 (XDM). The purpose of this publication is for members of the XML Query and XSL WGs to review the content and identify all issues that they believe would inhibit progression of the document to Proposed Recommendation status. Ideally, WG members will identify all such issues in the document before it is progressed to Last Call Working Draft status and will not submit large numbers of issues during the (public) Last Call review period. WG members' comments on this document should be submitted, using the ordinary Bugzilla reporting mechanism, no later than Friday, 2010-07-09, so they may be considered by the Joint face-to-face meeting scheduled to begin on 2010-07-12.</span></p><p><span class="deltaxml-new" style="background:#90EE90">This is the first public Working Draft of XQuery and XPath Data Model 1.1 (XDM). It is intended to be fully 'upwards compatible' with </span><a href="http://www.w3.org/TR/xpath-datamodel"><span class="deltaxml-new" style="background:#90EE90">XQuery 1.0 and XPath 2.0 Data Model (XDM)</span></a><span class="deltaxml-new" style="background:#90EE90">. Failures to achieve that goal will be corrected in future versions of the Working Drafts of this document. The principal differences between this draft and the earlier version (</span><a href="http://www.w3.org/TR/2007/REC-xpath-datamodel-20070123/"><span class="deltaxml-new" style="background:#90EE90">Recommendation of 23 January 2007</span></a><span class="deltaxml-new" style="background:#90EE90">) are the new text and diagrams that describe the type hierarchy; see </span><a href="#types-hierarchy"><b><span class="deltaxml-new" style="background:#90EE90">2.6.3 Type System</span></b></a><span class="deltaxml-new" style="background:#90EE90">.</span></p><p>No implementation report currently exists. However, a Test Suite for XQuery and XPath Data Model 1.1 is under development.</p><p><span class="deltaxml-old" style="background:#FF5555">This document incorporates changes made against the previous publication of the Working Draft of 15 December 2009. Changes to this document since the previous publication of the Working Draft are detailed in </span><a href="#ChangeLog"><b><span class="deltaxml-old" style="background:#FF5555">G Change Log</span></b></a><span class="deltaxml-old" style="background:#FF5555">.</span></p><p>Please report errors in this document using W3C's <a href="http://www.w3.org/Bugs/Public/">public Bugzilla system</a> (instructions can be found at <a href="http://www.w3.org/XML/2005/04/qt-bugzilla">http://www.w3.org/XML/2005/04/qt-bugzilla</a>). If access to that system is not feasible, you may send your comments to the W3C XSLT/XPath/XQuery public comments mailing list, <a href="mailto:public-qt-comments@w3.org">public-qt-comments@w3.org</a>. It will be very helpful if you include the string “[DM11]” in the subject line of your report, whether made in Bugzilla or in email. Please use multiple Bugzilla entries (or, if necessary, multiple email messages) if you have more than one comment to make. Archives of the comments and responses are available at <a href="http://lists.w3.org/Archives/Public/public-qt-comments/">http://lists.w3.org/Archives/Public/public-qt-comments/</a>.</p><p>Publication as a Working Draft does not imply endorsement by the W3C Membership. This is a draft document and may be updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite this document as other than work in progress.</p><p>This document was produced by groups operating under the <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent Policy</a>. W3C maintains a <a href="http://www.w3.org/2004/01/pp-impl/18797/status#disclosures">public list of any patent disclosures</a> made in connection with the deliverables of the XML Query Working Group and also maintains a <a href="http://www.w3.org/2004/01/pp-impl/19552/status#disclosures">public list of any patent disclosures</a> made in connection with the deliverables of the XSL Working Group; those pages also include instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential"><span class="deltaxml-new" style="background:#90EE90"> </span>Essential Claim(s)</a> must disclose the information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure"><span class="deltaxml-new" style="background:#90EE90"> </span>section 6 of the W3C Patent Policy</a>.</p></div><div class="toc"><h2><a name="contents" id="contents"></a>Table of Contents</h2><p class="toc">1 <a href="#intro">Introduction</a><br /> 2 <a href="#concepts">Concepts</a><br />     2.1 <a href="#terminology">Terminology</a><br />     2.2 <a href="#notation">Notation</a><br />     2.3 <a href="#node-identity">Node Identity</a><br />     2.4 <a href="#document-order">Document Order</a><br />     2.5 <a href="#sequences">Sequences</a><br />     2.6 <a href="#namespace-names"><span class="deltaxml-old" style="background:#FF5555">Namespace Names</span></a><span class="deltaxml-old" style="background:#FF5555">     2.7 </span><a href="#types">Types</a><br /> <span class="deltaxml-old" style="background:#FF5555">        2.7.1</span><span class="deltaxml-new" style="background:#90EE90">        2.6.1</span> <a href="#types-representation">Representation of Types</a><br /> <span class="deltaxml-old" style="background:#FF5555">        2.7.2</span><span class="deltaxml-new" style="background:#90EE90">        2.6.2</span> <a href="#types-predefined">Predefined Types</a><br /> <span class="deltaxml-old" style="background:#FF5555">        2.7.3</span><span class="deltaxml-new" style="background:#90EE90">        2.6.3</span> <a href="#types-hierarchy">Type System</a><br /> <span class="deltaxml-old" style="background:#FF5555">        2.7.4</span><span class="deltaxml-new" style="background:#90EE90">        2.6.4</span> <a href="#AtomicValue">Atomic Values</a><br /> <span class="deltaxml-old" style="background:#FF5555">        2.7.5</span><span class="deltaxml-new" style="background:#90EE90">        2.6.5</span> <a href="#StringValue">String Values</a><br /> <span class="deltaxml-old" style="background:#FF5555">        2.7.6</span><span class="deltaxml-new" style="background:#90EE90">    2.7</span> <a href="#NegativeZero"><span class="deltaxml-old" style="background:#FF5555">Negative Zero</span></a><span class="deltaxml-old" style="background:#FF5555">     2.8 </span><a href="#function-items">Function Items</a><br /> 3 <a href="#construction">Data Model Construction</a><br />     3.1 <a href="#const-other">Direct Construction</a><br />     3.2 <a href="#const-infoset">Construction from an Infoset</a><br />     3.3 <a href="#const-psvi">Construction from a PSVI</a><br />         3.3.1 <a href="#PSVI2Types">Mapping PSVI Additions to Node Properties</a><br />             3.3.1.1 <a href="#PSVI2NodeTypes">Element and Attribute Node Type Names</a><br />             3.3.1.2 <a href="#TypedValueDetermination">Typed Value Determination</a><br />             3.3.1.3 <a href="#typed-string-relationships">Relationship Between Typed-Value and String-Value</a><br />             3.3.1.4 <a href="#pattern-facets">Pattern Facets</a><br />         3.3.2 <a href="#dates-and-times">Dates and Times</a><br />         3.3.3 <a href="#qnames-and-notations">QNames and NOTATIONS</a><br /> 4 <a href="#infoset-mapping">Infoset Mapping</a><br /> 5 <a href="#accessors">Accessors</a><br />     5.1 <a href="#dm-attributes">attributes Accessor</a><br />     5.2 <a href="#dm-base-uri">base-uri Accessor</a><br />     5.3 <a href="#dm-children">children Accessor</a><br />     5.4 <a href="#dm-document-uri">document-uri Accessor</a><br />     5.5 <a href="#dm-is-id">is-id Accessor</a><br />     5.6 <a href="#dm-is-idrefs">is-idrefs Accessor</a><br />     5.7 <a href="#dm-namespace-nodes"><span class="deltaxml-old" style="background:#FF5555">namespace-nodes Accessor</span></a><a href="#dm-namespace-bindings"><span class="deltaxml-new" style="background:#90EE90">namespace-bindings Accessor</span></a><br />     5.8 <a href="#dm-nilled"><span class="deltaxml-old" style="background:#FF5555">nilled Accessor</span></a><a href="#dm-namespace-nodes"><span class="deltaxml-new" style="background:#90EE90">namespace-nodes Accessor</span></a><br />     5.9 <a href="#dm-node-kind"><span class="deltaxml-old" style="background:#FF5555">node-kind Accessor</span></a><a href="#dm-nilled"><span class="deltaxml-new" style="background:#90EE90">nilled Accessor</span></a><br />     5.10 <a href="#dm-node-name"><span class="deltaxml-old" style="background:#FF5555">node-name Accessor</span></a><a href="#dm-node-kind"><span class="deltaxml-new" style="background:#90EE90">node-kind Accessor</span></a><br />     5.11 <a href="#dm-parent"><span class="deltaxml-old" style="background:#FF5555">parent Accessor</span></a><a href="#dm-node-name"><span class="deltaxml-new" style="background:#90EE90">node-name Accessor</span></a><br />     5.12 <a href="#dm-string-value"><span class="deltaxml-old" style="background:#FF5555">string-value Accessor</span></a><a href="#dm-parent"><span class="deltaxml-new" style="background:#90EE90">parent Accessor</span></a><br />     5.13 <a href="#dm-type-name"><span class="deltaxml-old" style="background:#FF5555">type-name Accessor</span></a><a href="#dm-string-value"><span class="deltaxml-new" style="background:#90EE90">string-value Accessor</span></a><br />     5.14 <a href="#dm-typed-value"><span class="deltaxml-old" style="background:#FF5555">typed-value Accessor</span></a><a href="#dm-type-name"><span class="deltaxml-new" style="background:#90EE90">type-name Accessor</span></a><br />     5.15 <a href="#dm-unparsed-entity-public-id"><span class="deltaxml-old" style="background:#FF5555">unparsed-entity-public-id Accessor</span></a><a href="#dm-typed-value"><span class="deltaxml-new" style="background:#90EE90">typed-value Accessor</span></a><br />     5.16 <a href="#dm-unparsed-entity-public-id"><span class="deltaxml-new" style="background:#90EE90">unparsed-entity-public-id Accessor</span></a><br /><span class="deltaxml-new" style="background:#90EE90">     5.17 </span><a href="#dm-unparsed-entity-system-id">unparsed-entity-system-id Accessor</a><br /> 6 <a href="#Node">Nodes</a><br />     6.1 <a href="#DocumentNode">Document Nodes</a><br />         6.1.1 <a href="#DocumentNodeOverview">Overview</a><br />         6.1.2 <a href="#DocumentNodeAccessors">Accessors</a><br />         6.1.3 <a href="#const-infoset-document">Construction from an Infoset</a><br />         6.1.4 <a href="#const-psvi-document">Construction from a PSVI</a><br />         6.1.5 <a href="#infoset-mapping-document">Infoset Mapping</a><br />     6.2 <a href="#ElementNode">Element Nodes</a><br />         6.2.1 <a href="#ElementNodeOverview">Overview</a><br />         6.2.2 <a href="#ElementNodeAccessors">Accessors</a><br />         6.2.3 <a href="#const-infoset-element">Construction from an Infoset</a><br />         6.2.4 <a href="#const-psvi-element">Construction from a PSVI</a><br />         6.2.5 <a href="#infoset-mapping-element">Infoset Mapping</a><br />     6.3 <a href="#AttributeNode">Attribute Nodes</a><br />         6.3.1 <a href="#AttributeNodeOverview">Overview</a><br />         6.3.2 <a href="#AttributeNodeAccessors">Accessors</a><br />         6.3.3 <a href="#const-infoset-attribute">Construction from an Infoset</a><br />         6.3.4 <a href="#const-psvi-attribute">Construction from a PSVI</a><br />         6.3.5 <a href="#infoset-mapping-attribute">Infoset Mapping</a><br />     6.4 <a href="#NamespaceNode">Namespace Nodes</a><br />         6.4.1 <a href="#NamespaceNodeOverview">Overview</a><br />         6.4.2 <a href="#NamespaceNodeAccessors">Accessors</a><br />         6.4.3 <a href="#const-infoset-namespace">Construction from an Infoset</a><br />         6.4.4 <a href="#const-psvi-namespace">Construction from a PSVI</a><br />         6.4.5 <a href="#infoset-mapping-namespace">Infoset Mapping</a><br />     6.5 <a href="#ProcessingInstructionNode">Processing Instruction Nodes</a><br />         6.5.1 <a href="#ProcessingInstructionNodeOverview">Overview</a><br />         6.5.2 <a href="#ProcessingInstructionNodeAccessors">Accessors</a><br />         6.5.3 <a href="#const-infoset-pi">Construction from an Infoset</a><br />         6.5.4 <a href="#const-psvi-pi">Construction from a PSVI</a><br />         6.5.5 <a href="#infoset-mapping-processing-instruction">Infoset Mapping</a><br />     6.6 <a href="#CommentNode">Comment Nodes</a><br />         6.6.1 <a href="#CommentNodeOverview">Overview</a><br />         6.6.2 <a href="#CommentNodeAccessors">Accessors</a><br />         6.6.3 <a href="#const-infoset-comment">Construction from an Infoset</a><br />         6.6.4 <a href="#const-psvi-comment">Construction from a PSVI</a><br />         6.6.5 <a href="#infoset-mapping-comment">Infoset Mapping</a><br />     6.7 <a href="#TextNode">Text Nodes</a><br />         6.7.1 <a href="#TextNodeOverview">Overview</a><br />         6.7.2 <a href="#TextNodeAccessors">Accessors</a><br />         6.7.3 <a href="#const-infoset-text">Construction from an Infoset</a><br />         6.7.4 <a href="#const-psvi-text">Construction from a PSVI</a><br />         6.7.5 <a href="#infoset-mapping-text">Infoset Mapping</a><br /> 7 <a href="#conformance">Conformance</a><br /></p><h3><a name="appendices" id="appendices"></a>Appendices</h3><p class="toc">A <a href="#infoset-conformance">XML Information Set Conformance</a><br /> B <a href="#references">References</a><br />     B.1 <a href="#normative-references">Normative References</a><br />     B.2 <a href="#informative-references">Other References</a><br /> C <a href="#xdtschema">Schema for the Extended XS Namespace</a><br /> D <a href="#glossary">Glossary</a> (Non-Normative)<br /> E <a href="#example">Example</a> (Non-Normative)<br /> F <a href="#impl-summary">Implementation-Defined and Implementation-Dependent Items</a> (Non-Normative)<br />     F.1 <a href="#implementation-defined">Implementation-Defined Items</a><br />     F.2 <a href="#implementation-dependent">Implementation-Dependent Items</a><br /> G <a href="#ChangeLog">Change Log</a> (Non-Normative)<br /> H <a href="#accessors-list">Accessor Summary</a> (Non-normative)<br /> I <a href="#infoset-construction-summary">Infoset Construction Summary</a> (Non-normative)<br /> J <a href="#psvi-construction-summary">PSVI Construction Summary</a> (Non-normative)<br /> K <a href="#infoset-mapping-summary">Infoset Mapping Summary</a> (Non-normative)<br /></p></div><hr /><div class="body"><div class="div1"><h2><a name="intro" id="intro"></a>1 Introduction</h2><p>This document defines the XQuery and XPath Data Model 1.1, which is the data model of <a href="#xpath-21">[XML Path Language (XPath) 2.1]</a>, <a href="#xslt-21">[XSL Transformations (XSLT) Version 2.1]</a>, and <a href="#xquery-11">[XQuery 1.1: An XML Query Language]</a></p><p>In this document, examples and material labeled as "Note" are provided for explanatory purposes and are not normative.</p><p>The XQuery and XPath Data Model 1.1 (henceforth "data model") serves two purposes. First, it defines the information contained in the input to an XSLT or XQuery processor. Second, it defines all permissible values of expressions in the XSLT, XQuery, and XPath languages. A language is <em>closed</em> with respect to a data model if the value of every expression in the language is guaranteed to be in the data model. XSLT 2.1, XQuery 1.1, and XPath 2.1 are all closed with respect to the data model.</p><p>The data model is based on the <a href="#xml-infoset">[Infoset]</a> (henceforth "Infoset"), but it requires the following new features to meet the <a href="#xquery-11-requirements">[XQuery 1.1 Requirements]</a>:</p><ul><li><p>Support for XML Schema types. The XML Schema recommendations define features, such as structures (<a href="#xmlschema-1">[Schema Part 1]</a>) and simple data types (<a href="#xmlschema-2">[Schema Part 2]</a>), that extend the XML Information Set with precise type information.</p></li><li><p>Representation of collections of documents and of complex values. (<a href="#xquery-11-requirements">[XQuery 1.1 Requirements]</a>)</p></li><li><p>Support for typed atomic values.</p></li><li><p>Support for ordered, heterogeneous sequences.</p></li></ul><p>As with the Infoset, the XQuery and XPath Data Model 1.1 specifies what information in the documents is accessible, but it does not specify the programming-language interfaces or bindings used to represent or access the data.</p><p>The data model can represent various values including not only the input and the output of a stylesheet or query, but all values of expressions used during the intermediate calculations. Examples include the input document or document repository (represented as a Document Node or a sequence of Document Nodes), the result of a path expression (represented as a sequence of nodes), the result of an arithmetic or a logical expression (represented as an atomic value), a sequence expression resulting in a sequence of items, etc.</p><p>This document provides a precise definition of the properties of nodes in the XQuery and XPath Data Model 1.1, how they are accessed, and how they relate to values in the Infoset and PSVI.</p></div><div class="div1"><h2><a name="concepts" id="concepts"></a>2 Concepts</h2><p>This section outlines a number of general concepts that apply throughout this specification.</p><p>In this document, examples and material labeled as "Note" are provided for explanatory purposes and are not normative.</p><div class="div2"><h3><a name="terminology" id="terminology"></a>2.1 Terminology</h3><p>For a full glossary of terms, see <a href="#glossary"><b>D Glossary</b></a>.</p><p>In this specification the words <strong>must</strong>, <strong>must not</strong>, <strong>should</strong>, <strong>should not</strong>, <strong>may</strong> and <strong>recommended</strong> are to be interpreted as described in <a href="#RFC2119">[RFC 2119]</a>.</p><p>This specification distinguishes between the data model as a general concept and specific items (documents, elements, atomic values, etc.) that are concrete examples of the data model by identifying all concrete examples as <a title="instance of the data model" href="#dt-instance">instances of the data model</a>.</p><p>[<a name="dt-instance" id="dt-instance" title="instance of the data model">Definition</a>: Every <b>instance of the data model</b> is a <a title="sequence" href="#dt-sequence">sequence</a>.]</p><p>[<a name="dt-sequence" id="dt-sequence" title="sequence">Definition</a>: A <b>sequence</b> is an ordered collection of zero or more <a title="item" href="#dt-item">items</a>.] A sequence cannot be a member of a sequence. A single item appearing on its own is modeled as a sequence containing one item. Sequences are defined in <a href="#sequences"><b>2.5 Sequences</b></a>.</p><p>[<a name="dt-item" id="dt-item" title="item">Definition</a>: An <b>item</b> is either a <a title="Node" href="#dt-node">node</a>, a <a title="function item" href="#dt-function-item">function item</a>, or an <a title="atomic value" href="#dt-atomic-value">atomic value</a>.]</p><p>[<a name="dt-root-node" id="dt-root-node" title="item">Definition</a>: The topmost node of a tree is called the <b>root node</b>.]</p><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>Thus the root node is merely a designator, based on position, for one of the nodes in the tree without implying what kind of a node it is. In the XPath 1.0 datamodel the root node was a kind of node.</p></td></tr></table></blockquote><p>Every node is one of the seven kinds of nodes defined in <a href="#Node"><b>6 Nodes</b></a>. Nodes form a tree that consists of a root node plus all the nodes that are reachable directly or indirectly from the root node via the <span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span>, <span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span>, and <span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span> accessors. Every node belongs to exactly one tree, and every tree has exactly one root node.</p><p>[<a name="dt-document" id="dt-document" title="document">Definition</a>: A tree whose root node is a Document Node is referred to as a <b>document</b>.]</p><p>[<a name="dt-fragment" id="dt-fragment" title="fragment">Definition</a>: A tree whose root node is not a Document Node is referred to as a <b>fragment</b>.]</p><p>[<a name="dt-atomic-value" id="dt-atomic-value" title="atomic value">Definition</a>: An <b>atomic value</b> is a value in the value space of an <a title="atomic type" href="#dt-atomic-type">atomic type</a> and is labeled with the name of that atomic type.]</p><p>[<a name="dt-atomic-type" id="dt-atomic-type" title="atomic type">Definition</a>: An <b>atomic type</b> is a <a title="primitive simple type" href="#dt-primitive-simple-type">primitive simple type</a> or a type derived by restriction from another atomic type.] (Types derived by list or union are not atomic.)</p><p><span style="display: none;" class="delete_version">[<a name="dt-primitive-simple-type" id="dt-primitive-simple-type" title="primitive simple type">Definition</a>: There are 21 <b>primitive simple types</b>: the 19 defined in <a href="http://www.w3.org/TR/xmlschema-2/#built-in-primitive-datatypes">Section 3.2 Primitive datatypes</a><sup><small>XS2</small></sup> of <a href="#xmlschema-2">[Schema Part 2]</a> and <code>xs:untypedAtomic</code> and <code>xs:anyAtomicType</code>], defined in <a href="#types"><b>2.7 Types</b></a>.</span><span style="display: none;" class="add_version">[<a name="dt-primitive-simple-type" id="dt-primitive-simple-type" title="primitive simple type">Definition</a>: There are 21 <b>primitive simple types</b>: the 19 defined in <a href="http://www.w3.org/TR/xmlschema-2/#built-in-primitive-datatypes">Section 3.2 Primitive datatypes</a><sup><small>XS2</small></sup> of <a href="#xmlschema-2">[Schema Part 2]</a> and <code>xs:untypedAtomic</code> and <code>xs:anyAtomicType</code>], defined in <a href="#types"><b>2.6 Types</b></a>.</span><span class="modify_version">[<a name="dt-primitive-simple-type" id="dt-primitive-simple-type" title="primitive simple type">Definition</a>: There are 21 <b>primitive simple types</b>: the 19 defined in <a href="http://www.w3.org/TR/xmlschema-2/#built-in-primitive-datatypes">Section 3.2 Primitive datatypes</a><sup><small>XS2</small></sup> of <a href="#xmlschema-2">[Schema Part 2]</a> and <code>xs:untypedAtomic</code> and <code>xs:anyAtomicType</code>], defined in <a href="#types"><b><span class="deltaxml-old" style="background:#FF5555">2.7 Types</span></b></a><a href="#types"><b><span class="deltaxml-new" style="background:#90EE90">2.6 Types</span></b></a>.</span></p><p>A type is represented in the data model by an <a title="expanded-QName" href="#dt-expanded-qname">expanded-QName</a>.</p><p>[<a name="dt-expanded-qname" id="dt-expanded-qname" title="expanded-QName">Definition</a>: An <b>expanded-QName</b> is a set of three values consisting of a possibly empty prefix, a possibly empty namespace URI, and a local name.] See <a href="#qnames-and-notations"><b>3.3.3 QNames and NOTATIONS</b></a>.</p><p>[<a name="dt-implementation-defined" id="dt-implementation-defined" title="implementation defined">Definition</a>: <b>Implementation-defined</b> indicates an aspect that may differ between implementations, but must be specified by the implementor for each particular implementation.]</p><p>[<a name="dt-implementation-dependent" id="dt-implementation-dependent" title="implementation dependent">Definition</a>: <b>Implementation-dependent</b> indicates an aspect that may differ between implementations, is not specified by this or any W3C specification, and is not required to be specified by the implementor for any particular implementation.]</p><p><span class="deltaxml-old" style="background:#FF5555">[</span><a name="dt-absent" id="dt-absent" title="absent"><span class="deltaxml-old" style="background:#FF5555">Definition</span></a><span class="deltaxml-old" style="background:#FF5555">: In certain situations a value is said to be </span><b><span class="deltaxml-old" style="background:#FF5555">absent</span></b><span class="deltaxml-old" style="background:#FF5555"> (for example, the namespace URI of a node name when the node is not in any namespace). This term indicates that the property in question has no value.]</span></p><p><span class="deltaxml-new" style="background:#90EE90">[</span><a name="dt-undefined" id="dt-undefined" title="undefined"><span class="deltaxml-new" style="background:#90EE90">Definition</span></a><span class="deltaxml-new" style="background:#90EE90">: In certain situations a value is said to be </span><b><span class="deltaxml-new" style="background:#90EE90">undefined</span></b><span class="deltaxml-new" style="background:#90EE90"> (for example, the typed value of an element node). This term indicates that the property in question has no value and that any attempt to use its value results in an error.]</span></p><p>Within this specification, the term URI refers to a Universal Resource Identifier as defined in <a href="#RFC3986">[RFC 3986]</a> and extended in <a href="#RFC3987">[RFC 2987]</a> with the new name IRI. The term URI has been retained in preference to IRI to avoid introducing new names for concepts such as “Base URI” that are defined or referenced across the whole family of XML specifications.</p><p>In all cases where this specification leaves the behavior implementation-defined or implementation-dependent, the implementation has the option of providing mechanisms that allow the user to influence the behavior.</p></div><div class="div2"><h3><a name="notation" id="notation"></a>2.2 Notation</h3><p>In addition to prose, this specification defines a set of accessor functions to explain the data model. The accessors are shown with the prefix <em>dm:</em>. This prefix is always shown in italics to emphasize that these functions are abstract; they exist to explain the interface between the data model and specifications that rely on the data model: they are not accessible directly from the host language.</p><p>Several prefixes are used throughout this document for notational convenience. The following bindings are assumed.</p><ol class="enumar"><li><p><code>xs:</code> bound to <code>http://www.w3.org/2001/XMLSchema</code></p></li><li><p><code>xsi:</code> bound to <code>http://www.w3.org/2001/XMLSchema-instance</code></p></li><li><p><code>fn:</code> bound to <code>http://www.w3.org/2005/xpath-functions</code></p></li></ol><p>In practice, any prefix that is bound to the appropriate URI may be used.</p><p><span style="display: none;" class="delete_version">The signature of accessor functions is shown using the same style as <a href="#xpath-functions-11">[XQuery and XPath Functions and Operators 1.1]</a>, described in <a href="http://www.w3.org/TR/xpath-functions-11/#func-signatures">Section 1.4 Function Signatures and Descriptions</a><sup><small>FO11</small></sup>.</span><span style="display: none;" class="add_version">The signature of accessor functions is shown using the same style as <a href="#xpath-functions-11">[XQuery and XPath Functions and Operators 1.1]</a>, described in <a href="http://www.w3.org/TR/xpath-functions/#func-signatures">Section 1.4 Function Signatures and Descriptions</a><sup><small>FO</small></sup>.</span><span class="modify_version">The signature of accessor functions is shown using the same style as <a href="#xpath-functions-11">[XQuery and XPath Functions and Operators 1.1]</a>, described in <a href="http://www.w3.org/TR/xpath-functions/#func-signatures">Section 1.4 Function Signatures and Descriptions</a><sup><small><span class="deltaxml-old" style="background:#FF5555">FO11</span><span class="deltaxml-new" style="background:#90EE90">FO</span></small></sup>.</span></p><p>This document relies on the <a href="#xml-infoset">[Infoset]</a> and <a href="http://www.w3.org/TR/xmlschema-1/#key-psvi">Post-Schema-Validation Infoset</a> (PSVI). Information items and properties are indicated by the styles <b class="info-item">information item</b> and <b class="infoset-property">[infoset property]</b>, respectively.</p><p>Some aspects of type assignment rely on the ability to access properties of the schema components. Such properties are indicated by the style {component property}. Note that this does not mean a lightweight schema processor cannot be used, it only means that the application must have some mechanism to access the necessary properties.</p></div><div class="div2"><h3><a name="node-identity" id="node-identity"></a>2.3 Node Identity</h3><p>Each node has a unique identity. Every <a title="Node" href="#dt-node">node</a> in an instance of the data model is unique: identical to itself, and not identical to any other node. (<a title="atomic value" href="#dt-atomic-value">Atomic values</a> do not have identity; every instance of the value “5” as an integer is identical to every other instance of the value “5” as an integer.)</p><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>The concept of node identity should not be confused with the concept of a unique ID, which is a unique name assigned to an element by the author to represent references using ID/IDREF correlation.</p></td></tr></table></blockquote></div><div class="div2"><h3><a name="document-order" id="document-order"></a>2.4 Document Order</h3><p>[<a name="dt-document-order" id="dt-document-order" title="document order">Definition</a>: A <b>document order</b> is defined among all the nodes accessible during a given query or transformation. Document order is a total ordering, although the relative order of some nodes is implementation-dependent. Informally, document order is the order in which nodes appear in the XML serialization of a document.] [<a name="dt-stable" id="dt-stable" title="stable">Definition</a>: Document order is <b>stable</b>, which means that the relative order of two nodes will not change during the processing of a given query or transformation, even if this order is implementation-dependent.]</p><p>Within a tree, document order satisfies the following constraints:</p><ol class="enumar"><li><p>The root node is the first node.</p></li><li><p>Every node occurs before all of its children and descendants.</p></li><li><p>Namespace Nodes immediately follow the Element Node with which they are associated. The relative order of Namespace Nodes is stable but implementation-dependent.</p></li><li><p>Attribute Nodes immediately follow the Namespace Nodes of the element with which they are associated. If there are no Namespace Nodes associated with a given element, then the Attribute Nodes associated with that element immediately follow the element. The relative order of Attribute Nodes is stable but implementation-dependent.</p></li><li><p>The relative order of siblings is the order in which they occur in the <b class="dm-node-prop">children</b> property of their parent node.</p></li><li><p>Children and descendants occur before following siblings.</p></li></ol><p>The relative order of nodes in distinct trees is stable but implementation-dependent, subject to the following constraint: If any node in a given tree, <code>T1</code>, occurs before any node in a different tree, <code>T2</code>, then all nodes in <code>T1</code> are before all nodes in <code>T2</code>.</p></div><div class="div2"><h3><a name="sequences" id="sequences"></a>2.5 Sequences</h3><p>An important characteristic of the data model is that there is no distinction between an item (a node, function item, or atomic value) and a singleton sequence containing that item. An item is equivalent to a singleton sequence containing that item and vice versa.</p><p>A sequence may contain any mixture of nodes, function items, and atomic values. When a node is added to a sequence its identity remains the same. Consequently a node may occur in more than one sequence and a sequence may contain duplicate items.</p><p>Sequences never contain other sequences; if sequences are combined, the result is always a “flattened” sequence. In other words, appending “(d e)” to “(a b c)” produces a sequence of length 5: “(a b c d e)”. It <em>does not</em> produce a sequence of length 4: “(a b c (d e))”, such a nested sequence never occurs.</p><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>Sequences replace node-sets from XPath 1.0. In XPath 1.0, node-sets do not contain duplicates. In generalizing node-sets to sequences in XPath 2.0, duplicate removal is provided by functions on node sequences.</p></td></tr></table></blockquote></div><div class="div2"><h3><a name="namespace-names" id="namespace-names"></a><span class="deltaxml-old" style="background:#FF5555">2.6 Namespace Names</span></h3><p><span class="deltaxml-old" style="background:#FF5555">The specifications </span><a href="#xml-names"><span class="deltaxml-old" style="background:#FF5555">[Namespaces in XML]</span></a><span class="deltaxml-old" style="background:#FF5555"> and </span><a href="#xml-names11"><span class="deltaxml-old" style="background:#FF5555">[Namespaces in XML 1.1]</span></a><span class="deltaxml-old" style="background:#FF5555"> introduce the concept of a namespace name. In </span><a href="#xml-names"><span class="deltaxml-old" style="background:#FF5555">[Namespaces in XML]</span></a><span class="deltaxml-old" style="background:#FF5555"> a namespace name is required to be a URI; in </span><a href="#xml-names11"><span class="deltaxml-old" style="background:#FF5555">[Namespaces in XML 1.1]</span></a><span class="deltaxml-old" style="background:#FF5555"> it is required to be an IRI; but both specifications explicitly do not require a processor to check that namespace names appearing in an instance document are in fact valid URIs or IRIs.</span></p><p><span class="deltaxml-old" style="background:#FF5555">[</span><a name="dt-namespace-uri" id="dt-namespace-uri" title="Namespace URI"><span class="deltaxml-old" style="background:#FF5555">Definition</span></a><span class="deltaxml-old" style="background:#FF5555">: This specification uses the term </span><b><span class="deltaxml-old" style="background:#FF5555">Namespace URI</span></b><span class="deltaxml-old" style="background:#FF5555"> to refer to a namespace name, whether or not it is a valid URI or IRI]. Following the lead of </span><a href="#xml-names"><span class="deltaxml-old" style="background:#FF5555">[Namespaces in XML]</span></a><span class="deltaxml-old" style="background:#FF5555"> and </span><a href="#xml-names11"><span class="deltaxml-old" style="background:#FF5555">[Namespaces in XML 1.1]</span></a><span class="deltaxml-old" style="background:#FF5555">, processors implementing this data model </span><strong><span class="deltaxml-old" style="background:#FF5555">may</span></strong><span class="deltaxml-old" style="background:#FF5555"> raise an error if a namespace name is not a valid URI or IRI (depending on whether they support </span><a href="#xml-names"><span class="deltaxml-old" style="background:#FF5555">[Namespaces in XML]</span></a><span class="deltaxml-old" style="background:#FF5555"> or </span><a href="#xml-names11"><span class="deltaxml-old" style="background:#FF5555">[Namespaces in XML 1.1]</span></a><span class="deltaxml-old" style="background:#FF5555">), but they are </span><em><span class="deltaxml-old" style="background:#FF5555">not required</span></em><span class="deltaxml-old" style="background:#FF5555"> to make any checks. Note that the use of a relative reference as a namespace name is deprecated and is defined to be meaningless, but it is not an error. Namespace names, whatever form they take, are treated as character strings and compared for equality using codepoint-by-codepoint comparison, subject only to whitespace normalization if they appear in a context (for example, within an attribute value) where this is appropriate.</span></p><p><span class="deltaxml-old" style="background:#FF5555">In some interfaces, namespace names are held as values of type </span><code><span class="deltaxml-old" style="background:#FF5555">xs:anyURI</span></code><span class="deltaxml-old" style="background:#FF5555">. For example, the namespace part of an expanded QName is defined to be a value of type </span><code><span class="deltaxml-old" style="background:#FF5555">xs:anyURI</span></code><span class="deltaxml-old" style="background:#FF5555">. In </span><a href="#xmlschema-2"><span class="deltaxml-old" style="background:#FF5555">[Schema Part 2]</span></a><span class="deltaxml-old" style="background:#FF5555">, the type </span><code><span class="deltaxml-old" style="background:#FF5555">xs:anyURI</span></code><span class="deltaxml-old" style="background:#FF5555"> imposes some restrictions on the value space, but there is latitude for implementors to decide exactly what these restrictions are. In </span><a href="#xmlschema11-2"><span class="deltaxml-old" style="background:#FF5555">[Schema 1.1 Part 2]</span></a><span class="deltaxml-old" style="background:#FF5555"> there are no restrictions on the form of an </span><code><span class="deltaxml-old" style="background:#FF5555">xs:anyURI</span></code><span class="deltaxml-old" style="background:#FF5555"> value, so any sequence of characters is acceptable within the value space. In this and related specifications, the use of the type </span><code><span class="deltaxml-old" style="background:#FF5555">xs:anyURI</span></code><span class="deltaxml-old" style="background:#FF5555"> to hold a namespace name does not imply any restrictions on the value space beyond those described in this section: implementations </span><strong><span class="deltaxml-old" style="background:#FF5555">may</span></strong><span class="deltaxml-old" style="background:#FF5555"> reject character strings that are not valid URIs or IRIs, but they are </span><em><span class="deltaxml-old" style="background:#FF5555">not required</span></em><span class="deltaxml-old" style="background:#FF5555"> to do so.</span></p></div><div class="div2"><h3><a name="types" id="types"></a><span class="deltaxml-old" style="background:#FF5555">2.7 Types</span></h3><h3><a name="types" id="types"></a><span class="deltaxml-new" style="background:#90EE90">2.6 Types</span></h3><p>The data model supports strongly typed languages such as <a href="#xpath-21">[XML Path Language (XPath) 2.1]</a> and <a href="#xquery-11">[XQuery 1.1: An XML Query Language]</a> that have a type system based on <a href="#xmlschema-1">[Schema Part 1]</a>. The type system is formally defined in <a href="#xquery-semantics">[XQuery 1.0 and XPath 2.0 Formal Semantics]</a>.</p><p>Every <a title="item" href="#dt-item">item</a> in the data model has both a value and a type. In addition to nodes, the data model can represent atomic values like the number 5 or the string “Hello World.” For each of these atomic values, the data model contains both the value of the item (such as 5 or “Hello World”) and its type name (such as <code>xs:integer</code> or <code>xs:string</code>).</p><div class="div3"><h4><a name="types-representation" id="types-representation"></a><span class="deltaxml-old" style="background:#FF5555">2.7.1</span><span class="deltaxml-new" style="background:#90EE90">2.6.1</span> Representation of Types</h4><p>The data model uses <a title="expanded-QName" href="#dt-expanded-qname">expanded-QNames</a> to represent the names of schema types, which include the built-in types defined by <a href="#xmlschema-2">[Schema Part 2]</a>, five additional types defined by this specification, and may include other user- or implementation-defined types.</p><p>For XML Schema types, the namespace name of the expanded-QName is the {target namespace} property of the type definition, and its local name is the {name} property of the type definition.</p><p>The data model relies on the fact that an expanded-QName uniquely identifies every named type. Although it is possible for different schemas to define different types with the same expanded-QName, at most one of them can be used in any given validation episode. The data model cannot support environments where different types with the same expanded-QName are available.</p><p>For anonymous types, the processor <strong>must</strong> construct an <a title="anonymous type name" href="#dt-anonymous-type-name">anonymous type name</a> that is distinct from the name of every named type and the name of every other anonymous type. [<a name="dt-anonymous-type-name" id="dt-anonymous-type-name" title="anonymous type name">Definition</a>: An <b>anonymous type name</b> is an implementation dependent, unique type name provided by the processor for every anonymous type declared in the schemas available.] Anonymous type names <strong>must</strong> be globally unique across all anonymous types that are accessible to the processor. In the formalism of this specification, the anonymous type names are assumed to be <code>xs:QNames</code>, but in practice implementations are not required to use <code>xs:QNames</code> to represent the implementation-dependent names of anonymous types.</p><p>The scope over which the names of anonymous types must be meaningful and distinct is depends on the processing context. It is the responsibility of the host language to define the size and scope of the processing context.</p><p>The data model does not represent element or attribute declaration schema components, but it supports various type-related operations. The semantics of other operations, for example, checking if a particular instance of an Element Node has a given schema type is defined in <a href="#xquery-semantics">[XQuery 1.0 and XPath 2.0 Formal Semantics]</a>.</p></div><div class="div3"><h4><a name="types-predefined" id="types-predefined"></a><span class="deltaxml-old" style="background:#FF5555">2.7.2</span><span class="deltaxml-new" style="background:#90EE90">2.6.2</span> Predefined Types</h4><p>In addition to the 19 types defined in <a href="http://www.w3.org/TR/xmlschema-2/#built-in-primitive-datatypes">Section 3.2 Primitive datatypes</a><sup><small>XS2</small></sup> of <a href="#xmlschema-2">[Schema Part 2]</a>, the data model defines five additional types: <code>xs:anyAtomicType</code>, <code>xs:untyped</code>, <code>xs:untypedAtomic</code>, <code>xs:dayTimeDuration</code>, and <code>xs:yearMonthDuration</code>. These types are defined in the XML Schema namespace with permission of the XML Schema Working Group, which is expected to add them to some future version of XML Schema.</p><dl><dt class="label"><a name="untyped" id="untyped"></a><code>xs:untyped</code></dt><dd><p>The datatype <b>xs:untyped</b> denotes the dynamic type of an element node that has not been validated, or has been validated in skip mode. No predefined types are derived from xs:untyped.</p></dd><dt class="label"><a name="untypedAtomic" id="untypedAtomic"></a><code>xs:untypedAtomic</code></dt><dd><p>The datatype <b>xs:untypedAtomic</b> denotes untyped atomic data, such as text that has not been assigned a more specific type. An attribute that has been validated in skip mode is represented in the Data Model by an attribute node with the type <code>xs:untypedAtomic</code>. No predefined types are derived from <code>xs:untypedAtomic</code>.</p></dd><dt class="label"><a name="anyAtomicType" id="anyAtomicType"></a><code>xs:anyAtomicType</code></dt><dd><p>The datatype <b>xs:anyAtomicType</b> is an atomic type that includes all atomic values (and no values that are not atomic). Its base type is <code>xs:anySimpleType</code> from which all simple types, including atomic, list, and union types are derived. All primitive atomic types, such as <code>xs:decimal</code> and <code>xs:string</code>, have <code>xs:anyAtomicType</code> as their base type.</p></dd><dt class="label"><a name="dayTimeDuration" id="dayTimeDuration"></a><code>xs:dayTimeDuration</code></dt><dd><p>The type <code>xs:dayTimeDuration</code> is derived from <code>xs:duration</code> by restricting its lexical representation to contain only the days, hours, minutes and seconds components. The value space of <code>xs:dayTimeDuration</code> is the set of fractional second values. The components of <code>xs:dayTimeDuration</code> correspond to the day, hour, minute and second components defined in Section 5.5.3.2 of <a href="#ISO8601">[ISO 8601]</a>. An <code>xs:dayTimeDuration</code> is derived from <code>xs:duration</code> as follows:</p><div class="exampleInner"><pre xml:space="preserve">
&lt;xs:simpleType name='dayTimeDuration'&gt;
  &lt;xs:restriction base='xs:duration'&gt;
    &lt;xs:pattern value="[^YM]*[DT].*"/&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;
</pre></div></dd><dt class="label"><a name="yearMonthDuration" id="yearMonthDuration"></a><code>xs:yearMonthDuration</code></dt><dd><p>The type <code>xs:yearMonthDuration</code> is derived from <code>xs:duration</code> by restricting its lexical representation to contain only the year and month components. The value space of <code>xs:yearMonthDuration</code> is the set of <code>xs:integer</code> month values. The year and month components of <code>xs:yearMonthDuration</code> correspond to the Gregorian year and month components defined in section 5.5.3.2 of <a href="#ISO8601">[ISO 8601]</a>, respectively.</p><p>The type <code>xs:yearMonthDuration</code> is derived from <code>xs:duration</code> as follows:</p><div class="exampleInner"><pre xml:space="preserve">
&lt;xs:simpleType name='yearMonthDuration'&gt;
  &lt;xs:restriction base='xs:duration'&gt;
    &lt;xs:pattern value="[^DT]*"/&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;
</pre></div></dd></dl><p>A schema for these types is provided in <a href="#xdtschema"><b>C Schema for the Extended XS Namespace</b></a>.</p></div><div class="div3"><h4><a name="types-hierarchy" id="types-hierarchy"></a><span class="deltaxml-old" style="background:#FF5555">2.7.3 Type System</span></h4><h4><a name="types-hierarchy" id="types-hierarchy"></a><span class="deltaxml-new" style="background:#90EE90">2.6.3 Type System</span></h4><p>The diagrams below show how nodes, function items, <a title="primitive simple type" href="#dt-primitive-simple-type">primitive simple types</a>, and user defined types fit together into a type system. This type system comprises two distinct hierarchies that both include the primitive simple types. In the diagrams, connecting lines represent relationships between derived types and the types from which they are derived; the arrowheads point toward the type from which they are derived. The dashed line represents relationships not present in this diagram, but that appear in one of the other diagrams. Dotted lines represent additional relationships that follow an evident pattern. The information that appears in each diagram is recapitulated in tabular form.</p><p>The <code>xs:IDREFS</code>, <code>xs:NMTOKENS</code>, and <code>xs:ENTITIES</code> types and the <code>user-defined list and union types</code> are special types in that these types are lists or unions rather than types derived by extension or restriction.</p><p>The first diagram and its corresponding table illustrate the "item" type hierarchy. In XDM, items include node types, function types, and built-in atomic types.</p><img src="XPathTypeHierarchy-1-items.png" alt="Type hierarchy graphic, item hierarchy" /><p>In the table, each type whose name is indented is derived from the type whose name appears nearest above it with one less level of indentation.</p><table class="hierarchy" summary="Type summary" border="0"><tbody><tr><td class="castOther" align="left" valign="middle">item</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyAtomicType</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">node</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">attribute</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">user-defined attribute types</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">comment</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">document</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">user-defined document types</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">element</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">user-defined element types</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>processing-instruction</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">text</td></tr></tbody></table><p>The next diagram and table illustrate the "any type" type hierarchy, in which all types are derived from distinguished type <code>xs:anyType</code>.</p><img src="XPathTypeHierarchy-2-anyTypes.png" alt="Type hierarchy graphic, anyType hierarchy" /><p>In the table, each type whose name is indented is derived from the type whose name appears nearest above it with one less level of indentation.</p><table class="hierarchy" summary="Type summary" border="0"><tbody><tr><td class="castOther" align="left" valign="middle">xs:anyType</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">user-defined complex types</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:untyped</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anySimpleType</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">user-defined list and union types</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:IDREFS</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:NMTOKENS</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:ENTITIES</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyAtomicType</td></tr></tbody></table><p>The final diagram and table show all of the atomic types, including the primitive simple types and the built-in types derived from the primitive simple types. This includes all the built-in datatypes defined in <a href="#xmlschema-2">[Schema Part 2]</a> as well as the two totally ordered subtypes of duration defined in <a href="#types"><b><span class="deltaxml-old" style="background:#FF5555">2.7 Types</span></b></a><a href="#types"><b><span class="deltaxml-new" style="background:#90EE90">2.6 Types</span></b></a>.</p><img src="XPathTypeHierarchy-3-anyAtomicTypes.png" alt="Type hierarchy graphic, anyAtomicType hierarchy" /><p>In the table, each type whose name is indented is derived from the type whose name appears nearest above it with one less level of indentation.</p><table class="hierarchy" summary="Type summary" border="0"><tbody><tr><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:untypedAtomic</td></tr><tr><td class="castOther" align="left" valign="middle">xs:dateTime</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:dateTimeStamp</td></tr><tr><td class="castOther" align="left" valign="middle">xs:date</td></tr><tr><td class="castOther" align="left" valign="middle">xs:time</td></tr><tr><td class="castOther" align="left" valign="middle">xs:duration</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:yearMonthDuration</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:dayTimeDuration</td></tr><tr><td class="castOther" align="left" valign="middle">xs:float</td></tr><tr><td class="castOther" align="left" valign="middle">xs:double</td></tr><tr><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:precisionDecimal</td></tr><tr><td class="castOther" align="left" valign="middle">xs:decimal</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:integer</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:nonPositiveInteger</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:negativeInteger</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:long</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:int</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:short</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:byte</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:nonNegativeInteger</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:unsignedLong</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:unsignedInt</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:unsignedShort</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:unsignedByte</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:positiveInteger</td></tr><tr><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:gYearMonth</td></tr><tr><td class="castOther" align="left" valign="middle">xs:gYear</td></tr><tr><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:gMonthDay</td></tr><tr><td class="castOther" align="left" valign="middle">xs:gDay</td></tr><tr><td class="castOther" align="left" valign="middle">xs:gMonth</td></tr><tr><td class="castOther" align="left" valign="middle">xs:string</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:normalizedString</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:token</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:language</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:NMTOKEN</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:Name</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:NCName</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:ID</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:IDREF</td></tr><tr><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle"></td><td class="castOther" align="left" valign="middle">xs:ENTITY</td></tr><tr><td class="castOther" align="left" valign="middle">xs:boolean</td></tr><tr><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:base64Binary</td></tr><tr><td class="castOther" valign="middle" align="left"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:hexBinary</td></tr><tr><td class="castOther" align="left" valign="middle">xs:anyURI</td></tr><tr><td class="castOther" align="left" valign="middle">xs:QName</td></tr><tr><td class="castOther" align="left" valign="middle">xs:NOTATION</td></tr></tbody></table></div><div class="div3"><h4><a name="AtomicValue" id="AtomicValue"></a><span class="deltaxml-old" style="background:#FF5555">2.7.4</span><span class="deltaxml-new" style="background:#90EE90">2.6.4</span> Atomic Values</h4><p><span style="display: none;" class="delete_version">An atomic value can be constructed from a lexical representation. Given a string and an atomic type, the atomic value is constructed in such a way as to be <a href="#typed-string-relationships">consistent with schema validation</a>. If the string does not represent a valid value of the type, an error is raised. When <code>xs:untypedAtomic</code> is specified as the type, no validation takes place. The details of the construction are described in <a href="http://www.w3.org/TR/xpath-functions-11/#constructor-functions">Section 5 Constructor Functions</a><sup><small>FO11</small></sup> and the related <a href="http://www.w3.org/TR/xpath-functions-11/#casting">Section 17 Casting</a><sup><small>FO11</small></sup> section of <a href="#xpath-functions-11">[XQuery and XPath Functions and Operators 1.1]</a>.</span><span style="display: none;" class="add_version">An atomic value can be constructed from a lexical representation. Given a string and an atomic type, the atomic value is constructed in such a way as to be <a href="#typed-string-relationships">consistent with schema validation</a>. If the string does not represent a valid value of the type, an error is raised. When <code>xs:untypedAtomic</code> is specified as the type, no validation takes place. The details of the construction are described in <a href="http://www.w3.org/TR/xpath-functions/#constructor-functions">Section 5 Constructor Functions</a><sup><small>FO</small></sup> and the related <a href="http://www.w3.org/TR/xpath-functions/#casting">Section 17 Casting</a><sup><small>FO</small></sup> section of <a href="#xpath-functions-11">[XQuery and XPath Functions and Operators 1.1]</a>.</span><span class="modify_version">An atomic value can be constructed from a lexical representation. Given a string and an atomic type, the atomic value is constructed in such a way as to be <a href="#typed-string-relationships">consistent with schema validation</a>. If the string does not represent a valid value of the type, an error is raised. When <code>xs:untypedAtomic</code> is specified as the type, no validation takes place. The details of the construction are described in <a href="http://www.w3.org/TR/xpath-functions/#constructor-functions">Section 5 Constructor Functions</a><sup><small><span class="deltaxml-old" style="background:#FF5555">FO11</span><span class="deltaxml-new" style="background:#90EE90">FO</span></small></sup> and the related <a href="http://www.w3.org/TR/xpath-functions/#casting">Section 17 Casting</a><sup><small><span class="deltaxml-old" style="background:#FF5555">FO11</span><span class="deltaxml-new" style="background:#90EE90">FO</span></small></sup> section of <a href="#xpath-functions-11">[XQuery and XPath Functions and Operators 1.1]</a>.</span></p></div><div class="div3"><h4><a name="StringValue" id="StringValue"></a><span class="deltaxml-old" style="background:#FF5555">2.7.5</span><span class="deltaxml-new" style="background:#90EE90">2.6.5</span> String Values</h4><p><span style="display: none;" class="delete_version">A string value can be constructed from an atomic value. Such a value is constructed by converting the atomic value to its string representation as described in <a href="http://www.w3.org/TR/xpath-functions-11/#casting">Section 17 Casting</a><sup><small>FO11</small></sup>. Using the canonical lexical representation for atomic values is not always compatible with XPath 1.0. These and other backwards incompatibilities are described in <a href="http://www.w3.org/TR/xpath-21/#id-backwards-compatibility">Section I Backwards Compatibility with XPath 1.0 (Non-Normative)</a><sup><small>XP21</small></sup>.</span><span style="display: none;" class="add_version">A string value can be constructed from an atomic value. Such a value is constructed by converting the atomic value to its string representation as described in <a href="http://www.w3.org/TR/xpath-functions/#casting">Section 17 Casting</a><sup><small>FO</small></sup>. Using the canonical lexical representation for atomic values is not always compatible with XPath 1.0. These and other backwards incompatibilities are described in <a href="http://www.w3.org/TR/xpath20/#id-backwards-compatibility">Section I Backwards Compatibility with XPath 1.0 (Non-Normative)</a><sup><small>XP</small></sup>.</span><span class="modify_version">A string value can be constructed from an atomic value. Such a value is constructed by converting the atomic value to its string representation as described in <a href="http://www.w3.org/TR/xpath-functions/#casting">Section 17 Casting</a><sup><small><span class="deltaxml-old" style="background:#FF5555">FO11</span><span class="deltaxml-new" style="background:#90EE90">FO</span></small></sup>. Using the canonical lexical representation for atomic values is not always compatible with XPath 1.0. These and other backwards incompatibilities are described in <a href="http://www.w3.org/TR/xpath20/#id-backwards-compatibility">Section I Backwards Compatibility with XPath 1.0 (Non-Normative)</a><sup><small><span class="deltaxml-old" style="background:#FF5555">XP21</span><span class="deltaxml-new" style="background:#90EE90">XP</span></small></sup>.</span></p></div><div class="div3"><h4><a name="NegativeZero" id="NegativeZero"></a><span class="deltaxml-old" style="background:#FF5555">2.7.6 Negative Zero</span></h4><p><span class="deltaxml-old" style="background:#FF5555">The </span><code><span class="deltaxml-old" style="background:#FF5555">xs:float</span></code><span class="deltaxml-old" style="background:#FF5555"> and </span><code><span class="deltaxml-old" style="background:#FF5555">xs:double</span></code><span class="deltaxml-old" style="background:#FF5555"> data types in the data model have the same value space as in XML Schema 1.1 (</span><a href="#xmlschema11-2"><span class="deltaxml-old" style="background:#FF5555">[Schema 1.1 Part 2]</span></a><span class="deltaxml-old" style="background:#FF5555">). Specifically they include both negative and positive zero, and in this respect they differ from XML Schema 1.0.</span></p><p><span class="deltaxml-old" style="background:#FF5555">To accommodate this difference, when converting from an </span><code><span class="deltaxml-old" style="background:#FF5555">xs:string</span></code><span class="deltaxml-old" style="background:#FF5555"> to an </span><code><span class="deltaxml-old" style="background:#FF5555">xs:float</span></code><span class="deltaxml-old" style="background:#FF5555"> or </span><code><span class="deltaxml-old" style="background:#FF5555">xs:double</span></code><span class="deltaxml-old" style="background:#FF5555">, it is implementation-defined whether the lexical value “-0” (and similar forms such as “-0.0”) convert to negative zero or to positive zero in the value space.</span></p></div></div><div class="div2"><h3><a name="function-items" id="function-items"></a><span class="deltaxml-old" style="background:#FF5555">2.8</span><span class="deltaxml-new" style="background:#90EE90">2.7</span> Function Items</h3><p>[<a name="dt-function-item" id="dt-function-item" title="function item">Definition</a>: A <b>function item</b> is a value that represents a function.] [<a name="dt-invoke" id="dt-invoke" title="invoke">Definition</a>: Function items can be <b>invoked</b>, which is the act of calling the function that the function item represents.] Function items have no identity, cannot be compared, and have no serialization.</p><p>A function item consists of the following information:</p><ul><li><p>The set of variable values for the variables referenced by the function.</p></li><li><p>The name of the function as a <code>xs:QName</code>. This is potentially absent.</p></li><li><p>The signature of the function item. [<a name="dt-signature" id="dt-signature" title="function signature">Definition</a>: A <b>function signature</b> represents the type of a <a title="function item" href="#dt-function-item">function item</a>, and is a <b>TypedFunctionTest</b>, a type of <b>SequenceType</b> (<a href="http://www.w3.org/TR/xpath-21/#id-sequencetype-syntax">Section 2.5.3 SequenceType Syntax</a><sup><small>XP21</small></sup>). A <b>function signature</b> has one <b>SequenceType</b> for each parameter, and one <b>SequenceType</b> for the result of the function item.]</p></li><li><p>The function itself.</p></li></ul><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>The combination of the variable values needed to execute a function and the function itself are often called a <b>closure</b>.</p></td></tr></table></blockquote><p>The space of all possible <a title="function signature" href="#dt-signature">function signatures</a> forms a hierarchy of function types. All function types are a subtype of <code>function(*)</code>, which is itself a subtype of <code>item()</code>. Subtypes of <code>function(*)</code> are partitioned into discrete types, each representing <a title="function item" href="#dt-function-item">function items</a> that accept a particular number of arguments. Function types which have the same arity can be subtypes of each other based on their argument and return types. This subtype relationship is defined in <a href="http://www.w3.org/TR/xpath-21/#id-sequencetype-subtype">Section 2.5.5 SequenceType Subtype Relationships</a><sup><small>XP21</small></sup>. For example:</p><ul><li><p><code>function(item()) as item()</code> is a subtype of <code>function(*)</code></p></li><li><p><code>function(item()) as xs:integer</code> is a subtype of <code>function(item()) as item()</code></p></li><li><p><code><span class="deltaxml-old" style="background:#FF5555">function(xs:string) as item()</span></code><span class="deltaxml-old" style="background:#FF5555"> is a subtype of </span><code><span class="deltaxml-old" style="background:#FF5555">function(item()) as item()</span></code></p><p><code><span class="deltaxml-new" style="background:#90EE90">function(item()) as item()</span></code><span class="deltaxml-new" style="background:#90EE90"> is a subtype of </span><code><span class="deltaxml-new" style="background:#90EE90">function(xs:string) as item()</span></code></p></li></ul></div></div><div class="div1"><h2><a name="construction" id="construction"></a>3 Data Model Construction</h2><p>This section describes the constraints on instances of the data model.</p><p>The data model supports well-formed XML documents conforming to <a href="#xml-names">[Namespaces in XML]</a> or <a href="#xml-names11">[Namespaces in XML 1.1]</a>. Documents that are not well-formed are, by definition, not XML. XML documents that do not conform to <a href="#xml-names">[Namespaces in XML]</a> or <a href="#xml-names11">[Namespaces in XML 1.1]</a> are not supported (nor are they supported by <a href="#xml-infoset">[Infoset]</a>).</p><p>In other words, the data model supports the following classes of XML documents:</p><ul><li><p>Well-formed documents conforming to <a href="#xml-names">[Namespaces in XML]</a> or <a href="#xml-names11">[Namespaces in XML 1.1]</a>.</p></li><li><p>DTD-valid documents conforming to <a href="#xml-names">[Namespaces in XML]</a> or <a href="#xml-names11">[Namespaces in XML 1.1]</a>, and</p></li><li><p>W3C XML Schema-validated documents.</p></li></ul><p>This document describes how to construct an instance of the data model from an infoset (<a href="#xml-infoset">[Infoset]</a>) or a Post Schema Validation Infoset (PSVI), the augmented infoset produced by an XML Schema validation episode.</p><p>An instance of the data model can also be constructed directly through application APIs, or from non-XML sources such as relational tables in a database. Regardless of how an instance of the data model is constructed, every node and atomic value in the data model must have a typed-value that is consistent with its type.</p><p>The data model supports some kinds of values that are not supported by <a href="#xml-infoset">[Infoset]</a>. Examples of these are <a title="fragment" href="#dt-fragment">document fragments</a> and sequences of Document Nodes. The data model also supports values that are not nodes. Examples of these are sequences of <a title="atomic value" href="#dt-atomic-value">atomic values</a>, or sequences mixing nodes and atomic values. These are necessary to be able to represent the results of intermediate expressions in the data model during expression processing.</p><div class="div2"><h3><a name="const-other" id="const-other"></a>3.1 Direct Construction</h3><p>Although this document describes construction of an instance of the data model in terms of infoset properties, an infoset is not a necessary precondition for building an instance of the data model.</p><p>There are no constraints on how an instance of the data model may be constructed directly, save that the resulting instance <strong>must</strong> satisfy all of the constraints described in this document.</p></div><div class="div2"><h3><a name="const-infoset" id="const-infoset"></a>3.2 Construction from an Infoset</h3><p>An instance of the data model can be constructed from an infoset that satisfies the following general constraints:</p><ul><li><p>All general and external parsed entities must be fully expanded. The Infoset must not contain any <b class="info-item">unexpanded entity reference information items</b>.</p></li><li><p>The infoset <strong>must</strong> provide all of the properties identified as "required" in this document. The properties identified as "optional" may be used, if they are present. All other properties are ignored.</p></li></ul><p>An instance of the data model constructed from an information set <strong>must</strong> be consistent with the description provided for each node kind.</p></div><div class="div2"><h3><a name="const-psvi" id="const-psvi"></a>3.3 Construction from a PSVI</h3><p>An instance of the data model can be constructed from a PSVI, whose element and attribute information items have been strictly assessed, laxly assessed, or have not been assessed. Constructing an instance of the data model from a PSVI <strong>must</strong> be consistent with the description provided in this section and with the description provided for each node kind.</p><p>Data model construction requires that the PSVI provide unique names for all anonymous schema types.</p><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p><a href="#xmlschema-1">[Schema Part 1]</a> does not require all schema processors to provide unique names for anonymous schema types. In order to build an instance of the data model from a PSVI produced by a processor that does not provide the names, some post-processing will be required in order to assure that they are all uniquely identified before construction begins.</p></td></tr></table></blockquote><p>[<a name="dt-incompletely-validated" id="dt-incompletely-validated" title="incompletely validated">Definition</a>: An <b>incompletely validated</b> document is an XML document that has a corresponding schema but whose schema-validity assessment has resulted in one or more element or attribute information items being assigned values other than 'valid' for the <b class="infoset-property">[validity]</b> property in the PSVI.]</p><p>The data model supports incompletely validated documents. Elements and attributes that are not valid are treated as having unknown types.</p><p>The most significant difference between Infoset construction and PSVI construction occurs in the area of schema type assignment. Other differences can also arise from schema processing: default attribute and element values may be provided, white space normalization of element content may occur, and the user-supplied lexical form of elements and attributes with atomic schema types may be lost.</p><div class="div3"><h4><a name="PSVI2Types" id="PSVI2Types"></a>3.3.1 Mapping PSVI Additions to Node Properties</h4><p>A PSVI element or attribute information item may have a <b class="infoset-property">[validity]</b> property. The <b class="infoset-property">[validity]</b> property may be "<em>valid</em>", "<em>invalid</em>", or "<em>notKnown</em>" and reflects the outcome of schema-validity assessment. In the data model, precise schema type information is exposed for Element and Attribute Nodes that are "<em>valid</em>". Nodes that are not "<em>valid</em>" are treated as if they were simply well-formed XML and only very general schema type information is associated with them.</p><div class="div4"><h5><a name="PSVI2NodeTypes" id="PSVI2NodeTypes"></a>3.3.1.1 Element and Attribute Node Type Names</h5><p>The precise definition of the schema type of an element or attribute information item depends on the properties of the PSVI. In the PSVI, <a href="#xmlschema-1">[Schema Part 1]</a> defines a <b class="infoset-property">[type definition]</b> property as well as the <b class="infoset-property">[type definition namespace]</b>, <b class="infoset-property">[type definition name]</b> and <b class="infoset-property">[type definition anonymous]</b> properties, which are effectively short-cut terms for properties of the type definition. Further, the <b class="infoset-property">[element declaration]</b> and <b class="infoset-property">[attribute declaration]</b> properties are defined for elements and attributes, respectively. These declarations in turn will identify the <b class="infoset-property">[type definition]</b> declared for the element or attribute. To distinguish the <b class="infoset-property">[type definition]</b> given in the PSVI for the element or attribute instance from the <b class="infoset-property">[type definition]</b> associated with the declaration, the former is referred to below as the actual type and the latter as the declared type of the element or attribute instance in question.</p><p>The type depends on the declared type, the actual type, and the <b class="infoset-property">[validity]</b> and <b class="infoset-property">[validation attempted]</b> properties in the PSVI. If:</p><ul><li><p>The <b class="infoset-property">[validity]</b> and <b class="infoset-property">[validation attempted]</b> properties exist and have the values "<em>valid</em>" and "<em>full</em>", respectively, the schema type of an element or attribute information item is represented by an <a title="expanded-QName" href="#dt-expanded-qname">expanded-QName</a> whose namespace and local name correspond to the first applicable items in the following list:</p><ul><li><p>If the declared type exists and is a union and the actual type is (not the same as the declared type, and not a type derived from the declared type, but) one of the member types of the union, or derived from one of its member types:</p><ul><li><p>If the {name} property of the declared type is present: the {target namespace} and {name} properties of the declared type.</p></li><li><p>If the {name} property of the declared type is absent: the namespace and local name of the anonymous type name supplied for the declared type.</p></li></ul></li><li><p>If there is no declared type, and the actual type is a union, then:</p><ul><li><p>If the {name} property of the actual type is present: the {target namespace} and {name} properties of the actual type.</p></li><li><p>If the {name} property of the actual type is absent: the namespace and local name of the anonymous type name supplied for the actual type.</p></li></ul></li><li><p>Otherwise:</p><ul><li><p>If <b class="infoset-property">[type definition anonymous]</b> is false: the {target namespace} and {name} properties of the actual type.</p></li><li><p>If <b class="infoset-property">[type definition anonymous]</b> is true: the namespace and local name of the anonymous type name supplied for the actual type.</p></li></ul></li></ul></li><li><p>The <b class="infoset-property">[validity]</b> property exists and is "<em>invalid</em>", or the <b class="infoset-property">[validation attempted]</b> property exists and is "<em>partial</em>", the schema type of an element is <code>xs:anyType</code> and the type of an attribute is <code>xs:anySimpleType</code>.</p></li><li><p><span class="deltaxml-old" style="background:#FF5555">The </span><b class="infoset-property"><span class="deltaxml-old" style="background:#FF5555">[validity]</span></b><span class="deltaxml-old" style="background:#FF5555"> property exists and is "</span><em><span class="deltaxml-old" style="background:#FF5555">notKnown</span></em><span class="deltaxml-old" style="background:#FF5555">", the schema type of an element is </span><code><span class="deltaxml-old" style="background:#FF5555">xs:anyType</span></code><span class="deltaxml-old" style="background:#FF5555"> and the type of an attribute is </span><code><span class="deltaxml-old" style="background:#FF5555">xs:anySimpleType</span></code><span class="deltaxml-old" style="background:#FF5555">.</span></p><p><span class="deltaxml-new" style="background:#90EE90">The </span><b class="infoset-property"><span class="deltaxml-new" style="background:#90EE90">[validity]</span></b><span class="deltaxml-new" style="background:#90EE90"> property exists and is "</span><em><span class="deltaxml-new" style="background:#90EE90">notKnown</span></em><span class="deltaxml-new" style="background:#90EE90">", and the </span><b class="infoset-property"><span class="deltaxml-new" style="background:#90EE90">[validation attempted]</span></b><span class="deltaxml-new" style="background:#90EE90"> property exists and is "</span><em><span class="deltaxml-new" style="background:#90EE90">none</span></em><span class="deltaxml-new" style="background:#90EE90">", the schema type of an element is </span><code><span class="deltaxml-new" style="background:#90EE90">xs:untyped</span></code><span class="deltaxml-new" style="background:#90EE90"> and the type of an attribute is </span><code><span class="deltaxml-new" style="background:#90EE90">xs:untypedAtomic</span></code><span class="deltaxml-new" style="background:#90EE90">.</span></p></li><li><p>The <b class="infoset-property">[validity]</b> or <b class="infoset-property">[validation attempted]</b> properties do not exist, the schema type of an element is <code>xs:untyped</code> and the type of an attribute is <code>xs:untypedAtomic</code>.</p></li></ul><p>The prefix associated with the type names is implementation-dependent.</p></div><div class="div4"><h5><a name="TypedValueDetermination" id="TypedValueDetermination"></a>3.3.1.2 Typed Value Determination</h5><p>This section describes how the typed value of an Element or Attribute Node is computed from an element or attribute PSVI information item, where the information item has either a simple type or a complex type with simple content. For other kinds of Element Nodes, see <a href="#const-psvi-element"><b>6.2.4 Construction from a PSVI</b></a>; for other kinds of Attribute Nodes, see <a href="#const-psvi-attribute"><b>6.3.4 Construction from a PSVI</b></a>.</p><p>The typed value of Attribute Nodes and some Element Nodes is a sequence of atomic values. The types of the items in the typed value of a node may differ from the type of the node itself. This section describes how the typed value of a node is derived from the properties of an information item in a PSVI.</p><p>The types of the items in the typed value of a node are determined as follows. The process begins with a type, <code>T</code>. If the schema type of the node itself, as represented in the PSVI, is a complex type with simple content, then <code>T</code> is the {content type} of the schema type of the node; otherwise, <code>T</code> is the schema type of the node itself. For each primitive or ordinary simple type <code>T</code>, the W3C XML Schema specification defines a function <code>M</code> mapping the lexical representation of a value onto the value itself.</p><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>For atomic and list types, the mapping is the “lexical mapping” defined for <code>T</code> in <a href="#xmlschema-2">[Schema Part 2]</a>; for union types, the mapping is the lexical mapping defined in <a href="#xmlschema-2">[Schema Part 2]</a> modified as appropriate by any applicable rules in <a href="#xmlschema-1">[Schema Part 1]</a>. The mapping, so modified, is a function (in the mathematical sense) which maps to a single value even in cases where the lexical mapping proper maps to multiple values.</p></td></tr></table></blockquote><p>The typed value is determined as follows:</p><ul><li><p>If the <b class="dm-node-prop">nilled</b> property of the node in question is <code>true</code>, then the typed value is the empty sequence.</p></li><li><p>If <code>T</code> is <code>xs:anySimpleType</code> or <code>xs:anyAtomicType</code>, the typed value is the <b class="infoset-property">[schema normalized value]</b> as an instance of <code>xs:untypedAtomic</code>.</p></li><li><p>Otherwise, the typed value is the result of applying <code>M</code> to the string value as an instance of the appropriate value type, where the appropriate value type is the <b class="infoset-property">[member type definition]</b> if <code>T</code> is a union type, otherwise it is simply <code>T</code>.</p></li></ul><p>The typed value determination process is guaranteed to result in a sequence of atomic values, each having a well-defined atomic type. This sequence of atomic values, in turn, determines the typed-value property of the node in the data model.</p></div><div class="div4"><h5><a name="typed-string-relationships" id="typed-string-relationships"></a>3.3.1.3 Relationship Between Typed-Value and String-Value</h5><p>Element and attribute nodes have both typed-value and string-value properties. However, implementations are allowed some flexibility in how these properties are stored. An implementation may choose to store the string-value only and derive the typed-value from it, or to store the typed-value only and derive the string-value from it, or to store both the string-value and the typed-value.</p><p>In order to permit these various implementation strategies, some variations in the string value of a node are defined as insignificant. Implementations that store only the typed value of a node are permitted to return a string value that is different from the original lexical form of the node content. For example, consider the following element:</p><div class="exampleInner"><pre xml:space="preserve">
&lt;offset xsi:type="xs:integer"&gt;0030&lt;/offset&gt;
</pre></div><p>Assuming that the node is valid, it has a typed value of 30 as an <code>xs:integer</code>. An implementation may return either "30" or "0030" as the string value of the node. Any string that is a valid lexical representation of the typed value is acceptable. In this specification, we express this rule by saying that the relationship between the string value of a node and its typed value must be "consistent with schema validation."</p><p>If an implementation stores only the string-value of a node, the following considerations apply:</p><ul><li><p>Where union types occur, the implementation must be able to deliver the typed-value as an instance of the appropriate member type. For example, if the type an element node is my:integer-or-string, which is defined as a union of xs:integer and xs:string, and the string-value of the node is "47", the implementation must be able to deliver the typed-value of the node as either the integer 47 or the string "47", depending on which member type validated the element.</p></li><li><p>Where types of <code>xs:QName</code>, <code>xs:NOTATION</code>, or types derived from one of these types occur, the implementation must be able to deliver the typed-value as a triple including a local name, a namespace prefix, and a namespace URI, even though the namespace URI is not part of the string-value (see <a href="#qnames-and-notations"><b>3.3.3 QNames and NOTATIONS</b></a>).</p></li><li><p>Where an element with a complex type and element-only content occurs, it is an error to attempt to access the typed-value of the Element Node.</p></li></ul><p>If an implementation stores only the typed-value of a node, it must be prepared to construct string values from not only the node, but in some cases also the descendants of that node. For example, an element with a complex type and element-only content has no typed-value but does have a string-value that is the concatenation of the string-values of all its Text Node descendants in document order.</p><p><span class="deltaxml-old" style="background:#FF5555">A further caveat applies if an implementation stores the typed value of a node. If a new data model is constructed by copying portions of another data model, and the copy operation does not preserve inherited namespaces, and the type is a union type that is sensitive to the namespace context, then the typed value may be different than what would be obtained by revalidating the node within its new namespace context. Although this may stretch the semantics of “consistent with schema validation”, we accept this possibility; it is not an error.</span></p></div><div class="div4"><h5><a name="pattern-facets" id="pattern-facets"></a>3.3.1.4 Pattern Facets</h5><p><span style="display: none;" class="delete_version">Creating a subtype by restriction generally reduces the <em>value</em> space of the original schema type. For example, expressing a hat size as a restriction of decimal with a minimum value of 6.5 and maximum value of 8.0 creates a schema type whose allowed values are only those in the range 6.5 to 8.0.</span><span style="display: none;" class="add_version">Creating a subtype by restriction generally reduces the <em>value</em> space of the original schema type. For example, expressing a hat size as a restriction of decimal with a minimum value of 6.5 and maximum value of 8.0 creates a schema type whose legal values are only those in the range 6.5 to 8.0.</span><span class="modify_version">Creating a subtype by restriction generally reduces the <em>value</em> space of the original schema type. For example, expressing a hat size as a restriction of decimal with a minimum value of 6.5 and maximum value of 8.0 creates a schema type whose <span class="deltaxml-old" style="background:#FF5555">allowed</span><span class="deltaxml-new" style="background:#90EE90">legal</span> values are only those in the range 6.5 to 8.0.</span></p><p><span style="display: none;" class="delete_version">The pattern facet is different because it restricts the <em>lexical</em> space of the schema type, not its value space. Expressing a three-digit number as a restriction of integer with the pattern facet “[0-9]{3}” creates a schema type whose allowed values are only those with a lexical form consisting of three digits.</span><span style="display: none;" class="add_version">The pattern facet is different because it restricts the <em>lexical</em> space of the schema type, not its value space. Expressing a three-digit number as a restriction of integer with the pattern facet “[0-9]{3}” creates a schema type whose legal values are only those with a lexical form consisting of three digits.</span><span class="modify_version">The pattern facet is different because it restricts the <em>lexical</em> space of the schema type, not its value space. Expressing a three-digit number as a restriction of integer with the pattern facet “[0-9]{3}” creates a schema type whose <span class="deltaxml-old" style="background:#FF5555">allowed</span><span class="deltaxml-new" style="background:#90EE90">legal</span> values are only those with a lexical form consisting of three digits.</span></p><p>The pattern facet is not reversible in practice. A given point in the value space might have several lexical representations. In general, there's no practical way to determine which, if any, of these representations satisfies the pattern facet of the type.</p><p>As a consequence, pattern facets are not respected when mapping to an Infoset or during serialization and values in the data model that were originally valid with respect to a schema that contains pattern-based restrictions may be invalid after serialization.</p></div></div><div class="div3"><h4><a name="dates-and-times" id="dates-and-times"></a>3.3.2 Dates and Times</h4><p>The date and time types require special attention. This section applies to implementations that store the typed value of <code>xs:dateTime</code>, <code>xs:date</code>, <code>xs:time</code>, <code>xs:gYearMonth</code>, <code>xs:gYear</code>, <code>xs:gMonthDay</code>, <code>xs:gMonth</code>, <code>xs:gDay</code>, and types that are derived from them. These are known collectively as the date/time types in this specification.</p><p>The values of the date/time types are represented in the data model using seven components:</p><dl><dt class="label">year</dt><dd><p>An <code>xs:integer</code>.</p></dd><dt class="label">month</dt><dd><p>An <code>xs:integer</code> between 1 and 12, inclusive.</p></dd><dt class="label">day</dt><dd><p>An <code>xs:integer</code> between 1 and 31, inclusive, possibly restricted further depending on the values of month and year.</p></dd><dt class="label">hour</dt><dd><p>An <code>xs:integer</code> between 0 and 23, inclusive.</p></dd><dt class="label">minute</dt><dd><p>An <code>xs:integer</code> between 0 and 59, inclusive.</p></dd><dt class="label"><a name="tuple-timezone" id="tuple-timezone"></a>second</dt><dd><p>An <code>xs:decimal</code> greater than or equal to zero and less than 60. Leap seconds are not supported.</p></dd><dt class="label">timezone</dt><dd><p>An <code>xs:dayTimeDuration</code> between -PT14H00M and PT14H00M, inclusive. All timezone values must be an integral number of minutes.</p></dd></dl><p>Components that are intrinsic to the datatype (for example, day, month, and year in a <code>xs:date</code>) are required; components that can never be part of a datatype (for example, years in a <code>xs:time</code>) must be missing. Missing components are represented by the empty sequence. When a component is present, it contains the “local value” that has not been normalized in any way. The timezone component is optional for all the date/time datatypes.</p><p>Thus, the lexical <code>xs:dateTime</code> representation “<code>2003-01-02T11:30:00-05:00</code>” is stored as “<code>{2003, 1, 2, 11, 30, 0.0, -PT05H00M}</code>”. The value of the lexical representation “<code>2003-01-16T16:30:00</code>” is stored as “<code>{2003, 1, 16, 16, 30, 0, ()}</code>” because it has no timezone. The value of the lexical <code>xs:gDay</code> representation “<code>---30+10:30</code>” is stored as “<code>{(), (), 30, (), (), (), PT10H30M}</code>”.</p><p>The lexical form “<code>24:00:00</code>” is normalized in the component model. As a <code>xs:time</code>, it is stored as “<code>{(), (), (), 0, 0, 0.0, ()}</code>” and the <code>xs:dateTime</code> representation “<code>1999-12-31T24:00:00</code>” is stored as “<code>{2000, 1, 1, 0, 0, 0.0, ()}</code>”.</p><p>Note: Implementations are permitted to store date/time values in any representation that's convenient for them, provided that the individual properties can be accessed and modified.</p></div><div class="div3"><h4><a name="qnames-and-notations" id="qnames-and-notations"></a>3.3.3 QNames and NOTATIONS</h4><p>The <code>QName</code> and <code>NOTATION</code> data types require special attention. The following sections apply to <code>xs:QName</code>, <code>xs:NOTATION</code>, and types derived from them. These types are referred to collectively as “qualified names”.</p><p>As defined in XML Schema, the lexical space for qualified names includes a local name and an optional namespace prefix. The value space for qualified names contains a local name and an optional namespace URI. Therefore, it is not possible to derive a lexical value from the typed value, or vice versa, without access to some context that defines the namespace bindings.</p><p>When qualified names exist as values of nodes in a well-formed document, it is always possible to determine such a namespace context. However, the data model also allows qualified names to exist as freestanding atomic values, or as the name or value of a parentless attribute node, and in these cases no namespace context is available.</p><p>In this Data Model, therefore, the value space for qualified names contains a local-name, an optional namespace URI, and an optional prefix. The prefix is used only when producing a lexical representation of the value, that is, when casting the value to a string. The prefix plays no part in other operations involving qualified names: in particular, two qualified names are equal if their local names and namespace URIs match, regardless whether they have the same prefix.</p><p>The following consistency constraints apply:</p><ul><li><p>If the namespace URI of a qualified name is absent, then the prefix must also be absent.</p></li><li><p>For every element node whose name has a prefix, the prefix must be one that has a binding to the namespace URI of the element name in the namespaces property of the element.</p></li><li><p>For every element node whose name has no prefix, the element must have a a binding for the empty prefix to the namespace URI of the element name, or must have no binding for the empty prefix in the case where the name of the element has no namespace URI.</p></li><li><p>For every attribute node whose name has a prefix, the attribute node must either be parentless, or the prefix must be one that has a binding to the namespace URI of the attribute name in the namespaces property of the parent element.</p></li><li><p>For every qualified name that contains a prefix and that is included in the typed value of an element node, or of an attribute node that has an element node as its parent, the prefix must be one that is bound to the namespace URI of the qualified name in the namespaces property of that element.</p></li><li><p>For every qualified name that contains a namespace URI and no prefix, and that is included in the typed value of an element node, or of an attribute node that has an element node as its parent, that element node must have a binding for the empty prefix to that namespace URI in its namespace property.</p></li><li><p>For every qualified name that contains neither a namespace URI nor a prefix, and that is included in the typed value of an element node, or of an attribute node that has an element node as its parent, that node must not have a binding for the empty prefix.</p></li><li><p>No qualified name that contains a prefix may be included in the typed value of an attribute node that has no parent.</p></li></ul></div></div></div><div class="div1"><h2><a name="infoset-mapping" id="infoset-mapping"></a>4 Infoset Mapping</h2><p>This specification describes how to map each kind of node to the corresponding information item. This mapping produces an Infoset; it does not and cannot produce a PSVI. Validation must be used to obtain a PSVI for a (portion of a) data model instance.</p></div><div class="div1"><h2><a name="accessors" id="accessors"></a>5 Accessors</h2><p>A set of accessors is defined on <a href="#Node">nodes</a> in the data model. For consistency, all the accessors are defined on every kind of node, although several accessors return a constant empty sequence on some kinds of nodes.</p><p>In order for processors to be able to operate on instances of the data model, the model must expose the properties of the items it contains. The data model does this by defining a family of accessor functions. These are not functions in the literal sense; they are not available for users or applications to call directly. Rather they are descriptions of the information that an implementation of the data model must expose to applications. Functions and operators available to end-users are described in <a href="#xpath-functions-11">[XQuery and XPath Functions and Operators 1.1]</a>.</p><p><span class="deltaxml-new" style="background:#90EE90">Some typed values in the data model are </span><a title="undefined" href="#dt-undefined"><span class="deltaxml-new" style="background:#90EE90">undefined</span></a><span class="deltaxml-new" style="background:#90EE90">. Attempting to access an undefined property is always an error. Behavior in these cases is implementation-defined and the host language is responsible for determining the result.</span></p><div class="div2"><h3><a name="dm-attributes" id="dm-attributes"></a>5.1 <code>attributes</code> Accessor</h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>attributes</code>(<code class="arg">$n</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">attribute()*</code></div></div><p>The <span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span> accessor returns the attributes of a node as a sequence containing zero or more Attribute Nodes. The order of Attribute Nodes is stable but implementation dependent.</p><p>It is defined on <a href="#acc-summ-attributes">all seven</a> node kinds.</p></div><div class="div2"><h3><a name="dm-base-uri" id="dm-base-uri"></a>5.2 <code>base-uri</code> Accessor</h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>base-uri</code>(<code class="arg">$n</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">xs:anyURI?</code></div></div><p>The <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> accessor returns the base URI of a node as a sequence containing zero or one URI reference. For more information about base URIs, see <a href="#xmlbase">[XML Base]</a>.</p><p>It is defined on <a href="#acc-summ-base-uri">all seven</a> node kinds.</p></div><div class="div2"><h3><a name="dm-children" id="dm-children"></a>5.3 <code>children</code> Accessor</h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>children</code>(<code class="arg">$n</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">node()*</code></div></div><p>The <span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span> accessor returns the children of a node as a sequence containing zero or more nodes.</p><p>It is defined on <a href="#acc-summ-children">all seven</a> node kinds.</p></div><div class="div2"><h3><a name="dm-document-uri" id="dm-document-uri"></a>5.4 <code>document-uri</code> Accessor</h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>document-uri</code>(<code class="arg">$node</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">xs:anyURI?</code></div></div><p>The <span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span> accessor returns the absolute URI of the resource from which the Document Node was constructed, if the absolute URI is available. If there is no URI available, or if it cannot be made absolute when the Document Node is constructed, or if it is used on a node other than a Document Node, the empty sequence is returned.</p><p>It is defined on <a href="#acc-summ-document-uri">all seven</a> node kinds.</p></div><div class="div2"><h3><a name="dm-is-id" id="dm-is-id"></a>5.5 <code>is-id</code> Accessor</h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>is-id</code>(<code class="arg">$node</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">xs:boolean?</code></div></div><p>The <span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span> accessor returns true if the node is an XML ID. Exactly what constitutes an ID depends in part on how the data model was constructed, see <a href="#ElementNode"><b>6.2 Element Nodes</b></a> and <a href="#AttributeNode"><b>6.3 Attribute Nodes</b></a>.</p><p>It is defined on <a href="#acc-summ-is-id">all seven</a> node kinds.</p></div><div class="div2"><h3><a name="dm-is-idrefs" id="dm-is-idrefs"></a>5.6 <code>is-idrefs</code> Accessor</h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>is-idrefs</code>(<code class="arg">$node</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">xs:boolean?</code></div></div><p>The <span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span> accessor returns true if the node is an XML IDREF or IDREFS. Exactly what constitutes an IDREF or IDREFS depends in part on how the data model was constructed, see <a href="#ElementNode"><b>6.2 Element Nodes</b></a> and <a href="#AttributeNode"><b>6.3 Attribute Nodes</b></a>.</p><p>It is defined on <a href="#acc-summ-is-idrefs">all seven</a> node kinds.</p></div><div class="div2"><h3><a name="dm-namespace-bindings" id="dm-namespace-bindings"></a><span class="deltaxml-new" style="background:#90EE90">5.7 </span><code><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></code><span class="deltaxml-new" style="background:#90EE90"> Accessor</span></h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></code><span class="deltaxml-new" style="background:#90EE90">(</span><code class="arg"><span class="deltaxml-new" style="background:#90EE90">$node</span></code><code class="as"><span class="deltaxml-new" style="background:#90EE90"> as </span></code><code class="type"><span class="deltaxml-new" style="background:#90EE90">node()</span></code><span class="deltaxml-new" style="background:#90EE90">)</span><code class="as"><span class="deltaxml-new" style="background:#90EE90"> as </span></code><code class="return-type"><span class="deltaxml-new" style="background:#90EE90">xs:string*</span></code></div></div><p><span class="deltaxml-new" style="background:#90EE90">The </span><span class="function"><a href="#dm-namespace-bindings"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></a></span><span class="deltaxml-new" style="background:#90EE90"> accessor returns the dynamic, in-scope namespaces associated with a node as a set of prefix/URI pairs, using an implementation-dependent representation.</span></p><p><span class="deltaxml-new" style="background:#90EE90">The prefix for the default namespace is the zero length string.</span></p><p><span class="deltaxml-new" style="background:#90EE90">The </span><span class="function"><a href="#dm-namespace-bindings"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></a></span><span class="deltaxml-new" style="background:#90EE90"> accessor is defined on </span><a href="#acc-summ-namespace-bindings"><span class="deltaxml-new" style="background:#90EE90">all seven</span></a><span class="deltaxml-new" style="background:#90EE90"> node kinds.</span></p><p><span class="deltaxml-new" style="background:#90EE90">Note: this accessor and the </span><code><span class="deltaxml-new" style="background:#90EE90">namespace-nodes</span></code><span class="deltaxml-new" style="background:#90EE90"> accessor provide two views of the same information.</span></p></div><div class="div2"><h3><span style="display: none;" class="delete_version"><a name="dm-namespace-nodes" id="dm-namespace-nodes"></a>5.7 <code>namespace-nodes</code> Accessor</span><span style="display: none;" class="add_version"><a name="dm-namespace-nodes" id="dm-namespace-nodes"></a>5.8 <code>namespace-nodes</code> Accessor</span><span class="modify_version"><a name="dm-namespace-nodes" id="dm-namespace-nodes"></a><span class="deltaxml-old" style="background:#FF5555">5.7</span><span class="deltaxml-new" style="background:#90EE90">5.8</span> <code>namespace-nodes</code> Accessor</span></h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>namespace-nodes</code>(<code class="arg">$n</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">node()*</code></div></div><p>The <span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span> accessor returns the dynamic, in-scope namespaces associated with a node as a sequence containing zero or more Namespace Nodes. The order of Namespace Nodes is stable but implementation dependent.</p><p>It is defined on <a href="#acc-summ-namespace-nodes">all seven</a> node kinds.</p><p><span class="deltaxml-new" style="background:#90EE90">Note: this accessor and the </span><code><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></code><span class="deltaxml-new" style="background:#90EE90"> accessor provide two views of the same information. Implementations that do not need to expose Namespace Nodes might choose not to implement this accessor.</span></p></div><div class="div2"><h3><span style="display: none;" class="delete_version"><a name="dm-nilled" id="dm-nilled"></a>5.8 <code>nilled</code> Accessor</span><span style="display: none;" class="add_version"><a name="dm-nilled" id="dm-nilled"></a>5.9 <code>nilled</code> Accessor</span><span class="modify_version"><a name="dm-nilled" id="dm-nilled"></a><span class="deltaxml-old" style="background:#FF5555">5.8</span><span class="deltaxml-new" style="background:#90EE90">5.9</span> <code>nilled</code> Accessor</span></h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>nilled</code>(<code class="arg">$n</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">xs:boolean?</code></div></div><p>The <span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span> accessor returns true if the node is "nilled". <a href="#xmlschema-1">[Schema Part 1]</a> introduced the nilled mechanism to signal that an element should be accepted as valid when it has no content even when it has a content type which does not require or even necessarily allow empty content.</p><p>It is defined on <a href="#acc-summ-nilled">all seven</a> node kinds.</p></div><div class="div2"><h3><span style="display: none;" class="delete_version"><a name="dm-node-kind" id="dm-node-kind"></a>5.9 <code>node-kind</code> Accessor</span><span style="display: none;" class="add_version"><a name="dm-node-kind" id="dm-node-kind"></a>5.10 <code>node-kind</code> Accessor</span><span class="modify_version"><a name="dm-node-kind" id="dm-node-kind"></a><span class="deltaxml-old" style="background:#FF5555">5.9</span><span class="deltaxml-new" style="background:#90EE90">5.10</span> <code>node-kind</code> Accessor</span></h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>node-kind</code>(<code class="arg">$n</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">xs:string</code></div></div><p>The <span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span> accessor returns a string identifying the kind of node. It will be one of the following, depending on the kind of node: “attribute”, “comment”, “document”, “element”, “namespace” “processing-instruction”, or “text”.</p><p>It is defined on <a href="#acc-summ-node-kind">all seven</a> node kinds.</p></div><div class="div2"><h3><span style="display: none;" class="delete_version"><a name="dm-node-name" id="dm-node-name"></a>5.10 <code>node-name</code> Accessor</span><span style="display: none;" class="add_version"><a name="dm-node-name" id="dm-node-name"></a>5.11 <code>node-name</code> Accessor</span><span class="modify_version"><a name="dm-node-name" id="dm-node-name"></a><span class="deltaxml-old" style="background:#FF5555">5.10</span><span class="deltaxml-new" style="background:#90EE90">5.11</span> <code>node-name</code> Accessor</span></h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>node-name</code>(<code class="arg">$n</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">xs:QName?</code></div></div><p>The <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span> accessor returns the name of the node as a sequence of zero or one <code>xs:QName</code>s. Note that the QName value includes an optional prefix as described in <a href="#qnames-and-notations"><b>3.3.3 QNames and NOTATIONS</b></a>.</p><p>It is defined on <a href="#acc-summ-node-name">all seven</a> node kinds.</p></div><div class="div2"><h3><span style="display: none;" class="delete_version"><a name="dm-parent" id="dm-parent"></a>5.11 <code>parent</code> Accessor</span><span style="display: none;" class="add_version"><a name="dm-parent" id="dm-parent"></a>5.12 <code>parent</code> Accessor</span><span class="modify_version"><a name="dm-parent" id="dm-parent"></a><span class="deltaxml-old" style="background:#FF5555">5.11</span><span class="deltaxml-new" style="background:#90EE90">5.12</span> <code>parent</code> Accessor</span></h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>parent</code>(<code class="arg">$n</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">node()?</code></div></div><p>The <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span> accessor returns the parent of a node as a sequence containing zero or one nodes.</p><p>It is defined on <a href="#acc-summ-parent">all seven</a> node kinds.</p></div><div class="div2"><h3><span style="display: none;" class="delete_version"><a name="dm-string-value" id="dm-string-value"></a>5.12 <code>string-value</code> Accessor</span><span style="display: none;" class="add_version"><a name="dm-string-value" id="dm-string-value"></a>5.13 <code>string-value</code> Accessor</span><span class="modify_version"><a name="dm-string-value" id="dm-string-value"></a><span class="deltaxml-old" style="background:#FF5555">5.12</span><span class="deltaxml-new" style="background:#90EE90">5.13</span> <code>string-value</code> Accessor</span></h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>string-value</code>(<code class="arg">$n</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">xs:string</code></div></div><p>The <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> accessor returns the string value of a node.</p><p>It is defined on <a href="#acc-summ-string-value">all seven</a> node kinds.</p></div><div class="div2"><h3><span style="display: none;" class="delete_version"><a name="dm-type-name" id="dm-type-name"></a>5.13 <code>type-name</code> Accessor</span><span style="display: none;" class="add_version"><a name="dm-type-name" id="dm-type-name"></a>5.14 <code>type-name</code> Accessor</span><span class="modify_version"><a name="dm-type-name" id="dm-type-name"></a><span class="deltaxml-old" style="background:#FF5555">5.13</span><span class="deltaxml-new" style="background:#90EE90">5.14</span> <code>type-name</code> Accessor</span></h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>type-name</code>(<code class="arg">$n</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">xs:QName?</code></div></div><p>The <span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span> accessor returns the name of the schema type of a node as a sequence of zero or one <code>xs:QName</code>s.</p><p>It is defined on <a href="#acc-summ-type-name">all seven</a> node kinds.</p></div><div class="div2"><h3><span style="display: none;" class="delete_version"><a name="dm-typed-value" id="dm-typed-value"></a>5.14 <code>typed-value</code> Accessor</span><span style="display: none;" class="add_version"><a name="dm-typed-value" id="dm-typed-value"></a>5.15 <code>typed-value</code> Accessor</span><span class="modify_version"><a name="dm-typed-value" id="dm-typed-value"></a><span class="deltaxml-old" style="background:#FF5555">5.14</span><span class="deltaxml-new" style="background:#90EE90">5.15</span> <code>typed-value</code> Accessor</span></h3><div class="exampleInner"><div class="proto"><code class="function"><span class="prefix">dm:</span>typed-value</code>(<code class="arg">$n</code><code class="as"> as </code><code class="type">node()</code>)<code class="as"> as </code><code class="return-type">xs:anyAtomicType*</code></div></div><p>The <span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span> accessor returns the typed-value of the node as a sequence of zero or more atomic values.</p><p>It is defined on <a href="#acc-summ-typed-value">all seven</a> node kinds.</p></div><div class="div2"><h3><span style="display: none;" class="delete_version"><a name="dm-unparsed-entity-public-id" id="dm-unparsed-entity-public-id"></a>5.15 <code>unparsed-entity-public-id</code> Accessor</span><span style="display: none;" class="add_version"><a name="dm-unparsed-entity-public-id" id="dm-unparsed-entity-public-id"></a>5.16 <code>unparsed-entity-public-id</code> Accessor</span><span class="modify_version"><a name="dm-unparsed-entity-public-id" id="dm-unparsed-entity-public-id"></a><span class="deltaxml-old" style="background:#FF5555">5.15</span><span class="deltaxml-new" style="background:#90EE90">5.16</span> <code>unparsed-entity-public-id</code> Accessor</span></h3><div class="exampleInner"><div class="proto"><table border="0" cellpadding="0" cellspacing="0" summary="Function prototype"><tr><td valign="baseline" rowspan="2"><code class="function"><span class="prefix">dm:</span>unparsed-entity-public-id</code>(</td><td valign="baseline"><code class="arg">$node</code></td><td valign="baseline"><code class="as"> as </code><code class="type">node()</code>,</td></tr><tr><td valign="baseline"><code class="arg">$entityname</code></td><td valign="baseline"><code class="as"> as </code><code class="type">xs:string</code>)<code class="as"> as </code><code class="return-type">xs:string?</code></td></tr></table></div></div><p>The <span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span> accessor returns the public identifier of an unparsed external entity declared in the specified document. If no entity with the name specified in <code>$entityname</code> exists, or if the entity is not an external unparsed entity, or if the entity has no public identifier, the empty sequence is returned.</p><p>It is defined on <a href="#acc-summ-unparsed-entity-public-id">all seven</a> node kinds.</p></div><div class="div2"><h3><span style="display: none;" class="delete_version"><a name="dm-unparsed-entity-system-id" id="dm-unparsed-entity-system-id"></a>5.16 <code>unparsed-entity-system-id</code> Accessor</span><span style="display: none;" class="add_version"><a name="dm-unparsed-entity-system-id" id="dm-unparsed-entity-system-id"></a>5.17 <code>unparsed-entity-system-id</code> Accessor</span><span class="modify_version"><a name="dm-unparsed-entity-system-id" id="dm-unparsed-entity-system-id"></a><span class="deltaxml-old" style="background:#FF5555">5.16</span><span class="deltaxml-new" style="background:#90EE90">5.17</span> <code>unparsed-entity-system-id</code> Accessor</span></h3><div class="exampleInner"><div class="proto"><table border="0" cellpadding="0" cellspacing="0" summary="Function prototype"><tr><td valign="baseline" rowspan="2"><code class="function"><span class="prefix">dm:</span>unparsed-entity-system-id</code>(</td><td valign="baseline"><code class="arg">$node</code></td><td valign="baseline"><code class="as"> as </code><code class="type">node()</code>,</td></tr><tr><td valign="baseline"><code class="arg">$entityname</code></td><td valign="baseline"><code class="as"> as </code><code class="type">xs:string</code>)<code class="as"> as </code><code class="return-type">xs:anyURI?</code></td></tr></table></div></div><p>The <span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span> accessor returns the system identifier of an unparsed external entity declared in the specified document. The value is an absolute URI, and is obtained by resolving the <b class="infoset-property">[system identifier]</b> of the unparsed entity information item against the <b class="infoset-property">[declaration base URI]</b> of the same item. If no entity with the name specified in <code>$entityname</code> exists, or if the entity is not an external unparsed entity, the empty sequence is returned.</p><p>It is defined on <a href="#acc-summ-unparsed-entity-system-id">all seven</a> node kinds.</p></div></div><div class="div1"><h2><a name="Node" id="Node"></a>6 Nodes</h2><p>[<a name="dt-node" id="dt-node" title="Node">Definition</a>: There are seven kinds of <b>Nodes</b> in the data model: <a href="#DocumentNode">document</a>, <a href="#ElementNode">element</a>, <a href="#AttributeNode">attribute</a>, <a href="#TextNode">text</a>, <a href="#NamespaceNode">namespace</a>, <a href="#ProcessingInstructionNode">processing instruction</a>, and <a href="#CommentNode">comment</a>.] Each kind of node is described in the following sections.</p><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b><span class="deltaxml-new" style="background:#90EE90">Note:</span></b></td><td align="left" valign="top"><p><span class="deltaxml-new" style="background:#90EE90">A host language based on the Data Model may specify that its usage of the Data Model does not include namespace nodes. Namespace nodes are used only in the "namespaces" property of an element node, which records the bindings of namespace prefixes to namespace URIs. These bindings may be represented either by means of namespace nodes or by using an alternative, implementation-dependent representation.</span></p></td></tr></table></blockquote><p id="constraints-general">All nodes <strong>must</strong> satisfy the following general constraints:</p><ol class="enumar"><li><p>Every node <strong>must</strong> have a unique identity, distinct from all other nodes.</p></li><li><p>The <b class="dm-node-prop">children</b> property of a node <strong>must not</strong> contain two consecutive Text Nodes.</p></li><li><p>The <b class="dm-node-prop">children</b> property of a node <strong>must not</strong> contain any empty Text Nodes.</p></li><li><p>The <b class="dm-node-prop">children</b> and <b class="dm-node-prop">attributes</b> properties of a node <strong>must not</strong> contain two nodes with the same identity.</p></li></ol><div class="div2"><h3><a name="DocumentNode" id="DocumentNode"></a>6.1 Document Nodes</h3><div class="div3"><h4><a name="DocumentNodeOverview" id="DocumentNodeOverview"></a>6.1.1 Overview</h4><p>Document Nodes encapsulate XML documents. Documents have the following properties:</p><ul><li><p><b class="dm-node-prop">base-uri</b>, possibly empty.</p></li><li><p><b class="dm-node-prop">children</b>, possibly empty.</p></li><li><p><b class="dm-node-prop">unparsed-entities</b>, possibly empty.</p></li><li><p><b class="dm-node-prop">document-uri</b>, possibly empty.</p></li><li><p><b class="dm-node-prop">string-value</b></p></li><li><p><b class="dm-node-prop">typed-value</b></p></li></ul><p id="constraints-document">Document Nodes <strong>must</strong> satisfy the following constraints.</p><ol class="enumar"><li><p>The <b class="dm-node-prop">children</b><strong>must</strong> consist exclusively of Element, Processing Instruction, Comment, and Text Nodes if it is not empty. Attribute, Namespace, and Document Nodes can never appear as children</p></li><li><p>If a node <em>N</em> is among the <b class="dm-node-prop">children</b> of a Document Node <em>D</em>, then the <b class="dm-node-prop">parent</b> of <em>N</em><strong>must</strong> be <em>D</em>.</p></li><li><p>If a node <em>N</em> has a <b class="dm-node-prop">parent</b> Document Node <em>D</em>, then <em>N</em><strong>must</strong> be among the <b class="dm-node-prop">children</b> of <em>D</em>.</p></li><li><p>The <b class="dm-node-prop">string-value</b> property of a Document Node must be the concatenation of the <b class="dm-node-prop">string-value</b>s of all its Text Node descendants in document order or, if the document has no such descendants, the zero-length string.</p></li></ol><p>In the <a href="#xml-infoset">[Infoset]</a>, a <b class="info-item">document information item</b> must have at least one child, its children must consist exclusively of <b class="info-item">element information item</b>s, <b class="info-item">processing instruction information item</b>s and <b class="info-item">comment information item</b>s, and exactly one of the children must be an <b class="info-item">element information item</b>. This data model is more permissive: a Document Node may be empty, it may have more than one Element Node as a child, and it also permits Text Nodes as children.</p><p>Implementations that support DTD processing and access to the unparsed entity accessors use the <b class="dm-node-prop">unparsed-entities</b> property to associate information about an unordered collection of unparsed entities with a Document Node. This property is accessed indirectly through the <span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span> and <span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span> functions.</p></div><div class="div3"><h4><a name="DocumentNodeAccessors" id="DocumentNodeAccessors"></a>6.1.2 Accessors</h4><dl><dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt><dd><p>Returns the empty sequence</p></dd><dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">base-uri</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">children</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt><dd><p>Returns the absolute URI of the resource from which the Document Node was constructed, or the empty sequence if no such absolute URI is available.</p></dd><dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span style="display: none;" class="delete_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></span><span style="display: none;" class="add_version"><span class="function"><a href="#dm-namespace-bindings"><span class="prefix">dm:</span>namespace-bindings</a></span></span><span class="modify_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-old" style="background:#FF5555">dm:</span></span><span class="deltaxml-old" style="background:#FF5555">namespace-nodes</span></a><a href="#dm-namespace-bindings"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></a></span></span></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the empty sequence</span></p></dd><dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-nodes</span></a></span></dt><dd><p>Returns the empty sequence</p></dd><dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt><dd><p>Returns the empty sequence</p></dd><dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt><dd><p>Returns “<code>document</code>”.</p></dd><dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt><dd><p>Returns the empty sequence</p></dd><dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">string-value</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">typed-value</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt><dd><p>Returns the public identifier of the specified unparsed entity or the empty sequence if no such entity exists.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt><dd><p>Returns the system identifier of the specified unparsed entity or the empty sequence if no such entity exists.</p></dd></dl></div><div class="div3"><h4><a name="const-infoset-document" id="const-infoset-document"></a>6.1.3 Construction from an Infoset</h4><p>The <b class="info-item">document information item</b> is required. A Document Node is constructed for each <b class="info-item">document information item</b>.</p><p>The following infoset properties are required: <b class="infoset-property">[children]</b> and <b class="infoset-property">[base URI]</b>.</p><p>The following infoset properties are optional: <b class="infoset-property">[unparsed entities]</b>.</p><p>Document Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">base-uri</b></dt><dd><p>The value of the <b class="infoset-property">[base URI]</b> property, if available. Note that the base URI property, if available, is always an absolute URI (if an absolute URI can be computed) though it may contain Unicode characters that are not allowed in URIs. These characters, if they occur, are present in the <b class="dm-node-prop">base-uri</b> property and will have to be encoded and escaped by the application to obtain a URI suitable for retrieval, if retrieval is required.</p><p>In practice a <b class="infoset-property">[base URI]</b> is not always known. In this case the value of the <b class="dm-node-prop">base-uri</b> property of the document node will be the empty sequence. This is not intrinsically an error, though it may cause some operations that depend on the base URI to fail.</p></dd><dt class="label"><b class="dm-node-prop">children</b></dt><dd><p>The sequence of nodes constructed from the information items found in the <b class="infoset-property">[children]</b> property.</p><p>For each element, processing instruction, and comment found in the <b class="infoset-property">[children]</b> property, a corresponding Element, Processing Instruction, or Comment Node is constructed and that sequence of nodes is used as the value of the <b class="dm-node-prop">children</b> property.</p><p>If present among the <b class="infoset-property">[children]</b>, the <b class="info-item">document type declaration information item</b> is ignored.</p></dd><dt class="label"><b class="dm-node-prop">unparsed-entities</b></dt><dd><p>If the <b class="infoset-property">[unparsed entities]</b> property is present and is not the empty set, the values of the <b class="info-item">unparsed entity information items</b> must be used to support the <span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span> and <span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span> accessors.</p><p>The internal structure of the values of the <b class="dm-node-prop">unparsed-entities</b> property is implementation defined.</p></dd><dt class="label"><b class="dm-node-prop">string-value</b></dt><dd><p>The concatenation of the string-values of all its Text Node descendants in document order. If the document has no such descendants, the zero-length string.</p></dd><dt class="label"><b class="dm-node-prop">typed-value</b></dt><dd><p>The <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> of the node as an <code>xs:untypedAtomic</code> value.</p></dd><dt class="label"><b class="dm-node-prop">document-uri</b></dt><dd><p>The <b class="dm-node-prop">document-uri</b> property holds the absolute URI for the resource from which the document node was constructed, if one is available and can be made absolute. For example, if a collection of documents is returned by the <span class="function">fn:collection</span> function, the <b class="dm-node-prop">document-uri</b> property may serve to distinguish between them even though each has the same <b class="dm-node-prop">base-uri</b> property.</p><p>If the <b class="dm-node-prop">document-uri</b> is not the empty sequence, then the following constraint must hold: the node returned by evaluating <code>fn:doc()</code> with the <b class="dm-node-prop">document-uri</b> as its argument must return the document node that provided the value of the <b class="dm-node-prop">document-uri</b> property.</p><p>In other words, for any Document Node <code>$arg</code>, either <code>fn:document-uri($arg)</code> must return the empty sequence or <code>fn:doc(fn:document-uri($arg))</code> must return <code>$arg</code>.</p></dd></dl></div><div class="div3"><h4><a name="const-psvi-document" id="const-psvi-document"></a>6.1.4 Construction from a PSVI</h4><p>Construction from a PSVI is identical to construction from the Infoset.</p></div><div class="div3"><h4><a name="infoset-mapping-document" id="infoset-mapping-document"></a>6.1.5 Infoset Mapping</h4><p>A Document Node maps to a <b class="info-item">document information item</b>. The mapping fails and produces no value if the Document Node contains Text Node children that do not consist entirely of white space or if the Document Node contains more than one Element Node child.</p><p>The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[children]</b></dt><dd><p>A list of information items obtained by processing each of the <span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span> in order and mapping each to the appropriate information item(s).</p></dd><dt class="label"><b class="infoset-property">[document element]</b></dt><dd><p>The <b class="info-item">element information item</b> that is among the <b class="infoset-property">[children]</b>.</p></dd><dt class="label"><b class="infoset-property">[unparsed entities]</b></dt><dd><p>An unordered set of <b class="info-item">unparsed entity information item</b>s constructed from the <b class="dm-node-prop">unparsed-entities</b>.</p><p>Each unparsed entity maps to an <b class="info-item">unparsed entity information item</b>. The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[name]</b></dt><dd><p>The name of the entity.</p></dd><dt class="label"><b class="infoset-property">[system identifier]</b></dt><dd><p>The system identifier of the entity.</p></dd><dt class="label"><b class="infoset-property">[public identifier]</b></dt><dd><p>The public identifier of the entity.</p></dd><dt class="label"><b class="infoset-property">[declaration base URI]</b></dt><dd><p>Implementation defined. In the many cases, the <b class="dm-node-prop">document-uri</b> is the correct answer and implementations <strong>must</strong> use this value if they have no better information. Implementations that keep track of the original <b class="infoset-property">[declaration base URI]</b> for entities should use that value.</p></dd></dl><p>The following properties of the <b class="info-item">unparsed entity information item</b> have no value: <b class="infoset-property">[notation name]</b>, <b class="infoset-property">[notation]</b>.</p></dd></dl><p>The following properties of the <b class="info-item">document information item</b> have no value: <b class="infoset-property">[notations]</b><b class="infoset-property">[character encoding scheme]</b><b class="infoset-property">[standalone]</b><b class="infoset-property">[version]</b><b class="infoset-property">[all declarations processed]</b>.</p></div></div><div class="div2"><h3><a name="ElementNode" id="ElementNode"></a>6.2 Element Nodes</h3><div class="div3"><h4><a name="ElementNodeOverview" id="ElementNodeOverview"></a>6.2.1 Overview</h4><p>Element Nodes encapsulate XML elements. Elements have the following properties:</p><ul><li><p><b class="dm-node-prop">base-uri</b>, possibly empty.</p></li><li><p><b class="dm-node-prop">node-name</b></p></li><li><p><b class="dm-node-prop">parent</b>, possibly empty</p></li><li><p><b class="dm-node-prop">type-name</b></p></li><li><p><b class="dm-node-prop">children</b>, possibly empty</p></li><li><p><b class="dm-node-prop">attributes</b>, possibly empty</p></li><li><p><b class="dm-node-prop">namespaces</b></p></li><li><p><b class="dm-node-prop">nilled</b></p></li><li><p><b class="dm-node-prop">string-value</b></p></li><li><p><b class="dm-node-prop">typed-value</b></p></li><li><p><b class="dm-node-prop">is-id</b></p></li><li><p><b class="dm-node-prop">is-idrefs</b></p></li></ul><p>Element Nodes <strong>must</strong> satisfy the following constraints.</p><ol class="enumar"><li><p>The <b class="dm-node-prop">children</b><strong>must</strong> consist exclusively of Element, Processing Instruction, Comment, and Text Nodes if it is not empty. Attribute, Namespace, and Document Nodes can never appear as children</p></li><li><p>The Attribute Nodes of an element <strong>must</strong> have distinct <code>xs:QName</code>s.</p></li><li><p>If a node <em>N</em> is among the <b class="dm-node-prop">children</b> of an element <em>E</em>, then the <b class="dm-node-prop">parent</b> of <em>N</em><strong>must</strong> be <em>E</em>.</p></li><li><p>Exclusive of Attribute and Namespace Nodes, if a node <em>N</em> has a <b class="dm-node-prop">parent</b> element <em>E</em>, then <em>N</em><strong>must</strong> be among the <b class="dm-node-prop">children</b> of <em>E</em>. (Attribute and Namespace Nodes have a parent, but they do not appear among the children of their parent.)</p><p>The data model permits Element Nodes without parents (to represent partial results during expression processing, for example). Such Element Nodes <strong>must not</strong> appear among the <b class="dm-node-prop">children</b> of any other node.</p></li><li><p>If an Attribute Node <em>A</em> is among the <b class="dm-node-prop">attributes</b> of an element <em>E</em>, then the <b class="dm-node-prop">parent</b> of <em>A</em><strong>must</strong> be <em>E</em>.</p></li><li><p>If an Attribute Node <em>A</em> has a <b class="dm-node-prop">parent</b> element <em>E</em>, then <em>A</em><strong>must</strong> be among the <b class="dm-node-prop">attributes</b> of <em>E</em>.</p><p>The data model permits Attribute Nodes without parents. Such Attribute Nodes <strong>must not</strong> appear among the <b class="dm-node-prop">attributes</b> of any Element Node.</p></li><li><p>If a Namespace Node <em>N</em> is among the namespaces of an element <em>E</em>, then the parent of <em>N</em><strong>must</strong> be <em>E</em>.</p></li><li><p>If a Namespace Node <em>N</em> has a parent element <em>E</em>, then <em>N</em><strong>must</strong> be among the <b class="dm-node-prop">namespaces</b> of <em>E</em>.</p><p>The data model permits Namespace Nodes without parents. Such Namespace Nodes <strong>must not</strong> appear among the <b class="dm-node-prop">namespaces</b> of any Element Node. This constraint is irrelevant for implementations that do not support Namespace Nodes.</p></li><li><p>If the <span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span> of an Element Node is <code>xs:untyped</code>, then the <span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span> of all its descendant elements <strong>must</strong> also be <code>xs:untyped</code> and the <span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span> of all its Attribute Nodes <strong>must</strong> be <code>xs:untypedAtomic</code>.</p></li><li><p>If the <span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span> of an Element Node is <code>xs:untyped</code>, then the <b class="dm-node-prop">nilled</b> property <strong>must</strong> be <code>false</code>.</p></li><li><p>If the <b class="dm-node-prop">nilled</b> property is <code>true</code>, then the <b class="dm-node-prop">children</b> property <strong>must not</strong> contain Element Nodes or Text Nodes.</p></li><li><p>For every <a title="expanded-QName" href="#dt-expanded-qname">expanded QName</a> that appears in the <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span> of the element, the <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span> of any Attribute Node among the <b class="dm-node-prop">attributes</b> of the element, or in any value of type <code>xs:QName</code> or <code>xs:NOTATION</code> (or any type derived from those types) that appears in the typed-value of the element or the typed-value of any of its attributes, if the expanded QName has a non-empty URI, then there <strong>must</strong> be a prefix binding for this URI among the <b class="dm-node-prop">namespaces</b> of this Element Node.</p><p>If any of the expanded QNames has an empty URI, then there <strong>must not</strong> be any binding among the <b class="dm-node-prop">namespaces</b> of this Element Node which binds the empty prefix to a URI.</p></li><li><p>Every element must include a Namespace Node and/or namespace binding for the prefix <code>xml</code> bound to the URI <code>http://www.w3.org/XML/1998/namespace</code> and there must be no other prefix bound to that URI.</p></li><li><p>The <b class="dm-node-prop">string-value</b> property of an Element Node must be the concatenation of the <b class="dm-node-prop">string-value</b>s of all its Text Node descendants in document order or, if the element has no such descendants, the zero-length string.</p></li></ol></div><div class="div3"><h4><a name="ElementNodeAccessors" id="ElementNodeAccessors"></a>6.2.2 Accessors</h4><dl><dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">attributes</b> property. The order of Attribute Nodes is stable but implementation dependent.</p></dd><dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">base-uri</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">children</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">is-id</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">is-idrefs</b> property.</p></dd><dt class="label"><span style="display: none;" class="delete_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></span><span style="display: none;" class="add_version"><span class="function"><a href="#dm-namespace-bindings"><span class="prefix">dm:</span>namespace-bindings</a></span></span><span class="modify_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-old" style="background:#FF5555">dm:</span></span><span class="deltaxml-old" style="background:#FF5555">namespace-nodes</span></a><a href="#dm-namespace-bindings"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></a></span></span></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the value of the </span><b class="dm-node-prop"><span class="deltaxml-new" style="background:#90EE90">namespaces</span></b><span class="deltaxml-new" style="background:#90EE90"> property as a set of prefix/URI pairs.</span></p></dd><dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-nodes</span></a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">namespaces</b> property as a sequence of Namespace Nodes. The order of Namespace Nodes is stable but implementation dependent.</p></dd><dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">nilled</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt><dd><p>Returns “<code>element</code>”.</p></dd><dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">node-name</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">string-value</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">type-name</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">typed-value</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div class="div3"><h4><a name="const-infoset-element" id="const-infoset-element"></a>6.2.3 Construction from an Infoset</h4><p>The <b class="info-item">element information items</b> are required. An Element Node is constructed for each <b class="info-item">element information item</b>.</p><p>The following infoset properties are required: <b class="infoset-property">[namespace name]</b>, <b class="infoset-property">[local name]</b>, <b class="infoset-property">[children]</b>, <b class="infoset-property">[attributes]</b>, <b class="infoset-property">[in-scope namespaces]</b>, <b class="infoset-property">[base URI]</b>, and <b class="infoset-property">[parent]</b>.</p><p>Element Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">base-uri</b></dt><dd><p>The value of the <b class="infoset-property">[base URI]</b> property, if available. Note that the base URI property, if available, is always an absolute URI (if an absolute URI can be computed) though it may contain Unicode characters that are not allowed in URIs. These characters, if they occur, are present in the <b class="dm-node-prop">base-uri</b> property and will have to be encoded and escaped by the application to obtain a URI suitable for retrieval, if retrieval is required.</p><p>In practice a <b class="infoset-property">[base URI]</b> is not always known. In this case the value of the <b class="dm-node-prop">base-uri</b> property of the document node will be the empty sequence. This is not intrinsically an error, though it may cause some operations that depend on the base URI to fail.</p></dd><dt class="label"><b class="dm-node-prop">node-name</b></dt><dd><p>An <code>xs:QName</code> constructed from the <b class="infoset-property">[prefix]</b>, <b class="infoset-property">[local name]</b>, and <b class="infoset-property">[namespace name]</b> properties.</p></dd><dt class="label"><b class="dm-node-prop">parent</b></dt><dd><p>The node that corresponds to the value of the <b class="infoset-property">[parent]</b> property or the empty sequence if there is no parent.</p></dd><dt class="label"><b class="dm-node-prop">type-name</b></dt><dd><p>All Element Nodes constructed from an infoset have the type <code>xs:untyped</code>.</p></dd><dt class="label"><b class="dm-node-prop">children</b></dt><dd><p>The sequence of nodes constructed from the information items found in the <b class="infoset-property">[children]</b> property.</p><p>For each element, processing instruction, comment, and maximal sequence of adjacent <b class="info-item">character information items</b> found in the <b class="infoset-property">[children]</b> property, a corresponding Element, Processing Instruction, Comment, or Text Node is constructed and that sequence of nodes is used as the value of the <b class="dm-node-prop">children</b> property.</p><p>Because the data model requires that all general entities be expanded, there will never be <b class="info-item">unexpanded entity reference information item</b> children.</p></dd><dt class="label"><b class="dm-node-prop">attributes</b></dt><dd><p>A set of Attribute Nodes constructed from the <b class="info-item">attribute information items</b> appearing in the <b class="infoset-property">[attributes]</b> property. This includes all of the "special" attributes (<code>xml:lang</code>, <code>xml:space</code>, <code>xsi:type</code>, etc.) but does not include namespace declarations (because they are not attributes).</p><p>Default and fixed attributes provided by the DTD are added to the <b class="infoset-property">[attributes]</b> and are therefore included in the data model <b class="dm-node-prop">attributes</b> of an element.</p></dd><dt class="label"><b class="dm-node-prop">namespaces</b></dt><dd><p>A set of Namespace Nodes constructed from the <b class="info-item">namespace information items</b> appearing in the <b class="infoset-property">[in-scope namespaces]</b> property. Implementations that do not support Namespace Nodes may simply preserve the relevant bindings in this property.</p><p>Implementations <strong>may</strong> ignore <b class="info-item">namespace information items</b> for namespaces which are not known to be used. A namespace is known to be used if:</p><ul><li><p>It appears in the <a title="expanded-QName" href="#dt-expanded-qname">expanded QName</a> of the <b class="dm-node-prop">node-name</b> of the element.</p></li><li><p>It appears in the <a title="expanded-QName" href="#dt-expanded-qname">expanded QName</a> of the <b class="dm-node-prop">node-name</b> of any of the element's attributes.</p></li></ul><p>Note: applications may rely on namespaces that are not known to be used, for example when QNames are used in content and that content does not have a type of <code>xs:QName</code> Such applications may have difficulty processing data models where some namespaces have been ignored.</p></dd><dt class="label"><b class="dm-node-prop">nilled</b></dt><dd><p>All Element Nodes constructed from an infoset have a <b class="dm-node-prop">nilled</b> property of "<em>false</em>".</p></dd><dt class="label"><b class="dm-node-prop">string-value</b></dt><dd><p>The <b class="dm-node-prop">string-value</b> is constructed from the <b class="info-item">character information item</b><b class="infoset-property">[children]</b> of the element and all its descendants. The precise rules for selecting significant <b class="info-item">character information items</b> and constructing characters from them is described in <a href="#const-infoset-text"><b>6.7.3 Construction from an Infoset</b></a> of <a href="#TextNode"><b>6.7 Text Nodes</b></a>.</p><p>This process is equivalent to concatenating the <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>s of all of the Text Node descendants of the resulting Element Node.</p><p>If the element has no such descendants, the <b class="dm-node-prop">string-value</b> is the empty string.</p></dd><dt class="label"><b class="dm-node-prop">typed-value</b></dt><dd><p>The <b class="dm-node-prop">string-value</b> as an <code>xs:untypedAtomic</code>.</p></dd><dt class="label"><b class="dm-node-prop">is-id</b></dt><dd><p>All Element Nodes constructed from an infoset have a <b class="dm-node-prop">is-id</b> property of "<em>false</em>".</p></dd><dt class="label"><b class="dm-node-prop">is-idrefs</b></dt><dd><p>All Element Nodes constructed from an infoset have a <b class="dm-node-prop">is-idrefs</b> property of "<em>false</em>".</p></dd></dl></div><div class="div3"><h4><a name="const-psvi-element" id="const-psvi-element"></a>6.2.4 Construction from a PSVI</h4><p>The following Element Node properties are affected by PSVI properties.</p><dl><dt class="label"><b class="dm-node-prop">type-name</b></dt><dd><p>The <b class="dm-node-prop">type-name</b> is determined as described in <a href="#PSVI2NodeTypes"><b>3.3.1.1 Element and Attribute Node Type Names</b></a>.</p></dd><dt class="label"><b class="dm-node-prop">children</b></dt><dd><p>The sequence of nodes constructed from the information items found in the <b class="infoset-property">[children]</b> property.</p><p>For each element, processing instruction, comment, and maximal sequence of adjacent <b class="info-item">character information items</b> found in the <b class="infoset-property">[children]</b> property, a corresponding Element, Processing Instruction, Comment, or Text Node is constructed and that sequence of nodes is used as the value of the <b class="dm-node-prop">children</b> property.</p><p>For elements with schema simple types, or complex types with simple content, if the <b class="infoset-property">[schema normalized value]</b> PSVI property exists, the processor <strong>may</strong> use a sequence of nodes containing the Processing Instruction and Comment Nodes corresponding to the <b class="info-item">processing instruction</b> and <b class="info-item">comment information items</b> found in the <b class="infoset-property">[children]</b> property, plus an optional single Text Node whose string value is the <b class="infoset-property">[schema normalized value]</b> for the <b class="dm-node-prop">children</b> property. If the <b class="infoset-property">[schema normalized value]</b> is the empty string, the Text Node <strong>must not</strong> be present, otherwise it <strong>must</strong> be present.</p><p>The relative order of Processing Instruction and Comment Nodes must be preserved, but the position of the Text Node, if it is present, among them is implementation defined.</p><p>The effect of the above rules is that where a fixed or default value for an element is defined in the schema, and the element takes this default value, a text node will be created to contain the value, even though there are no character information items representing the value in the PSVI. The position of this text node relative to any comment or processing instruction children is implementation-dependent.</p><p><a href="#xmlschema-1">[Schema Part 1]</a> also permits an element with mixed content to take a default or fixed value (which will always be a simple value), but at the time of this writing it is unclear how such a defaulted value is represented in the PSVI. Implementations therefore <strong>may</strong> represent such a default value by creating a text node, but are not required to do so.</p><p>Because the data model requires that all general entities be expanded, there will never be <b class="info-item">unexpanded entity reference information item</b> children.</p></dd><dt class="label"><b class="dm-node-prop">attributes</b></dt><dd><p>A set of Attribute Nodes constructed from the <b class="info-item">attribute information items</b> appearing in the <b class="infoset-property">[attributes]</b> property. This includes all of the "special" attributes (<code>xml:lang</code>, <code>xml:space</code>, <code>xsi:type</code>, etc.) but does not include namespace declarations (because they are not attributes).</p><p>Default and fixed attributes provided by XML Schema processing are added to the <b class="infoset-property">[attributes]</b> and are therefore included in the data model <b class="dm-node-prop">attributes</b> of an element.</p></dd><dt class="label"><b class="dm-node-prop">namespaces</b></dt><dd><p>A set of Namespace Nodes constructed from the <b class="info-item">namespace information items</b> appearing in the <b class="infoset-property">[in-scope namespaces]</b> property. Implementations that do not support Namespace Nodes may simply preserve the relevant bindings in this property.</p><p>Implementations <strong>may</strong> ignore <b class="info-item">namespace information items</b> for namespaces which are not known to be used. A namespace is known to be used if:</p><ul><li><p>It appears in the <a title="expanded-QName" href="#dt-expanded-qname">expanded QName</a> of the <b class="dm-node-prop">node-name</b> of the element.</p></li><li><p>It appears in the <a title="expanded-QName" href="#dt-expanded-qname">expanded QName</a> of the <b class="dm-node-prop">node-name</b> of any of the element's attributes.</p></li><li><p>It appears in the <a title="expanded-QName" href="#dt-expanded-qname">expanded QName</a> of any values of type <code>xs:QName</code> that appear among the element's children or the typed values of its attributes.</p></li></ul><p>Note: applications may rely on namespaces that are not known to be used, for example when QNames are used in content and that content does not have a type of <code>xs:QName</code> Such applications may have difficulty processing data models where some namespaces have been ignored.</p></dd><dt class="label"><b class="dm-node-prop">nilled</b></dt><dd><p>If the <b class="infoset-property">[validity]</b> property exists on an information item and is "<em>valid</em>" then if the <b class="infoset-property">[nil]</b> property exists and is true, then the <b class="dm-node-prop">nilled</b> property is "<em>true</em>". In all other cases, including all cases where schema validity assessment was not attempted or did not succeed, the <b class="dm-node-prop">nilled</b> property is "<em>false</em>".</p></dd><dt class="label"><b class="dm-node-prop">string-value</b></dt><dd><p>The string-value is calculated as follows:</p><ul><li><p>If the element is empty: its string value is the zero length string.</p></li><li><p>If the element has a type of <code>xs:untyped</code>, a complex type with element-only content, or a complex type with mixed content: its string-value is the concatenation of the <b class="dm-node-prop">string-value</b>s of all its Text Node descendants in document order.</p></li><li><p>If the element has a simple type or a complex type with simple content: its string-value is the <b class="infoset-property">[schema normalized value]</b> of the node.</p></li></ul><p>If an implementation stores only the typed value of an element, it may use any valid lexical representation of the typed value for the <b class="dm-node-prop">string-value</b> property.</p></dd><dt class="label"><b class="dm-node-prop">typed-value</b></dt><dd><p>The typed-value is calculated as follows:</p><ul><li><p>If the element is of type <code>xs:untyped</code>, its typed-value is its <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> as an <code>xs:untypedAtomic</code>.</p></li><li><p>If the element has a complex type with empty content, its typed-value is the empty sequence.</p></li><li><p>If the element has a simple type or a complex type with simple content: its typed value is computed as described in <a href="#TypedValueDetermination"><b>3.3.1.2 Typed Value Determination</b></a>. The result is a sequence of zero or more atomic values. The relationship between the type-name, typed-value, and string-value of an element node is consistent with XML Schema validation.</p><p>Note that in the case of dates and times, the timezone is preserved as described in <a href="#dates-and-times"><b>3.3.2 Dates and Times</b></a>, and in the case of <code>xs:QName</code>s and <code>xs:NOTATION</code>s, the prefix is preserved as described in <a href="#qnames-and-notations"><b>3.3.3 QNames and NOTATIONS</b></a>.</p></li><li><p>If the element has a complex type with mixed content (including <code>xs:anyType</code>), its typed-value is its <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> as an <code>xs:untypedAtomic</code>.</p></li><li><p><span style="display: none;" class="delete_version">Otherwise, the element must be a complex type with element-only content. The typed-value of such an element is <a title="absent" href="#dt-absent">absent</a>. Attempting to access this property with the <span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span> accessor always raises an error.</span><span style="display: none;" class="add_version">Otherwise, the element must be a complex type with element-only content. The typed-value of such an element is undefined. Attempting to access this property with the <span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span> accessor always raises an error.</span><span class="modify_version">Otherwise, the element must be a complex type with element-only content. The typed-value of such an element is <a title="absent" href="#dt-absent"><span class="deltaxml-old" style="background:#FF5555">absent</span></a><span class="deltaxml-new" style="background:#90EE90">undefined</span>. Attempting to access this property with the <span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span> accessor always raises an error.</span></p></li></ul></dd><dt class="label"><b class="dm-node-prop">is-id</b></dt><dd><p>If the element has a complex type with element-only content, the <b class="dm-node-prop">is-id</b> property is <code>false</code>. Otherwise, if the typed-value of the element consists of exactly one atomic value and that value is of type <code>xs:ID</code>, or a type derived from <code>xs:ID</code>, the <b class="dm-node-prop">is-id</b> property is <code>true</code>, otherwise it is <code>false</code>.</p><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>This means that in the case of a type constructed by list from <code>xs:ID</code>, the ID is recognized provided that the list is of length one. A type constructed as a union involving <code>xs:ID</code> is recognized provided the actual value is of type <code>xs:ID</code>.</p></td></tr></table></blockquote><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>The element that is marked with the <b class="dm-node-prop">is-id</b> property, and which will therefore be retrieved by the fn:id function, is the node whose typed value contains the <code>xs:ID</code> value. This node is a child of the element node that, according to XML Schema, is uniquely identified by this ID.</p></td></tr></table></blockquote></dd><dt class="label"><b class="dm-node-prop">is-idrefs</b></dt><dd><p>If the element has a complex type with element-only content, the <b class="dm-node-prop">is-idrefs</b> property is <code>false</code>. Otherwise, if any of the atomic values in the typed-value of the element is of type <code>xs:IDREF</code> or <code>xs:IDREFS</code>, or a type derived from one of those types, the <b class="dm-node-prop">is-idrefs</b> property is <code>true</code>, otherwise it is <code>false</code>.</p></dd></dl><p>All other properties have values that are consistent with construction from an infoset.</p></div><div class="div3"><h4><a name="infoset-mapping-element" id="infoset-mapping-element"></a>6.2.5 Infoset Mapping</h4><p>An Element Node maps to an <b class="info-item">element information item</b>.</p><p>The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[namespace name]</b></dt><dd><p>The namespace name of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[local name]</b></dt><dd><p>The local part of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[prefix]</b></dt><dd><p>The prefix associated with the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[children]</b></dt><dd><p>A list of information items obtained by processing each of the <span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span> in order and mapping each to the appropriate information item(s).</p></dd><dt class="label"><b class="infoset-property">[attributes]</b></dt><dd><p>An unordered set of information items obtained by processing each of the <span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span> and mapping each to the appropriate information item(s).</p></dd><dt class="label"><b class="infoset-property">[in-scope namespaces]</b></dt><dd><p>An unordered set of <b class="info-item">namespace information items</b> constructed from the <b class="dm-node-prop">namespaces</b>.</p><p>Each in-scope namespace maps to a <b class="info-item">namespace information item</b>. The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[prefix]</b></dt><dd><p>The prefix associated with the namespace.</p></dd><dt class="label"><b class="infoset-property">[namespace name]</b></dt><dd><p>The URI associated with the namespace.</p></dd></dl></dd><dt class="label"><b class="infoset-property">[base URI]</b></dt><dd><p>The value of <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span>.</p></dd><dt class="label"><b class="infoset-property">[parent]</b></dt><dd><ul><li><p>If this node is the root of the infoset mapping operation, <em>unknown</em>.</p></li><li><p>If this node has a parent, the information item that corresponds to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.</p></li><li><p>Otherwise <em>no value</em>.</p></li></ul></dd></dl><p>The following property has no value: <b class="infoset-property">[namespace attributes]</b>.</p></div></div><div class="div2"><h3><a name="AttributeNode" id="AttributeNode"></a>6.3 Attribute Nodes</h3><div class="div3"><h4><a name="AttributeNodeOverview" id="AttributeNodeOverview"></a>6.3.1 Overview</h4><p>Attribute Nodes represent XML attributes. Attributes have the following properties:</p><ul><li><p><b class="dm-node-prop">node-name</b></p></li><li><p><b class="dm-node-prop">parent</b>, possibly empty</p></li><li><p><b class="dm-node-prop">type-name</b></p></li><li><p><b class="dm-node-prop">string-value</b></p></li><li><p><b class="dm-node-prop">typed-value</b></p></li><li><p><b class="dm-node-prop">is-id</b></p></li><li><p><b class="dm-node-prop">is-idrefs</b></p></li></ul><p>Attribute Nodes <strong>must</strong> satisfy the following constraints.</p><ol class="enumar"><li><p>If an Attribute Node <em>A</em> is among the <b class="dm-node-prop">attributes</b> of an element <em>E</em>, then the <b class="dm-node-prop">parent</b> of <em>A</em><strong>must</strong> be <em>E</em>.</p></li><li><p>If a Attribute Node <em>A</em> has a parent element <em>E</em>, then <em>A</em><strong>must</strong> be among the <b class="dm-node-prop">attributes</b> of <em>E</em>.</p><p>The data model permits Attribute Nodes without parents (to represent partial results during expression processing, for example). Such attributes <strong>must not</strong> appear among the <b class="dm-node-prop">attributes</b> of any Element Node.</p></li><li><p>In the node-name of an attribute node, if a namespace URI is present then a prefix <strong>must</strong> also be present.</p></li></ol><p>For convenience, the Element Node that owns this attribute is called its "parent" even though an Attribute Node is not a "child" of its parent element.</p></div><div class="div3"><h4><a name="AttributeNodeAccessors" id="AttributeNodeAccessors"></a>6.3.2 Accessors</h4><dl><dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt><dd><p>If the attribute has a parent, returns the value of the <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> of its parent; otherwise it returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">is-id</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">is-idrefs</b> property.</p></dd><dt class="label"><span style="display: none;" class="delete_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></span><span style="display: none;" class="add_version"><span class="function"><a href="#dm-namespace-bindings"><span class="prefix">dm:</span>namespace-bindings</a></span></span><span class="modify_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-old" style="background:#FF5555">dm:</span></span><span class="deltaxml-old" style="background:#FF5555">namespace-nodes</span></a><a href="#dm-namespace-bindings"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></a></span></span></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the empty sequence.</span></p></dd><dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-nodes</span></a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt><dd><p>Returns “<code>attribute</code>”.</p></dd><dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">node-name</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">string-value</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">type-name</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">typed-value</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div class="div3"><h4><a name="const-infoset-attribute" id="const-infoset-attribute"></a>6.3.3 Construction from an Infoset</h4><p>The <b class="info-item">attribute information items</b> are required. An Attribute Node is constructed for each <b class="info-item">attribute information item</b>.</p><p>The following infoset properties are required: <b class="infoset-property">[namespace name]</b>, <b class="infoset-property">[local name]</b>, <b class="infoset-property">[normalized value]</b>, <b class="infoset-property">[attribute type]</b>, and <b class="infoset-property">[owner element]</b>.</p><p>Attribute Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">node-name</b></dt><dd><p>An <code>xs:QName</code> constructed from the <b class="infoset-property">[prefix]</b>, <b class="infoset-property">[local name]</b>, and <b class="infoset-property">[namespace name]</b> properties.</p></dd><dt class="label"><b class="dm-node-prop">parent</b></dt><dd><p>The Element Node that corresponds to the value of the <b class="infoset-property">[owner element]</b> property or the empty sequence if there is no owner.</p></dd><dt class="label"><b class="dm-node-prop">type-name</b></dt><dd><p>The value <code>xs:untypedAtomic</code>.</p></dd><dt class="label"><b class="dm-node-prop">string-value</b></dt><dd><p>The <b class="infoset-property">[normalized value]</b> of the attribute.</p></dd><dt class="label"><b class="dm-node-prop">typed-value</b></dt><dd><p>The attribute’s typed-value is its <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> as an <code>xs:untypedAtomic</code>.</p></dd><dt class="label"><b class="dm-node-prop">is-id</b></dt><dd><p>If the attribute is named <code>xml:id</code> and its <b class="infoset-property">[attribute type]</b> property does not have the value <code>ID</code>, then <a href="#xml-id">[xml:id]</a> processing is performed. This will assure that the value does have the type <code>ID</code> and that it is properly normalized. If an error is encountered during xml:id processing, an implementation <strong>may</strong> raise a dynamic error. The <b class="dm-node-prop">is-id</b> property is always <code>true</code> for attributes named <code>xml:id</code>.</p><p>If the <b class="infoset-property">[attribute type]</b> property has the value <code>ID</code>, <code>true</code>, otherwise <code>false</code>.</p></dd><dt class="label"><b class="dm-node-prop">is-idrefs</b></dt><dd><p>If the <b class="infoset-property">[attribute type]</b> property has the value <code>IDREF</code> or <code>IDREFS</code>, <code>true</code>, otherwise <code>false</code>.</p></dd></dl></div><div class="div3"><h4><a name="const-psvi-attribute" id="const-psvi-attribute"></a>6.3.4 Construction from a PSVI</h4><p>The following Attribute Node properties are affected by PSVI properties.</p><dl><dt class="label"><b class="dm-node-prop">string-value</b></dt><dd><ul><li><p>The <b class="infoset-property">[schema normalized value]</b> PSVI property if that exists.</p></li><li><p>Otherwise, the <b class="infoset-property">[normalized value]</b> property.</p></li></ul><p>If an implementation stores only the typed value of an attribute, it may use any valid lexical representation of the typed value for the <b class="dm-node-prop">string-value</b> property.</p></dd><dt class="label"><b class="dm-node-prop">type-name</b></dt><dd><p>The <b class="dm-node-prop">type-name</b> is determined as described in <a href="#PSVI2NodeTypes"><b>3.3.1.1 Element and Attribute Node Type Names</b></a>.</p></dd><dt class="label"><b class="dm-node-prop">typed-value</b></dt><dd><p>The typed-value is calculated as follows:</p><ul><li><p>If the attribute is of type <code>xs:untypedAtomic</code>: its typed-value is its <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> as an <code>xs:untypedAtomic</code>.</p></li><li><p>Otherwise, a sequence of zero or more atomic values as described in <a href="#TypedValueDetermination"><b>3.3.1.2 Typed Value Determination</b></a>. The relationship between the type-name, typed-value, and string-value of an attribute node is consistent with XML Schema validation.</p></li></ul></dd><dt class="label"><b class="dm-node-prop">is-id</b></dt><dd><p>If the attribute is named <code>xml:id</code> and its <b class="infoset-property">[attribute type]</b> property does not have the value <code>xs:ID</code> or a type derived from <code>xs:ID</code>, then <a href="#xml-id">[xml:id]</a> processing is performed. This will assure that the value does have the type <code>xs:ID</code> and that it is properly normalized. If an error is encountered during xml:id processing, an implementation <strong>may</strong> raise a dynamic error. The <b class="dm-node-prop">is-id</b> property is always true for attributes named <code>xml:id</code>.</p><p>Otherwise, if the typed-value of the attribute consists of exactly one atomic value and that value is of type <code>xs:ID</code>, or a type derived from <code>xs:ID</code>, the <b class="dm-node-prop">is-id</b> property is <code>true</code>, otherwise it is <code>false</code>.</p><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>This means that in the case of a type constructed by list from <code>xs:ID</code>, the ID is recognized provided that the list is of length one. A type constructed as a union involving <code>xs:ID</code> is recognized provided the actual value is of type <code>xs:ID</code>.</p></td></tr></table></blockquote></dd><dt class="label"><b class="dm-node-prop">is-idrefs</b></dt><dd><p>If any of the atomic values in the typed-value of the attribute is of type <code>xs:IDREF</code> or <code>xs:IDREFS</code>, or a type derived from one of those types, the <b class="dm-node-prop">is-idrefs</b> property is <code>true</code>, otherwise it is <code>false</code>.</p><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>This rule means that a type constructed by list with an item type of <code>xs:IDREF</code> (or a type derived from <code>xs:IDREF</code>) has the <b class="dm-node-prop">is-idrefs</b> property, whether or not the list type is named <code>xs:IDREFS</code> or is derived from <code>xs:IDREFS</code>. Because union types are allowed, it also means that an element or attribute with the <b class="dm-node-prop">is-idrefs</b> property can contain atomic values of type <code>xs:IDREF</code> alongside values of other types.</p></td></tr></table></blockquote></dd></dl><p>All other properties have values that are consistent with construction from an infoset.</p><p>Note: attributes from the XML Schema instance namespace, "<code>http://www.w3.org/2001/XMLSchema-instance</code>", (<code>xsi:schemaLocation</code>, <code>xsi:type</code>, etc.) appear as ordinary attributes in the data model.</p></div><div class="div3"><h4><a name="infoset-mapping-attribute" id="infoset-mapping-attribute"></a>6.3.5 Infoset Mapping</h4><p>An Attribute Node maps to an <b class="info-item">attribute information item</b>.</p><p>The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[namespace name]</b></dt><dd><p>The namespace name of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[local name]</b></dt><dd><p>The local part of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[prefix]</b></dt><dd><p>The prefix associated with the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[normalized value]</b></dt><dd><p>The value of <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>.</p></dd><dt class="label"><b class="infoset-property">[owner element]</b></dt><dd><ul><li><p>If this node has a parent, the information item that corresponds to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.</p></li><li><p>Otherwise <em>no value</em>.</p></li></ul></dd></dl><p>The following properties have no value: <b class="infoset-property">[specified]</b><b class="infoset-property">[attribute type]</b><b class="infoset-property">[references]</b>.</p></div></div><div class="div2"><h3><a name="NamespaceNode" id="NamespaceNode"></a>6.4 Namespace Nodes</h3><div class="div3"><h4><a name="NamespaceNodeOverview" id="NamespaceNodeOverview"></a>6.4.1 Overview</h4><p>Each Namespace Node represents the binding of a namespace URI to a namespace prefix or to the default namespace. Implementations that do not use Namespace Nodes may represent the same information using the <b class="dm-node-prop">namespaces</b> property of an element node. Namespaces have the following properties:</p><ul><li><p><b class="dm-node-prop">prefix</b>, possibly empty</p></li><li><p><b class="dm-node-prop">uri</b></p></li><li><p><b class="dm-node-prop">parent</b>, possibly empty</p></li></ul><p>Namespace Nodes <strong>must</strong> satisfy the following constraints.</p><ol class="enumar"><li><p>If a Namespace Node <em>N</em> is among the namespaces of an element <em>E</em>, then the parent of <em>N</em><strong>must</strong> be <em>E</em>.</p></li><li><p>If a Namespace Node <em>N</em> has a parent element <em>E</em>, then <em>N</em><strong>must</strong> be among the namespaces of <em>E</em>.</p></li><li><p>A Namespace Node <strong>must</strong> not have the name <code>xmlns</code> nor the string-value <code>http://www.w3.org/2000/xmlns/</code>.</p></li></ol><p>The data model permits Namespace Nodes without parents, see below.</p><p>In XPath 1.0, Namespace Nodes were directly accessible by applications, by means of the namespace axis. In XPath 2.0 the namespace axis is deprecated, and it is not available at all in XQuery 1.0. XPath 2.0 implementations are not required to expose the namespace axis, though they may do so if they wish to offer backwards compatibility.</p><p>The information held in namespace nodes is instead made available to applications using functions defined in <a href="#xpath-functions-11">[XQuery and XPath Functions and Operators 1.1]</a>. Some properties of Namespace Nodes are not exposed by these functions: in particular, properties related to the identity of Namespace Nodes, their parentage, and their position in document order. Implementations that do not expose the namespace axis can therefore avoid the overhead of maintaining this information.</p><p>Implementations that expose the namespace axis <strong>must</strong> provide unique Namespace Nodes for each element. Each element has an associated set of Namespace Nodes, one for each distinct namespace prefix that is in scope for the element (including the <code>xml</code> prefix, which is implicitly declared by <a href="#xml-names">[Namespaces in XML]</a> and one for the default namespace if one is in scope for the element. The element is the parent of each of these Namespace Nodes; however, a Namespace Node is not a child of its parent element. In implementations that expose the namespace axis, elements never share namespace nodes.</p><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>In implementations that do not expose the namespace axis, there is no means by which the host language can tell if namespace nodes are shared or not and, in such circumstances, sharing namespace nodes may be a very reasonable implementation strategy.</p></td></tr></table></blockquote></div><div class="div3"><h4><a name="NamespaceNodeAccessors" id="NamespaceNodeAccessors"></a>6.4.2 Accessors</h4><dl><dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span style="display: none;" class="delete_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></span><span style="display: none;" class="add_version"><span class="function"><a href="#dm-namespace-bindings"><span class="prefix">dm:</span>namespace-bindings</a></span></span><span class="modify_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-old" style="background:#FF5555">dm:</span></span><span class="deltaxml-old" style="background:#FF5555">namespace-nodes</span></a><a href="#dm-namespace-bindings"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></a></span></span></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the empty sequence.</span></p></dd><dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-nodes</span></a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt><dd><p>Returns “<code>namespace</code>”.</p></dd><dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt><dd><p>If the <b class="dm-node-prop">prefix</b> is not empty, returns an <code>xs:QName</code> with the value of the <b class="dm-node-prop">prefix</b> property in the local-name and an empty namespace name, otherwise returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">uri</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">uri</b> property as an <code>xs:string</code>.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div class="div3"><h4><a name="const-infoset-namespace" id="const-infoset-namespace"></a>6.4.3 Construction from an Infoset</h4><p>The <b class="info-item">namespace information items</b> are required.</p><p>The following infoset properties are required: <b class="infoset-property">[prefix]</b>, <b class="infoset-property">[namespace name]</b>.</p><p>Namespace Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">prefix</b></dt><dd><p>The <b class="infoset-property">[prefix]</b> property.</p></dd><dt class="label"><b class="dm-node-prop">uri</b></dt><dd><p>The <b class="infoset-property">[namespace name]</b> property.</p></dd><dt class="label"><b class="dm-node-prop">parent</b></dt><dd><p>The element in whose <b class="infoset-property">[in-scope namespaces]</b> property the <b class="info-item">namespace information item</b> appears, if the implementation exposes any mechanism for accessing the <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span> accessor of Namespace Nodes.</p></dd></dl></div><div class="div3"><h4><a name="const-psvi-namespace" id="const-psvi-namespace"></a>6.4.4 Construction from a PSVI</h4><p>Construction from a PSVI is identical to construction from the Infoset.</p></div><div class="div3"><h4><a name="infoset-mapping-namespace" id="infoset-mapping-namespace"></a>6.4.5 Infoset Mapping</h4><p>A Namespace Node maps to a <b class="info-item">namespace information item</b>.</p><p>The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[prefix]</b></dt><dd><p>The prefix associated with the namespace.</p></dd><dt class="label"><b class="infoset-property">[namespace name]</b></dt><dd><p>The value of <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>.</p></dd></dl></div></div><div class="div2"><h3><a name="ProcessingInstructionNode" id="ProcessingInstructionNode"></a>6.5 Processing Instruction Nodes</h3><div class="div3"><h4><a name="ProcessingInstructionNodeOverview" id="ProcessingInstructionNodeOverview"></a>6.5.1 Overview</h4><p>Processing Instruction Nodes encapsulate XML processing instructions. Processing instructions have the following properties:</p><ul><li><p><b class="dm-node-prop">target</b></p></li><li><p><b class="dm-node-prop">content</b></p></li><li><p><b class="dm-node-prop">base-uri</b>, possibly empty</p></li><li><p><b class="dm-node-prop">parent</b>, possibly empty</p></li></ul><p>Processing Instruction Nodes <strong>must</strong> satisfy the following constraints.</p><ol class="enumar"><li><p>The string "?&gt;" <strong>must not</strong> occur within the <b class="dm-node-prop">content</b>.</p></li><li><p>The <b class="dm-node-prop">target</b><strong>must</strong> be an <code>NCName</code>.</p></li></ol></div><div class="div3"><h4><a name="ProcessingInstructionNodeAccessors" id="ProcessingInstructionNodeAccessors"></a>6.5.2 Accessors</h4><dl><dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">base-uri</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span style="display: none;" class="delete_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></span><span style="display: none;" class="add_version"><span class="function"><a href="#dm-namespace-bindings"><span class="prefix">dm:</span>namespace-bindings</a></span></span><span class="modify_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-old" style="background:#FF5555">dm:</span></span><span class="deltaxml-old" style="background:#FF5555">namespace-nodes</span></a><a href="#dm-namespace-bindings"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></a></span></span></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the empty sequence.</span></p></dd><dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-nodes</span></a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt><dd><p>Returns “<code>processing-instruction</code>”.</p></dd><dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt><dd><p>Returns an <code>xs:QName</code> with the value of the <b class="dm-node-prop">target</b> property in the local-name and an empty namespace URI and empty prefix.</p></dd><dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">content</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">content</b> property as a <code>xs:string</code>.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div class="div3"><h4><a name="const-infoset-pi" id="const-infoset-pi"></a>6.5.3 Construction from an Infoset</h4><p>A Processing Instruction Node is constructed for each <b class="info-item">processing instruction information item</b> that is not ignored.</p><p>The following infoset properties are required: <b class="infoset-property">[target]</b>, <b class="infoset-property">[content]</b>, <b class="infoset-property">[base URI]</b>, and <b class="infoset-property">[parent]</b>.</p><p>Processing Instruction Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">target</b></dt><dd><p>The value of the <b class="infoset-property">[target]</b> property.</p></dd><dt class="label"><b class="dm-node-prop">content</b></dt><dd><p>The value of the <b class="infoset-property">[content]</b> property.</p></dd><dt class="label"><b class="dm-node-prop">base-uri</b></dt><dd><p>The value of the <b class="infoset-property">[base URI]</b> property, if available. Note that the base URI property, if available, is always an absolute URI (if an absolute URI can be computed) though it may contain Unicode characters that are not allowed in URIs. These characters, if they occur, are present in the <b class="dm-node-prop">base-uri</b> property and will have to be encoded and escaped by the application to obtain a URI suitable for retrieval, if retrieval is required.</p><p>In practice a <b class="infoset-property">[base URI]</b> is not always known. In this case the value of the <b class="dm-node-prop">base-uri</b> property of the document node will be the empty sequence. This is not intrinsically an error, though it may cause some operations that depend on the base URI to fail.</p></dd><dt class="label"><b class="dm-node-prop">parent</b></dt><dd><p>The node corresponding to the value of the <b class="infoset-property">[parent]</b> property.</p></dd></dl><p>There are no Processing Instruction Nodes for processing instructions that are children of a <b class="info-item">document type declaration information item</b>.</p></div><div class="div3"><h4><a name="const-psvi-pi" id="const-psvi-pi"></a>6.5.4 Construction from a PSVI</h4><p>Construction from a PSVI is identical to construction from the Infoset.</p></div><div class="div3"><h4><a name="infoset-mapping-processing-instruction" id="infoset-mapping-processing-instruction"></a>6.5.5 Infoset Mapping</h4><p>An Processing Instruction Node maps to a <b class="info-item">processing instruction information item</b>.</p><p>The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[target]</b></dt><dd><p>The local part of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[content]</b></dt><dd><p>The value of <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>.</p></dd><dt class="label"><b class="infoset-property">[base URI]</b></dt><dd><p>The value of <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span>.</p></dd><dt class="label"><b class="infoset-property">[parent]</b></dt><dd><ul><li><p>If this node is the root of the infoset mapping operation, <em>unknown</em>.</p></li><li><p>If this node has a parent, the information item that corresponds to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.</p></li><li><p>Otherwise <em>no value</em>.</p></li></ul></dd><dt class="label"><b class="infoset-property">[notation]</b></dt><dd><p><em>no value</em>.</p></dd></dl></div></div><div class="div2"><h3><a name="CommentNode" id="CommentNode"></a>6.6 Comment Nodes</h3><div class="div3"><h4><a name="CommentNodeOverview" id="CommentNodeOverview"></a>6.6.1 Overview</h4><p>Comment Nodes encapsulate XML comments. Comments have the following properties:</p><ul><li><p><b class="dm-node-prop">content</b></p></li><li><p><b class="dm-node-prop">parent</b>, possibly empty</p></li></ul><p>Comment Nodes <strong>must</strong> satisfy the following constraints.</p><ol class="enumar"><li><p>The string "--" <strong>must not</strong> occur within the <b class="dm-node-prop">content</b>.</p></li><li><p>The character "-" <strong>must not</strong> occur as the last character of the <b class="dm-node-prop">content</b>.</p></li></ol></div><div class="div3"><h4><a name="CommentNodeAccessors" id="CommentNodeAccessors"></a>6.6.2 Accessors</h4><dl><dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt><dd><p>If the comment has a parent, returns the value of the <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> of its parent; otherwise, returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span style="display: none;" class="delete_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></span><span style="display: none;" class="add_version"><span class="function"><a href="#dm-namespace-bindings"><span class="prefix">dm:</span>namespace-bindings</a></span></span><span class="modify_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-old" style="background:#FF5555">dm:</span></span><span class="deltaxml-old" style="background:#FF5555">namespace-nodes</span></a><a href="#dm-namespace-bindings"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></a></span></span></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the empty sequence.</span></p></dd><dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-nodes</span></a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt><dd><p>Returns “<code>comment</code>”.</p></dd><dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">content</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">content</b> property as a <code>xs:string</code>.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div class="div3"><h4><a name="const-infoset-comment" id="const-infoset-comment"></a>6.6.3 Construction from an Infoset</h4><p>The <b class="info-item">comment information items</b> are optional.</p><p>A Comment Node is constructed for each <b class="info-item">comment information item</b>.</p><p>The following infoset properties are required: <b class="infoset-property">[content]</b> and <b class="infoset-property">[parent]</b>.</p><p>Comment Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">content</b></dt><dd><p>The value of the <b class="infoset-property">[content]</b> property.</p></dd><dt class="label"><b class="dm-node-prop">parent</b></dt><dd><p>The node corresponding to the value of the <b class="infoset-property">[parent]</b> property.</p></dd></dl><p>There are no Comment Nodes for comments that are children of a <b class="info-item">document type declaration information item</b>.</p></div><div class="div3"><h4><a name="const-psvi-comment" id="const-psvi-comment"></a>6.6.4 Construction from a PSVI</h4><p>Construction from a PSVI is identical to construction from the Infoset.</p></div><div class="div3"><h4><a name="infoset-mapping-comment" id="infoset-mapping-comment"></a>6.6.5 Infoset Mapping</h4><p>A Comment Node maps to a <b class="info-item">comment information item</b>.</p><p>The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[content]</b></dt><dd><p>The value of the <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>.</p></dd><dt class="label"><b class="infoset-property">[parent]</b></dt><dd><ul><li><p>If this node is the root of the infoset mapping operation, <em>unknown</em>.</p></li><li><p>If this node has a parent, the information item that corresponds to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.</p></li><li><p>Otherwise <em>no value</em>.</p></li></ul></dd></dl></div></div><div class="div2"><h3><a name="TextNode" id="TextNode"></a>6.7 Text Nodes</h3><div class="div3"><h4><a name="TextNodeOverview" id="TextNodeOverview"></a>6.7.1 Overview</h4><p>Text Nodes encapsulate XML character content. Text has the following properties:</p><ul><li><p><b class="dm-node-prop">content</b></p></li><li><p><b class="dm-node-prop">parent</b>, possibly empty.</p></li></ul><p>Text Nodes <strong>must</strong> satisfy the following constraint:</p><ol class="enumar"><li><p>If the <b class="dm-node-prop">parent</b> of a text node is not empty, the Text Node <strong>must not</strong> contain the zero-length string as its <b class="dm-node-prop">content</b>.</p></li></ol><p>In addition, Document and Element Nodes impose the constraint that two consecutive Text Nodes can never occur as adjacent siblings. When a Document or Element Node is constructed, Text Nodes that would be adjacent <strong>must</strong> be combined into a single Text Node. If the resulting Text Node is empty, it <strong>must</strong> never be placed among the children of its parent, it is simply discarded.</p></div><div class="div3"><h4><a name="TextNodeAccessors" id="TextNodeAccessors"></a>6.7.2 Accessors</h4><dl><dt class="label"><span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span></dt><dd><p>If the Text Node has a parent, returns the value of the <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> of its parent; otherwise, returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-document-uri"><span class="prefix">dm:</span>document-uri</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-is-id"><span class="prefix">dm:</span>is-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-is-idrefs"><span class="prefix">dm:</span>is-idrefs</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span style="display: none;" class="delete_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix">dm:</span>namespace-nodes</a></span></span><span style="display: none;" class="add_version"><span class="function"><a href="#dm-namespace-bindings"><span class="prefix">dm:</span>namespace-bindings</a></span></span><span class="modify_version"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-old" style="background:#FF5555">dm:</span></span><span class="deltaxml-old" style="background:#FF5555">namespace-nodes</span></a><a href="#dm-namespace-bindings"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></a></span></span></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the empty sequence.</span></p></dd><dt class="label"><span class="function"><a href="#dm-namespace-nodes"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-nodes</span></a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-nilled"><span class="prefix">dm:</span>nilled</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-node-kind"><span class="prefix">dm:</span>node-kind</a></span></dt><dd><p>Returns “<code>text</code>”.</p></dd><dt class="label"><span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">content</b> property.</p></dd><dt class="label"><span class="function"><a href="#dm-type-name"><span class="prefix">dm:</span>type-name</a></span></dt><dd><p>Returns <code>xs:untypedAtomic</code>.</p></dd><dt class="label"><span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span></dt><dd><p>Returns the value of the <b class="dm-node-prop">content</b> property as an <code>xs:untypedAtomic</code>.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd><dt class="label"><span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div class="div3"><h4><a name="const-infoset-text" id="const-infoset-text"></a>6.7.3 Construction from an Infoset</h4><p>The <b class="info-item">character information items</b> are required. A Text Node is constructed for each maximal sequence of <b class="info-item">character information items</b> in document order.</p><p>The following infoset properties are required: <b class="infoset-property">[character code]</b> and <b class="infoset-property">[parent]</b>.</p><p>The following infoset properties are optional: <b class="infoset-property">[element content whitespace]</b>.</p><p>A sequence of <b class="info-item">character information items</b> is maximal if it satisfies the following constraints:</p><ol class="enumar"><li><p>All of the information items in the sequence have the same parent.</p></li><li><p>The sequence consists of adjacent <b class="info-item">character information items</b> uninterrupted by other types of information item.</p></li><li><p>No other such sequence exists that contains any of the same <b class="info-item">character information items</b> and is longer.</p></li></ol><p>Text Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">content</b></dt><dd><p>A string comprised of characters that correspond to the <b class="infoset-property">[character code]</b> properties of each of the <b class="info-item">character information items</b>.</p><p>If the resulting Text Node consists entirely of whitespace and the <b class="infoset-property">[element content whitespace]</b> property of the <b class="info-item">character information items</b> used to construct this node are <code>true</code>, the <b class="dm-node-prop">content</b> of the Text Node is the zero-length string. Text Nodes are only allowed to be empty if they have no parents; an empty Text Node will be discarded when its parent is constructed, if it has a parent.</p><p>The content of the Text Node is not necessarily normalized as described in the <a href="#charmod">[Character Model]</a>. It is the responsibility of data producers to provide normalized text, and the responsibility of applications to make sure that operations do not de-normalize text.</p></dd><dt class="label"><b class="dm-node-prop">parent</b></dt><dd><p>The node corresponding to the value of the <b class="infoset-property">[parent]</b> property.</p></dd></dl></div><div class="div3"><h4><a name="const-psvi-text" id="const-psvi-text"></a>6.7.4 Construction from a PSVI</h4><p>For Text Nodes constructed from the <b class="infoset-property">[schema normalized value]</b> of elements, <b class="dm-node-prop">content</b> contains the value of the <b class="infoset-property">[schema normalized value]</b>.</p><p>Otherwise, construction from a PSVI is the same as construction from the Infoset except for the <b class="dm-node-prop">content</b> property. When constructing the <b class="dm-node-prop">content</b> property, <b class="infoset-property">[element content whitespace]</b> is not used to test if whitespace is collapsed. Instead, if the resulting Text Node consists entirely of whitespace and the <b class="info-item">character information items</b> used to construct this node have a parent and that parent is an element and its {content type} is not “<code>mixed</code>”, then the <b class="dm-node-prop">content</b> of the Text Node is the zero-length string.</p><p>Text Nodes are only allowed to be empty if they have no parents; an empty Text Node will be discarded when its parent is constructed, if it has a parent.</p></div><div class="div3"><h4><a name="infoset-mapping-text" id="infoset-mapping-text"></a>6.7.5 Infoset Mapping</h4><p>A Text Node maps to a sequence of <b class="info-item">character information items</b>.</p><p>Each character of the <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> of the node is converted into a <b class="info-item">character information item</b> as specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[character code]</b></dt><dd><p>The Unicode code point value of the character.</p></dd><dt class="label"><b class="infoset-property">[parent]</b></dt><dd><ul><li><p>If this node is the root of the infoset mapping operation, <em>unknown</em>.</p></li><li><p>If this node has a parent, the information item that corresponds to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.</p></li><li><p>Otherwise <em>no value</em>.</p></li></ul></dd><dt class="label"><b class="infoset-property">[element content whitespace]</b></dt><dd><p><em>Unknown</em>.</p></dd></dl><p>This sequence of characters constitutes the infoset mapping.</p></div></div></div><div class="div1"><h2><a name="conformance" id="conformance"></a>7 Conformance</h2><p>The data model is intended primarily as a component that can be used by other specifications. Therefore, the data model relies on specifications that use it (such as <a href="#xpath-21">[XML Path Language (XPath) 2.1]</a>, <a href="#xslt-21">[XSL Transformations (XSLT) Version 2.1]</a>, and <a href="#xquery-11">[XQuery 1.1: An XML Query Language]</a>) to specify conformance criteria for the data model in their respective environments. Specifications that set conformance criteria for their use of the data model must not relax the constraints expressed in this specification.</p><p>Authors of conformance criteria for the use of the data model should pay particular attention to the following features of the data model:</p><ol class="enumar"><li><p>Support for the normative construction from an infoset described in <a href="#const-infoset"><b>3.2 Construction from an Infoset</b></a>.</p></li><li><p>Support for the normative construction from a PSVI described in <a href="#const-psvi"><b>3.3 Construction from a PSVI</b></a>.</p></li><li><p>Support for XML 1.0 and XML 1.1.</p></li><li><p>Support for data types in XML Schema 1.0 and XML Schema 1.1.</p></li><li><p>How namespaces are supported, through nodes or through the alternative, implementation-dependent representation.</p></li></ol></div></div><div class="back"><div class="div1"><h2><a name="infoset-conformance" id="infoset-conformance"></a>A XML Information Set Conformance</h2><p>This specification conforms to the XML Information Set <a href="#xml-infoset">[Infoset]</a>. The following information items <strong>must</strong> be exposed by the infoset producer to construct a data model unless they are explicitly identified as optional:</p><ul><li><p>The <b class="info-item">Document Information Item</b> with <b class="infoset-property">[base URI]</b>, <b class="infoset-property">[children]</b>, and, optionally, <b class="infoset-property">[unparsed entities]</b> properties. If the <b class="infoset-property">[unparsed entities]</b> property is supported, the <b class="info-item">Unparsed Entity Information Items</b> must also be supported.</p></li><li><p><b class="info-item">Element Information Items</b> with <b class="infoset-property">[base URI]</b>, <b class="infoset-property">[children]</b>, <b class="infoset-property">[attributes]</b>, <b class="infoset-property">[in-scope namespaces]</b>, <b class="infoset-property">[prefix]</b>, <b class="infoset-property">[local name]</b>, <b class="infoset-property">[namespace name]</b>, <b class="infoset-property">[parent]</b> properties.</p></li><li><p><b class="info-item">Attribute Information Items</b> with <b class="infoset-property">[namespace name]</b>, <b class="infoset-property">[prefix]</b>, <b class="infoset-property">[local name]</b>, <b class="infoset-property">[normalized value]</b>, <b class="infoset-property">[attribute type]</b>, and <b class="infoset-property">[owner element]</b> properties.</p></li><li><p><b class="info-item">Character Information Items</b> with <b class="infoset-property">[character code]</b>, <b class="infoset-property">[parent]</b>, and, optionally, <b class="infoset-property">[element content whitespace]</b> properties.</p></li><li><p><b class="info-item">Processing Instruction Information Items</b> with <b class="infoset-property">[base URI]</b>, <b class="infoset-property">[target]</b>, <b class="infoset-property">[content]</b> and <b class="infoset-property">[parent]</b> properties.</p></li><li><p><b class="info-item">Comment Information Items</b> with <b class="infoset-property">[content]</b> and <b class="infoset-property">[parent]</b> properties.</p></li><li><p><b class="info-item">Namespace Information Items</b> with <b class="infoset-property">[prefix]</b> and <b class="infoset-property">[namespace name]</b> properties.</p></li></ul><p>Other information items and properties made available by the Infoset processor are ignored. In addition to the properties above, the following PSVI properties are required on <b class="info-item">Element Information Items</b> and <b class="info-item">Attribute Information Items</b> if the data model is constructed from a PSVI:</p><ul><li><p><b class="infoset-property">[validity]</b>, <b class="infoset-property">[validation attempted]</b>, <b class="infoset-property">[type definition]</b>, <b class="infoset-property">[type definition namespace]</b>, <b class="infoset-property">[type definition name]</b>, <b class="infoset-property">[type definition anonymous]</b>, <b class="infoset-property">[nil]</b>, <b class="infoset-property">[member type definition]</b>, <b class="infoset-property">[member type definition namespace]</b>, <b class="infoset-property">[member type definition name]</b>, <b class="infoset-property">[member type definition anonymous]</b> and <b class="infoset-property">[schema normalized value]</b>.</p></li></ul></div><div class="div1"><h2><a name="references" id="references"></a>B References</h2><div class="div2"><h3><a name="normative-references" id="normative-references"></a>B.1 Normative References</h3><dl><dt class="label"><span><a name="xml-infoset" id="xml-infoset"></a>Infoset</span></dt><dd><div><a href="http://www.w3.org/TR/xml-infoset"><cite>XML Information Set (Second Edition)</cite></a>, Richard Tobin and John Cowan, Editors. World Wide Web Consortium, 04 Feb 2004. This version is http://www.w3.org/TR/2004/REC-xml-infoset-20040204. The <a href="http://www.w3.org/TR/xml-infoset">latest version</a> is available at http://www.w3.org/TR/xml-infoset.</div></dd><dt class="label"><span><a name="xml-names" id="xml-names"></a>Namespaces in XML</span></dt><dd><div><a href="http://www.w3.org/TR/xml-names"><cite><span class="deltaxml-old" style="background:#FF5555">Namespaces in XML 1.0 (Third Edition)</span></cite></a><span class="deltaxml-old" style="background:#FF5555">, Dave Hollander, Richard Tobin, Tim Bray, </span><em><span class="deltaxml-old" style="background:#FF5555">et. al.</span></em><span class="deltaxml-old" style="background:#FF5555">, Editors. World Wide Web Consortium, 08 Dec 2009. This version is http://www.w3.org/TR/2009/REC-xml-names-20091208/. The </span><a href="http://www.w3.org/TR/xml-names"><span class="deltaxml-old" style="background:#FF5555">latest version</span></a><span class="deltaxml-old" style="background:#FF5555"> is available at http://www.w3.org/TR/xml-names.</span></div><div><span class="deltaxml-new" style="background:#90EE90">ERROR: NO xml-names KNOWN!</span></div></dd><dt class="label"><span><a name="xml-names11" id="xml-names11"></a>Namespaces in XML 1.1</span></dt><dd><div><a href="http://www.w3.org/TR/xml-names11/"><cite>Namespaces in XML 1.1 (Second Edition)</cite></a>, <span class="deltaxml-new" style="background:#90EE90">Richard Tobin, </span>Dave Hollander, Tim Bray, <span class="deltaxml-new" style="background:#90EE90">and </span>Andrew Layman, <span class="deltaxml-old" style="background:#FF5555">and Richard Tobin, </span>Editors. World Wide Web Consortium, 16 Aug 2006. This version is http://www.w3.org/TR/2006/REC-xml-names11-20060816. The <a href="http://www.w3.org/TR/xml-names11/">latest version</a> is available at http://www.w3.org/TR/xml-names11/.</div></dd><dt class="label"><span><a name="xml-id" id="xml-id"></a>xml:id</span></dt><dd><div><a href="http://www.w3.org/TR/xml-id/"><cite>xml:id Version 1.0</cite></a>, Norman Walsh, <span class="deltaxml-old" style="background:#FF5555">Daniel Veillard, and </span>Jonathan Marsh, <span class="deltaxml-new" style="background:#90EE90">and Daniel Veillard, </span>Editors. World Wide Web Consortium, 09 Sep 2005. This version is http://www.w3.org/TR/2005/REC-xml-id-20050909/. The <a href="http://www.w3.org/TR/xml-id/">latest version</a> is available at http://www.w3.org/TR/xml-id/.</div></dd><dt class="label"><span><a name="xpath-21" id="xpath-21"></a>XML Path Language (XPath) 2.1</span></dt><dd><div><a href="http://www.w3.org/TR/xpath-21/"><cite>XML Path Language (XPath) 2.1</cite></a>, Jonathan Robie, Don Chamberlin, Michael Dyck, John Snelson, Editors. World Wide Web Consortium, 15 December 2009. This version is http://www.w3.org/TR/2009/WD-xpath-21-20091215/. The <a href="http://www.w3.org/TR/xpath-21/">latest version</a> is available at http://www.w3.org/TR/xpath-21/.</div></dd><dt class="label"><span><a name="xpath-functions-11" id="xpath-functions-11"></a>XQuery and XPath Functions and Operators 1.1</span></dt><dd><div><a href="http://www.w3.org/TR/xpath-functions-11/"><cite>XQuery and XPath Functions and Operators 1.1</cite></a>, Michael Kay, Editor. World Wide Web Consortium, 15 December 2009. This version is http://www.w3.org/TR/2009/WD-xpath-functions-11-20091215/. The <a href="http://www.w3.org/TR/xpath-functions-11/">latest version</a> is available at http://www.w3.org/TR/xpath-functions-11/.</div></dd><dt class="label"><span><a name="xmlschema-1" id="xmlschema-1"></a>Schema Part 1</span></dt><dd><div><a href="http://www.w3.org/TR/xmlschema-1/"><cite>XML Schema Part 1: Structures Second Edition</cite></a>, <span class="deltaxml-old" style="background:#FF5555">David Beech, </span>Henry S. Thompson, <span class="deltaxml-old" style="background:#FF5555">Murray Maloney</span><span class="deltaxml-new" style="background:#90EE90">David Beech</span>, <span class="deltaxml-old" style="background:#FF5555">and </span>Noah Mendelsohn, <span class="deltaxml-new" style="background:#90EE90">and Murray Maloney, </span>Editors. World Wide Web Consortium, 28 Oct 2004. This version is http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/. The <a href="http://www.w3.org/TR/xmlschema-1/">latest version</a> is available at http://www.w3.org/TR/xmlschema-1/.</div></dd><dt class="label"><span><a name="xmlschema-2" id="xmlschema-2"></a>Schema Part 2</span></dt><dd><div><a href="http://www.w3.org/TR/xmlschema-2/"><cite>XML Schema Part 2: Datatypes Second Edition</cite></a>, Ashok Malhotra and Paul V. Biron, Editors. World Wide Web Consortium, 28 Oct 2004. This version is http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/. The <a href="http://www.w3.org/TR/xmlschema-2/">latest version</a> is available at http://www.w3.org/TR/xmlschema-2/.</div></dd><dt class="label"><span><a name="xmlschema11-1" id="xmlschema11-1"></a>Schema 1.1 Part 1</span></dt><dd><div><a href="http://www.w3.org/TR/xmlschema11-1/"><cite><span class="deltaxml-old" style="background:#FF5555">W3C XML Schema Definition Language (XSD) 1.1 Part 1: Structures</span></cite></a><span class="deltaxml-old" style="background:#FF5555">, Murray Maloney, Noah Mendelsohn, David Beech, </span><em><span class="deltaxml-old" style="background:#FF5555">et. al.</span></em><span class="deltaxml-old" style="background:#FF5555">, Editors. World Wide Web Consortium, 03 Dec 2009. This version is http://www.w3.org/TR/2009/WD-xmlschema11-1-20091203/. The </span><a href="http://www.w3.org/TR/xmlschema11-1/"><span class="deltaxml-old" style="background:#FF5555">latest version</span></a><span class="deltaxml-old" style="background:#FF5555"> is available at http://www.w3.org/TR/xmlschema11-1/.</span></div><div><a href="http://www.w3.org/TR/xmlschema11-1/"><cite><span class="deltaxml-new" style="background:#90EE90">W3C XML Schema Definition Language (XSD) 1.1 Part 1: Structures</span></cite></a><span class="deltaxml-new" style="background:#90EE90">, Henry S. Thompson, C. M. Sperberg-McQueen, and Shudi Gao, Editors. World Wide Web Consortium, 30 Apr 2009. This version is http://www.w3.org/TR/2009/CR-xmlschema11-1-20090430/. The </span><a href="http://www.w3.org/TR/xmlschema11-1/"><span class="deltaxml-new" style="background:#90EE90">latest version</span></a><span class="deltaxml-new" style="background:#90EE90"> is available at http://www.w3.org/TR/xmlschema11-1/.</span></div></dd><dt class="label"><span><a name="xmlschema11-2" id="xmlschema11-2"></a>Schema 1.1 Part 2</span></dt><dd><div><a href="http://www.w3.org/TR/xmlschema11-2/"><cite><span class="deltaxml-old" style="background:#FF5555">W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes</span></cite></a><span class="deltaxml-old" style="background:#FF5555">, Henry S. Thompson, Ashok Malhotra, Shudi (Sandy) Gao, </span><em><span class="deltaxml-old" style="background:#FF5555">et. al.</span></em><span class="deltaxml-old" style="background:#FF5555">, Editors. World Wide Web Consortium, 03 Dec 2009. This version is http://www.w3.org/TR/2009/WD-xmlschema11-2-20091203/. The </span><a href="http://www.w3.org/TR/xmlschema11-2/"><span class="deltaxml-old" style="background:#FF5555">latest version</span></a><span class="deltaxml-old" style="background:#FF5555"> is available at http://www.w3.org/TR/xmlschema11-2/.</span></div><div><a href="http://www.w3.org/TR/xmlschema11-2/"><cite><span class="deltaxml-new" style="background:#90EE90">W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes</span></cite></a><span class="deltaxml-new" style="background:#90EE90">, Ashok Malhotra, Shudi Gao, Henry S. Thompson, </span><em><span class="deltaxml-new" style="background:#90EE90">et. al.</span></em><span class="deltaxml-new" style="background:#90EE90">, Editors. World Wide Web Consortium, 30 Apr 2009. This version is http://www.w3.org/TR/2009/CR-xmlschema11-2-20090430/. The </span><a href="http://www.w3.org/TR/xmlschema11-2/"><span class="deltaxml-new" style="background:#90EE90">latest version</span></a><span class="deltaxml-new" style="background:#90EE90"> is available at http://www.w3.org/TR/xmlschema11-2/.</span></div></dd><dt class="label"><span><a name="xslt-xquery-serialization-11" id="xslt-xquery-serialization-11"></a>XSLT and XQuery Serialization 1.1</span></dt><dd><div><a href="http://www.w3.org/TR/xslt-xquery-serialization-11/"><cite>XSLT and XQuery Serialization 1.1</cite></a>, Henry Zongaro, Editor. World Wide Web Consortium, 15 December 2009. This version is http://www.w3.org/TR/2009/WD-xslt-xquery-serialization-11-20091215/. The <a href="http://www.w3.org/TR/xslt-xquery-serialization-11/">latest version</a> is available at http://www.w3.org/TR/xslt-xquery-serialization-11/.</div></dd><dt class="label"><span><a name="xquery-semantics" id="xquery-semantics"></a>XQuery 1.0 and XPath 2.0 Formal Semantics</span></dt><dd><div><a href="http://www.w3.org/TR/xquery-semantics/"><cite>XQuery 1.0 and XPath 2.0 Formal Semantics</cite></a>, Jérôme Siméon, Denise Draper, Peter Frankhauser, <em>et. al.</em>, Editors. World Wide Web Consortium, 23 January 2007. This version is http://www.w3.org/TR/2007/REC-xquery-semantics-20070123/. The <a href="http://www.w3.org/TR/xquery-semantics/">latest version</a> is available at http://www.w3.org/TR/xquery-semantics/.</div></dd><dt class="label"><span><a name="RFC2119" id="RFC2119"></a>RFC 2119</span></dt><dd><div><a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>, S. Bradner. Network Working Group, IETF, Mar 1997.</div></dd><dt class="label"><span><a name="RFC3986" id="RFC3986"></a>RFC 3986</span></dt><dd><div><a href="http://www.ietf.org/rfc/rfc3986.txt"><cite>Uniform Resource Identifier (URI): Generic Syntax</cite></a>, T. Berners-Lee, R. Fielding, and L. Masinter. Network Working Group, IETF, Jan 2005.</div></dd><dt class="label"><span><a name="RFC3987" id="RFC3987"></a>RFC 2987</span></dt><dd><div><a href="http://www.ietf.org/rfc/rfc3987.txt"><cite>Internationalized Resource Identifiers (IRIs)</cite></a>, M. Duerst and M. Suignard. Network Working Group, IETF, Jan 2005.</div></dd><dt class="label"><span><a name="charmod" id="charmod"></a>Character Model</span></dt><dd><div><span style="display: none;" class="delete_version"><a href="http://www.w3.org/TR/charmod/"><cite>Character Model for the World Wide Web 1.0: Fundamentals</cite></a>, Tex Texin, Richard Ishida, Martin J. Dürst, <em>et. al.</em>, Editors. World Wide Web Consortium, 15 Feb 2005. This version is http://www.w3.org/TR/2005/REC-charmod-20050215/. The <a href="http://www.w3.org/TR/charmod/">latest version</a> is available at http://www.w3.org/TR/charmod/.</span><span style="display: none;" class="add_version"><a href="http://www.w3.org/TR/charmod/"><cite>Character Model for the World Wide Web 1.0: Fundamentals</cite></a>, François Yergeau, Richard Ishida, Tex Texin, <em>et. al.</em>, Editors. World Wide Web Consortium, 15 Feb 2005. This version is http://www.w3.org/TR/2005/REC-charmod-20050215/. The <a href="http://www.w3.org/TR/charmod/">latest version</a> is available at http://www.w3.org/TR/charmod/.</span><span class="modify_version"><a href="http://www.w3.org/TR/charmod/"><cite>Character Model for the World Wide Web 1.0: Fundamentals</cite></a>, <span class="deltaxml-old" style="background:#FF5555">Tex Texin</span><span class="deltaxml-new" style="background:#90EE90">François Yergeau</span>, Richard Ishida, <span class="deltaxml-old" style="background:#FF5555">Martin J. Dürst</span><span class="deltaxml-new" style="background:#90EE90">Tex Texin</span>, <em>et. al.</em>, Editors. World Wide Web Consortium, 15 Feb 2005. This version is http://www.w3.org/TR/2005/REC-charmod-20050215/. The <a href="http://www.w3.org/TR/charmod/">latest version</a> is available at http://www.w3.org/TR/charmod/.</span></div></dd></dl></div><div class="div2"><h3><a name="informative-references" id="informative-references"></a>B.2 Other References</h3><dl><dt class="label"><span><a name="xmlbase" id="xmlbase"></a>XML Base</span></dt><dd><div><a href="http://www.w3.org/TR/xmlbase/"><cite>XML Base (Second Edition)</cite></a>, Jonathan Marsh and Richard Tobin, Editors. World Wide Web Consortium, 28 Jan 2009. This version is http://www.w3.org/TR/2009/REC-xmlbase-20090128/. The <a href="http://www.w3.org/TR/xmlbase/">latest version</a> is available at http://www.w3.org/TR/xmlbase/.</div></dd><dt class="label"><span><a name="xpath" id="xpath"></a>XML Path Language (XPath) Version 1.0</span></dt><dd><div><a href="http://www.w3.org/TR/xpath"><cite>XML Path Language (XPath) Version 1.0</cite></a>, Steven DeRose and James Clark, Editors. World Wide Web Consortium, 16 Nov 1999. This version is http://www.w3.org/TR/1999/REC-xpath-19991116. The <a href="http://www.w3.org/TR/xpath">latest version</a> is available at http://www.w3.org/TR/xpath.</div></dd><dt class="label"><span><a name="xslt-21" id="xslt-21"></a>XSL Transformations (XSLT) Version 2.1</span></dt><dd><div><a href="http://www.w3.org/TR/xslt-21"><cite>XSL Transformations (XSLT) Version 2.1</cite></a>, Michael Kay, Editor. World Wide Web Consortium, «awaiting First Public Working Draft publication». This version is http://www.w3.org/TR/2007/WD-xslt-21-YYYYMMDD/. The <a href="http://www.w3.org/TR/xslt-21/">latest version</a> is available at http://www.w3.org/TR/xslt-21/.</div></dd><dt class="label"><span><a name="XQWG" id="XQWG"></a>XML Query Working Group</span></dt><dd><div><a href="http://www.w3.org/XML/Query"><cite>XML Query Working Group</cite></a>, World Wide Web Consortium. Home page: http://www.w3.org/XML/Query</div></dd><dt class="label"><span><a name="XSLWG" id="XSLWG"></a>XSL Working Group</span></dt><dd><div><a href="http://www.w3.org/Style/XSL/"><cite>XSL Working Group</cite></a>, World Wide Web Consortium. Home page: http://www.w3.org/Style/XSL/</div></dd><dt class="label"><span><a name="xquery-11" id="xquery-11"></a>XQuery 1.1: An XML Query Language</span></dt><dd><div><a href="http://www.w3.org/TR/xquery-11/"><cite>XQuery 1.1: An XML Query Language</cite></a>, Jonathan Robie, Don Chamberlin, Michael Dyck, John Snelson, Editors. World Wide Web Consortium, 15 December 2009. This version is http://www.w3.org/TR/2009/WD-xquery-11-20091215/. The <a href="http://www.w3.org/TR/xquery/">latest version</a> is available at http://www.w3.org/TR/xquery-11/.</div></dd><dt class="label"><span><a name="xquery-11-requirements" id="xquery-11-requirements"></a>XQuery 1.1 Requirements</span></dt><dd><div><a href="http://www.w3.org/TR/xquery-11-requirements/"><cite>XQuery 1.1 Requirements</cite></a>, Daniel Engovatov, Jonathan Robie, Editors. World Wide Web Consortium, 15 December 2009. This version is http://www.w3.org/TR/2009/WD-xquery-11-requirements-20091215/. The <a href="http://www.w3.org/TR/xquery-11-requirements">latest version</a> is available at http://www.w3.org/TR/xquery-11-requirements/.</div></dd><dt class="label"><span><a name="ISO8601" id="ISO8601"></a>ISO 8601</span></dt><dd><div>ISO (International Organization for Standardization). <em>Representations of dates and times, 2000-08-03.</em> Available from: <a href="http://www.iso.ch/">http://www.iso.ch/</a></div></dd></dl></div></div><div class="div1"><h2><a name="xdtschema" id="xdtschema"></a>C Schema for the Extended XS Namespace</h2><p>The following schema defines the additional types in the <code>xs:</code> namespace identified by this document.</p><p>You can retrieve the normative schema for this namespace from <a href="http://www.w3.org/2010/xpath-datatypes"><span class="deltaxml-old" style="background:#FF5555">http://www.w3.org/2010/xpath-datatypes</span></a><a href="http://www.w3.org/2009/xpath-datatypes"><span class="deltaxml-new" style="background:#90EE90">http://www.w3.org/2009/xpath-datatypes</span></a>.</p><div class="exampleInner"><pre xml:space="preserve">
&lt;?xml version='1.0'?&gt;

&lt;!--
This is an XML Schema document for the XML Schema namespace,
http://www.w3.org/2001/XMLSchema, that has been extended to 
include definitions for the xs:dayTimeDuration and
xs:yearMonthDuration types.

The other xs: types defined in XDM are not described here because
xs:untyped and xs:anyAtomicType are special types that cannot be
properly defined using XML Schema itself and because xs:untypedAtomic
should not be used for validation, but only used for unvalidated
elements and attributes.
--&gt;

&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           targetNamespace="http://www.w3.org/2001/XMLSchema"
           elementFormDefault="qualified"
           xml:lang="en"&gt;

&lt;xs:include schemaLocation="http://www.w3.org/2001/XMLSchema.xsd"/&gt;

&lt;xs:simpleType name='dayTimeDuration'&gt;
  &lt;xs:annotation&gt;
    &lt;xs:documentation
        source="http://www.w3.org/TR/xpath-datamodel#dayTimeDuration"/&gt;
  &lt;/xs:annotation&gt;
  &lt;xs:restriction base='xs:duration'&gt;
    &lt;xs:pattern value="[^YM]*[DT].*"/&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name='yearMonthDuration'&gt;
  &lt;xs:annotation&gt;
    &lt;xs:documentation
        source="http://www.w3.org/TR/xpath-datamodel#yearMonthDuration"/&gt;
  &lt;/xs:annotation&gt;
  &lt;xs:restriction base='xs:duration'&gt;
    &lt;xs:pattern value="[^DT]*"/&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;/xs:schema&gt;
</pre></div></div><div class="div1"><h2><a name="glossary" id="glossary"></a>D Glossary (Non-Normative)</h2><table width="100%" summary="Glossary"><tr class="delete_version" style="display: none;"><td width="20%" valign="top"><a href="#dt-namespace-uri">Namespace URI</a></td><td valign="top"><p>This specification uses the term <b>Namespace URI</b> to refer to a namespace name, whether or not it is a valid URI or IRI</p></td></tr><tr class="modify_version"><td width="20%" valign="top"><a href="#dt-namespace-uri"><span class="deltaxml-old" style="background:#FF5555">Namespace URI</span></a></td><td valign="top"><p><span class="deltaxml-old" style="background:#FF5555">This specification uses the term </span><b><span class="deltaxml-old" style="background:#FF5555">Namespace URI</span></b><span class="deltaxml-old" style="background:#FF5555"> to refer to a namespace name, whether or not it is a valid URI or IRI</span></p></td></tr><tr><td width="20%" valign="top"><a href="#dt-node">Node</a></td><td valign="top"><p>There are seven kinds of <b>Nodes</b> in the data model: <a href="#DocumentNode">document</a>, <a href="#ElementNode">element</a>, <a href="#AttributeNode">attribute</a>, <a href="#TextNode">text</a>, <a href="#NamespaceNode">namespace</a>, <a href="#ProcessingInstructionNode">processing instruction</a>, and <a href="#CommentNode">comment</a>.</p></td></tr><tr class="delete_version" style="display: none;"><td width="20%" valign="top"><a href="#dt-absent">absent</a></td><td valign="top"><p>In certain situations a value is said to be <b>absent</b> (for example, the namespace URI of a node name when the node is not in any namespace). This term indicates that the property in question has no value.</p></td></tr><tr class="modify_version"><td width="20%" valign="top"><a href="#dt-absent"><span class="deltaxml-old" style="background:#FF5555">absent</span></a></td><td valign="top"><p><span class="deltaxml-old" style="background:#FF5555">In certain situations a value is said to be </span><b><span class="deltaxml-old" style="background:#FF5555">absent</span></b><span class="deltaxml-old" style="background:#FF5555"> (for example, the namespace URI of a node name when the node is not in any namespace). This term indicates that the property in question has no value.</span></p></td></tr><tr><td width="20%" valign="top"><a href="#dt-anonymous-type-name">anonymous type name</a></td><td valign="top"><p>An <b>anonymous type name</b> is an implementation dependent, unique type name provided by the processor for every anonymous type declared in the schemas available.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-atomic-type">atomic type</a></td><td valign="top"><p>An <b>atomic type</b> is a <a title="primitive simple type" href="#dt-primitive-simple-type">primitive simple type</a> or a type derived by restriction from another atomic type.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-atomic-value">atomic value</a></td><td valign="top"><p>An <b>atomic value</b> is a value in the value space of an <a title="atomic type" href="#dt-atomic-type">atomic type</a> and is labeled with the name of that atomic type.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-document">document</a></td><td valign="top"><p>A tree whose root node is a Document Node is referred to as a <b>document</b>.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-document-order">document order</a></td><td valign="top"><p>A <b>document order</b> is defined among all the nodes accessible during a given query or transformation. Document order is a total ordering, although the relative order of some nodes is implementation-dependent. Informally, document order is the order in which nodes appear in the XML serialization of a document.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-expanded-qname">expanded-QName</a></td><td valign="top"><p>An <b>expanded-QName</b> is a set of three values consisting of a possibly empty prefix, a possibly empty namespace URI, and a local name.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-fragment">fragment</a></td><td valign="top"><p>A tree whose root node is not a Document Node is referred to as a <b>fragment</b>.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-function-item">function item</a></td><td valign="top"><p>A <b>function item</b> is a value that represents a function.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-signature">function signature</a></td><td valign="top"><p>A <b>function signature</b> represents the type of a <a title="function item" href="#dt-function-item">function item</a>, and is a <b>TypedFunctionTest</b>, a type of <b>SequenceType</b> (<a href="http://www.w3.org/TR/xpath-21/#id-sequencetype-syntax">Section 2.5.3 SequenceType Syntax</a><sup><small>XP21</small></sup>). A <b>function signature</b> has one <b>SequenceType</b> for each parameter, and one <b>SequenceType</b> for the result of the function item.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-implementation-defined">implementation defined</a></td><td valign="top"><p><b>Implementation-defined</b> indicates an aspect that may differ between implementations, but must be specified by the implementor for each particular implementation.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-implementation-dependent">implementation dependent</a></td><td valign="top"><p><b>Implementation-dependent</b> indicates an aspect that may differ between implementations, is not specified by this or any W3C specification, and is not required to be specified by the implementor for any particular implementation.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-incompletely-validated">incompletely validated</a></td><td valign="top"><p>An <b>incompletely validated</b> document is an XML document that has a corresponding schema but whose schema-validity assessment has resulted in one or more element or attribute information items being assigned values other than 'valid' for the <b class="infoset-property">[validity]</b> property in the PSVI.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-instance">instance of the data model</a></td><td valign="top"><p>Every <b>instance of the data model</b> is a <a title="sequence" href="#dt-sequence">sequence</a>.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-invoke">invoke</a></td><td valign="top"><p>Function items can be <b>invoked</b>, which is the act of calling the function that the function item represents.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-item">item</a></td><td valign="top"><p>An <b>item</b> is either a <a title="Node" href="#dt-node">node</a>, a <a title="function item" href="#dt-function-item">function item</a>, or an <a title="atomic value" href="#dt-atomic-value">atomic value</a>.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-root-node">item</a></td><td valign="top"><p>The topmost node of a tree is called the <b>root node</b>.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-primitive-simple-type">primitive simple type</a></td><td valign="top"><p>There are 21 <b>primitive simple types</b>: the 19 defined in <a href="http://www.w3.org/TR/xmlschema-2/#built-in-primitive-datatypes">Section 3.2 Primitive datatypes</a><sup><small>XS2</small></sup> of <a href="#xmlschema-2">[Schema Part 2]</a> and <code>xs:untypedAtomic</code> and <code>xs:anyAtomicType</code></p></td></tr><tr><td width="20%" valign="top"><a href="#dt-sequence">sequence</a></td><td valign="top"><p>A <b>sequence</b> is an ordered collection of zero or more <a title="item" href="#dt-item">items</a>.</p></td></tr><tr><td width="20%" valign="top"><a href="#dt-stable">stable</a></td><td valign="top"><p>Document order is <b>stable</b>, which means that the relative order of two nodes will not change during the processing of a given query or transformation, even if this order is implementation-dependent.</p></td></tr><tr class="add_version" style="display: none;"><td width="20%" valign="top"><a href="#dt-undefined">undefined</a></td><td valign="top"><p>In certain situations a value is said to be <b>undefined</b> (for example, the typed value of an element node). This term indicates that the property in question has no value and that any attempt to use its value results in an error.</p></td></tr><tr class="modify_version"><td width="20%" valign="top"><a href="#dt-undefined"><span class="deltaxml-new" style="background:#90EE90">undefined</span></a></td><td valign="top"><p><span class="deltaxml-new" style="background:#90EE90">In certain situations a value is said to be </span><b><span class="deltaxml-new" style="background:#90EE90">undefined</span></b><span class="deltaxml-new" style="background:#90EE90"> (for example, the typed value of an element node). This term indicates that the property in question has no value and that any attempt to use its value results in an error.</span></p></td></tr></table></div><div class="div1"><h2><a name="example" id="example"></a>E Example (Non-Normative)</h2><p>The following XML document is used to illustrate the information contained in a data model:</p><div class="exampleInner"><pre xml:space="preserve">
&lt;?xml version="1.0"?&gt;
&lt;?xml-stylesheet type="text/xsl" href="dm-example.xsl"?&gt;
&lt;catalog xmlns="http://www.example.com/catalog"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://www.example.com/catalog
                             dm-example.xsd"
         xml:lang="en"
         version="0.1"&gt;

&lt;!-- This example is for data model illustration only.
     It does not demonstrate good schema design. --&gt;

&lt;tshirt code="T1534017" label=" Staind : Been Awhile "
        xlink:href="http://example.com/0,,1655091,00.html"
        sizes="M L XL"&gt;
  &lt;title&gt; Staind: Been Awhile Tee Black (1-sided) &lt;/title&gt;
  &lt;description&gt;
    &lt;html:p&gt;
      Lyrics from the hit song 'It's Been Awhile'
      are shown in white, beneath the large
      'Flock &amp;amp; Weld' Staind logo.
    &lt;/html:p&gt;
  &lt;/description&gt;
  &lt;price&gt; 25.00 &lt;/price&gt;
&lt;/tshirt&gt;

&lt;album code="A1481344" label=" Staind : Its Been A While "
       formats="CD"&gt;
  &lt;title&gt; It's Been A While &lt;/title&gt;
  &lt;description xsi:nil="true" /&gt;
  &lt;price currency="USD"&gt; 10.99 &lt;/price&gt;
  &lt;artist&gt; Staind &lt;/artist&gt;
&lt;/album&gt;

&lt;/catalog&gt;
</pre></div><p>The document is associated with the URI "http://www.example.com/catalog.xml", and is valid with respect to the following XML schema:</p><div class="exampleInner"><pre xml:space="preserve">
&lt;?xml version="1.0"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns:cat="http://www.example.com/catalog"
           xmlns:xlink="http://www.w3.org/1999/xlink"
           targetNamespace="http://www.example.com/catalog"
           elementFormDefault="qualified"&gt;

&lt;xs:import namespace="http://www.w3.org/XML/1998/namespace"
           schemaLocation="http://www.w3.org/2001/xml.xsd" /&gt;

&lt;xs:import namespace="http://www.w3.org/1999/xlink"
           schemaLocation="http://www.cs.rpi.edu/~puninj/XGMML/xlinks-2001.xsd" /&gt;

&lt;xs:element name="catalog"&gt;
  &lt;xs:complexType&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element ref="cat:_item" maxOccurs="unbounded" /&gt;
    &lt;/xs:sequence&gt;
    &lt;xs:attribute name="version" type="xs:string" fixed="0.1" use="required" /&gt;
    &lt;xs:attribute ref="xml:base" /&gt;
    &lt;xs:attribute ref="xml:lang" /&gt;
  &lt;/xs:complexType&gt;
&lt;/xs:element&gt;

&lt;xs:element name="_item" type="cat:itemType" abstract="true" /&gt;

&lt;xs:complexType name="itemType"&gt;
  &lt;xs:sequence&gt;
    &lt;xs:element name="title" type="xs:token" /&gt;
    &lt;xs:element name="description" type="cat:description" nillable="true" /&gt;
    &lt;xs:element name="price" type="cat:price" maxOccurs="unbounded" /&gt;
  &lt;/xs:sequence&gt;
  &lt;xs:attribute name="label" type="xs:token" /&gt;
  &lt;xs:attribute name="code" type="xs:ID" use="required" /&gt;
  &lt;xs:attributeGroup ref="xlink:simpleLink" /&gt;
&lt;/xs:complexType&gt;

&lt;xs:element name="tshirt" type="cat:tshirtType" substitutionGroup="cat:_item" /&gt;

&lt;xs:complexType name="tshirtType"&gt;
  &lt;xs:complexContent&gt;
    &lt;xs:extension base="cat:itemType"&gt;
      &lt;xs:attribute name="sizes" type="cat:clothesSizes" use="required" /&gt;
      &lt;xs:attribute ref="xml:lang" use="optional"/&gt;
    &lt;/xs:extension&gt;
  &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;

&lt;xs:simpleType name="clothesSizes"&gt;
  &lt;xs:union memberTypes="cat:sizeList"&gt;
    &lt;xs:simpleType&gt;
      &lt;xs:restriction base="xs:token"&gt;
        &lt;xs:enumeration value="oneSize" /&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:simpleType&gt;
  &lt;/xs:union&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name="sizeList"&gt;
  &lt;xs:restriction&gt;
    &lt;xs:simpleType&gt;
      &lt;xs:list itemType="cat:clothesSize" /&gt;
    &lt;/xs:simpleType&gt;
    &lt;xs:minLength value="1" /&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name="clothesSize"&gt;
  &lt;xs:union memberTypes="cat:numberedSize cat:categorySize" /&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name="numberedSize"&gt;
  &lt;xs:restriction base="xs:integer"&gt;
    &lt;xs:enumeration value="4" /&gt;
    &lt;xs:enumeration value="6" /&gt;
    &lt;xs:enumeration value="8" /&gt;
    &lt;xs:enumeration value="10" /&gt;
    &lt;xs:enumeration value="12" /&gt;
    &lt;xs:enumeration value="14" /&gt;
    &lt;xs:enumeration value="16" /&gt;
    &lt;xs:enumeration value="18" /&gt;
    &lt;xs:enumeration value="20" /&gt;
    &lt;xs:enumeration value="22" /&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name="categorySize"&gt;
  &lt;xs:restriction base="xs:token"&gt;
    &lt;xs:enumeration value="XS" /&gt;
    &lt;xs:enumeration value="S" /&gt;
    &lt;xs:enumeration value="M" /&gt;
    &lt;xs:enumeration value="L" /&gt;
    &lt;xs:enumeration value="XL" /&gt;
    &lt;xs:enumeration value="XXL" /&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:element name="album" type="cat:albumType" substitutionGroup="cat:_item" /&gt;

&lt;xs:complexType name="albumType"&gt;
  &lt;xs:complexContent&gt;
    &lt;xs:extension base="cat:itemType"&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element name="artist" type="xs:string" /&gt;
      &lt;/xs:sequence&gt;
      &lt;xs:attribute name="formats" type="cat:formatsType" use="required" /&gt;
      &lt;xs:attribute ref="xml:lang" use="optional"/&gt;
    &lt;/xs:extension&gt;
  &lt;/xs:complexContent&gt;
&lt;/xs:complexType&gt;

&lt;xs:simpleType name="formatsType"&gt;
  &lt;xs:list itemType="cat:formatType" /&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name="formatType"&gt;
  &lt;xs:restriction base="xs:token"&gt;
    &lt;xs:enumeration value="CD" /&gt;
    &lt;xs:enumeration value="MiniDisc" /&gt;
    &lt;xs:enumeration value="tape" /&gt;
    &lt;xs:enumeration value="vinyl" /&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:complexType name="description" mixed="true"&gt;
  &lt;xs:sequence&gt;
    &lt;xs:any namespace="http://www.w3.org/1999/xhtml" processContents="lax"
            minOccurs="0" maxOccurs="unbounded" /&gt;
  &lt;/xs:sequence&gt;
  &lt;xs:attribute ref="xml:lang" use="optional"/&gt;
&lt;/xs:complexType&gt;

&lt;xs:complexType name="price"&gt;
  &lt;xs:simpleContent&gt;
    &lt;xs:extension base="cat:monetaryAmount"&gt;
      &lt;xs:attribute name="currency" type="cat:currencyType" default="USD" /&gt;
    &lt;/xs:extension&gt;
  &lt;/xs:simpleContent&gt;
&lt;/xs:complexType&gt;

&lt;xs:simpleType name="currencyType"&gt;
  &lt;xs:restriction base="xs:token"&gt;
    &lt;xs:pattern value="[A-Z]{3}" /&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name="monetaryAmount"&gt;
  &lt;xs:restriction base="xs:decimal"&gt;
    &lt;xs:fractionDigits value="3" /&gt;
    &lt;xs:pattern value="\d+(\.\d{2,3})?" /&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;/xs:schema&gt;
</pre></div><p>The schema is associated with the URI "http://www.example.com/dm-example.xsd".</p><p>This example exposes the data model for a document that has an associated schema and has been validated successfully against it. In general, an XML Schema is not required, that is, the data model can represent a schemaless, well-formed XML document with the rules described in <a href="#types"><b><span class="deltaxml-old" style="background:#FF5555">2.7 Types</span></b></a><a href="#types"><b><span class="deltaxml-new" style="background:#90EE90">2.6 Types</span></b></a>.</p><p>The XML document is represented by the nodes described below. The value <em>D1</em> represents a Document Node; the values <em>E1, E2, etc.</em> represent Element Nodes; the values <em>A1, A2, etc.</em> represent Attribute Nodes; the values <em>N1, N2, etc.</em> represent Namespace Nodes; the values <em>P1, P2, etc.</em> represent Processing Instruction Nodes; the values <em>T1, T2, etc.</em> represent Text Nodes.</p><p>For brevity:</p><ul><li><p>Text Nodes in the data model that contain only white space are not shown.</p></li><li><p>Literal strings are shown in quotes without the <code>xs:string()</code> constructor</p></li><li><p>Literal decimals are shown without the <code>xs:decimal()</code> constructor</p></li><li><p>Nodes are referred to using the syntax <code>[nodeID]</code></p></li><li><p>xs:QNames are used with the following prefixes bindings:</p><table summary="Namespace prefixes" border="0"><tbody><tr><td rowspan="1" colspan="1">xs</td><td rowspan="1" colspan="1">http://www.w3.org/2001/XMLSchema</td></tr><tr><td rowspan="1" colspan="1">xsi</td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>http://www.w3.org/2001/XMLSchema-instance</td></tr><tr><td rowspan="1" colspan="1">cat</td><td rowspan="1" colspan="1">http://www.example.com/catalog</td></tr><tr><td rowspan="1" colspan="1">xlink</td><td rowspan="1" colspan="1">http://www.w3.org/1999/xlink</td></tr><tr><td rowspan="1" colspan="1">html</td><td rowspan="1" colspan="1">http://www.w3.org/1999/xhtml</td></tr><tr><td rowspan="1" colspan="1">anon</td><td rowspan="1" colspan="1">An implementation-dependent prefix associated with <a title="anonymous type name" href="#dt-anonymous-type-name">anonymous type names</a></td></tr></tbody></table></li><li><p>The abbreviation "<code>\n</code>" is used in string literals to represent a newline character; this isn't supported in XPath, but it makes this presentation clearer.</p></li><li><p>Accessors that return the empty sequence have been omitted.</p></li><li><p>To simplify the presentation, we’re assuming an implementation that does not expose the namespace axis. Therefore, Namespace Nodes are shared across multiple elements. See <a href="#NamespaceNode"><b>6.4 Namespace Nodes</b></a>.</p></li></ul><table summary="Datamodel Example" width="80%" cellspacing="0" border="0"><tbody><tr id="ex-D1" class="document"><td colspan="3" rowspan="1">// Document node D1</td></tr><tr class="document"><td rowspan="1" colspan="1">dm:base-uri(D1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="document"><td rowspan="1" colspan="1">dm:node-kind(D1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"document"</td></tr><tr class="document"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(D1)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"<span class="deltaxml-old" style="background:#FF5555">\n\n\n\n\n  </span>  <span class="deltaxml-old" style="background:#FF5555">  </span>Staind:  Been  Awhile  Tee  Black  (1-sided)  \n    <span class="deltaxml-old" style="background:#FF5555">\n  </span>      <span class="deltaxml-old" style="background:#FF5555">\n            </span><span class="deltaxml-new" style="background:#90EE90">  </span>Lyrics  from  the  hit  song  'It's  Been  Awhile'\n            are  shown  in  white,  beneath  the  large\n            'Flock  &amp;  Weld'  Staind  logo.\n        <span class="deltaxml-old" style="background:#FF5555">\n    \n      25.00  \n\n\n\n      </span><span class="deltaxml-new" style="background:#90EE90">  25.00    </span>It's  Been  A  While  <span class="deltaxml-old" style="background:#FF5555">\n    \n      10.99  \n      Staind  \n\n\n</span><span class="deltaxml-new" style="background:#90EE90">  10.99    Staind  </span>"</td></tr><tr class="document"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(D1)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("\n\n\n\n\n      </span><span class="deltaxml-new" style="background:#90EE90">xs:untypedAtomic("  </span>Staind:  Been  Awhile  Tee  Black  (1-sided)  \n    <span class="deltaxml-old" style="background:#FF5555">\n  </span>      <span class="deltaxml-old" style="background:#FF5555">\n            </span><span class="deltaxml-new" style="background:#90EE90">  </span>Lyrics  from  the  hit  song  'It's  Been  Awhile'\n            are  shown  in  white,  beneath  the  large\n            'Flock  &amp;  Weld'  Staind  logo.\n        <span class="deltaxml-old" style="background:#FF5555">\n    \n      25.00  \n\n\n\n      </span><span class="deltaxml-new" style="background:#90EE90">  25.00    </span>It's  Been  A  While  <span class="deltaxml-old" style="background:#FF5555">\n    \n      10.99  \n      Staind  \n\n\n</span><span class="deltaxml-new" style="background:#90EE90">  10.99    Staind  </span>")</td></tr><tr class="document"><td rowspan="1" colspan="1">dm:children(D1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-N1" class="namespace"><td colspan="3" rowspan="1">// Namespace node N1</td></tr><tr class="namespace"><td rowspan="1" colspan="1">dm:node-kind(N1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"namespace"</td></tr><tr class="namespace"><td rowspan="1" colspan="1">dm:node-name(N1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:QName("", "xml")</td></tr><tr class="namespace"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(N1)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>"http://www.w3.org/XML/1998/namespace"</td></tr><tr class="namespace"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(N1)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>"http://www.w3.org/XML/1998/namespace"</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-N2" class="namespace"><td colspan="3" rowspan="1">// Namespace node N2</td></tr><tr class="namespace"><td rowspan="1" colspan="1">dm:node-kind(N2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"namespace"</td></tr><tr class="namespace"><td rowspan="1" colspan="1">dm:node-name(N2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="namespace"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(N2)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"http://www.example.com/catalog"</td></tr><tr class="namespace"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(N2)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"http://www.example.com/catalog"</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-N3" class="namespace"><td colspan="3" rowspan="1">// Namespace node N3</td></tr><tr class="namespace"><td rowspan="1" colspan="1">dm:node-kind(N3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"namespace"</td></tr><tr class="namespace"><td rowspan="1" colspan="1">dm:node-name(N3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:QName("", "html")</td></tr><tr class="namespace"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(N3)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"http://www.w3.org/1999/xhtml"</td></tr><tr class="namespace"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(N3)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"http://www.w3.org/1999/xhtml"</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-N4" class="namespace"><td colspan="3" rowspan="1">// Namespace node N4</td></tr><tr class="namespace"><td rowspan="1" colspan="1">dm:node-kind(N4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"namespace"</td></tr><tr class="namespace"><td rowspan="1" colspan="1">dm:node-name(N4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:QName("", "xlink")</td></tr><tr class="namespace"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(N4)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"http://www.w3.org/1999/xlink"</td></tr><tr class="namespace"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(N4)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"http://www.w3.org/1999/xlink"</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-N5" class="namespace"><td colspan="3" rowspan="1">// Namespace node N5</td></tr><tr class="namespace"><td rowspan="1" colspan="1">dm:node-kind(N5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"namespace"</td></tr><tr class="namespace"><td rowspan="1" colspan="1">dm:node-name(N5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:QName("", "xsi")</td></tr><tr class="namespace"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(N5)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>"http://www.w3.org/2001/XMLSchema-instance"</td></tr><tr class="namespace"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(N5)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>"http://www.w3.org/2001/XMLSchema-instance"</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-E1" class="element"><td colspan="3" rowspan="1">// Element node E1</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:base-uri(E1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-kind(E1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"element"</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-name(E1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.example.com/catalog", "catalog")</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(E1)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"<span class="deltaxml-old" style="background:#FF5555">\n\n\n\n\n  </span>  <span class="deltaxml-old" style="background:#FF5555">  </span>Staind:  Been  Awhile  Tee  Black  (1-sided)  \n    <span class="deltaxml-old" style="background:#FF5555">\n  </span>      <span class="deltaxml-old" style="background:#FF5555">\n            </span><span class="deltaxml-new" style="background:#90EE90">  </span>Lyrics  from  the  hit  song  'It's  Been  Awhile'\n            are  shown  in  white,  beneath  the  large\n            'Flock  &amp;  Weld'  Staind  logo.\n        <span class="deltaxml-old" style="background:#FF5555">\n    \n      25.00  \n\n\n\n      </span><span class="deltaxml-new" style="background:#90EE90">  25.00    </span>It's  Been  A  While  <span class="deltaxml-old" style="background:#FF5555">\n    \n      10.99  \n      Staind  \n\n\n</span><span class="deltaxml-new" style="background:#90EE90">  10.99    Staind  </span>"</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(E1)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">fn:error()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:type-name(E1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">anon:TYP000001</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-id(E1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-idrefs(E1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:parent(E1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-D1">D1</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:children(E1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>], [<a href="#ex-E7">E7</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:attributes(E1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-A1">A1</a>], [<a href="#ex-A2">A2</a>], [<a href="#ex-A3">A3</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:namespace-nodes(E1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:namespace-bindings(E1)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>("xml", "http://www.w3.org/XML/1998/namespace", "", "http://www.example.com/catalog", "html", "http://www.w3.org/1999/xhtml", "xlink", "http://www.w3.org/1999/xlink", "xsi", "http://www.w3.org/2001/XMLSchema-instance")</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-A1" class="attribute"><td colspan="3" rowspan="1">// Attribute node A1</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-kind(A1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"attribute"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-name(A1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.w3.org/2001/XMLSchema-instance", "xsi:schemaLocation")</td></tr><tr class="attribute"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(A1)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"http://www.example.com/catalog                                                            dm-example.xsd"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:typed-value(A1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>(xs:anyURI("http://www.example.com/catalog"), xs:anyURI("catalog.xsd"))</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:type-name(A1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">anon:TYP000002</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-id(A1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-idrefs(A1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:parent(A1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-A2" class="attribute"><td colspan="3" rowspan="1">// Attribute node A2</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-kind(A2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"attribute"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-name(A2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.w3.org/XML/1998/namespace", "xml:lang")</td></tr><tr class="attribute"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(A2)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"en"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:typed-value(A2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"en"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:type-name(A2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:NMTOKEN</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-id(A2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-idrefs(A2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:parent(A2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-A3" class="attribute"><td colspan="3" rowspan="1">// Attribute node A3</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-kind(A3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"attribute"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-name(A3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:QName("", "version")</td></tr><tr class="attribute"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(A3)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"0.1"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:typed-value(A3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"0.1"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:type-name(A3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:string</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-id(A3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-idrefs(A3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:parent(A3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T1"><td colspan="3" rowspan="1">// Text node T1</td></tr><tr class="text" id="ex-T1"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T1</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T1)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T1)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T1)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">""</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T1)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">""</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T1)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T1)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T1)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E1"><span class="deltaxml-old" style="background:#FF5555">E1</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr id="ex-C1" class="comment"><td colspan="3" rowspan="1">// Comment node C1</td></tr><tr class="comment"><td rowspan="1" colspan="1">dm:base-uri(C1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="comment"><td rowspan="1" colspan="1">dm:node-kind(C1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"comment"</td></tr><tr class="comment"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(C1)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"  This  example  is  for  data  model  illustration  only.\n          It  does  not  demonstrate  good  schema  design.  "</td></tr><tr class="comment"><td rowspan="1" colspan="1">dm:typed-value(C1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"  This  example  is  for  data  model  illustration  only.\n          It  does  not  demonstrate  good  schema  design.  "</td></tr><tr class="comment"><td rowspan="1" colspan="1">dm:parent(C1)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T3"><td colspan="3" rowspan="1">// Text node T3</td></tr><tr class="text" id="ex-T3"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T3</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T3)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T3)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T3)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">""</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T3)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">""</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T3)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T3)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T3)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E1"><span class="deltaxml-old" style="background:#FF5555">E1</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr id="ex-E2" class="element"><td colspan="3" rowspan="1">// Element node E2</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:base-uri(E2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-kind(E2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"element"</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-name(E2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.example.com/catalog", "tshirt")</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(E2)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"<span class="deltaxml-old" style="background:#FF5555">\n  </span>  <span class="deltaxml-old" style="background:#FF5555">  </span>Staind:  Been  Awhile  Tee  Black  (1-sided)  \n    <span class="deltaxml-old" style="background:#FF5555">\n  </span>      <span class="deltaxml-old" style="background:#FF5555">\n            </span><span class="deltaxml-new" style="background:#90EE90">  </span>Lyrics  from  the  hit  song  'It's  Been  Awhile'\n            are  shown  in  white,  beneath  the  large\n            'Flock  &amp;  Weld'  Staind  logo.\n        <span class="deltaxml-old" style="background:#FF5555">\n    \n      25.00  \n</span><span class="deltaxml-new" style="background:#90EE90">  25.00  </span>"</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(E2)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">fn:error()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:type-name(E2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">cat:tshirtType</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-id(E2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-idrefs(E2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:parent(E2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:children(E2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E3">E3</a>], [<a href="#ex-E4">E4</a>], [<a href="#ex-E6">E6</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:attributes(E2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-A4">A4</a>], [<a href="#ex-A5">A5</a>], [<a href="#ex-A6">A6</a>], [<a href="#ex-A7">A7</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:namespace-nodes(E2)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:namespace-bindings(E2)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>("xml", "http://www.w3.org/XML/1998/namespace", "", "http://www.example.com/catalog", "html", "http://www.w3.org/1999/xhtml", "xlink", "http://www.w3.org/1999/xlink", "xsi", "http://www.w3.org/2001/XMLSchema-instance")</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-A4" class="attribute"><td colspan="3" rowspan="1">// Attribute node A4</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-kind(A4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"attribute"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-name(A4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:QName("", "code")</td></tr><tr class="attribute"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(A4)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"T1534017"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:typed-value(A4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:ID("T1534017")</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:type-name(A4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:ID</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-id(A4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">true</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-idrefs(A4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:parent(A4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-A5" class="attribute"><td colspan="3" rowspan="1">// Attribute node A5</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-kind(A5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"attribute"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-name(A5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:QName("", "label")</td></tr><tr class="attribute"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(A5)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"Staind  :  Been  Awhile"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:typed-value(A5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:token("Staind : Been Awhile")</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:type-name(A5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:token</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-id(A5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-idrefs(A5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:parent(A5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-A6" class="attribute"><td colspan="3" rowspan="1">// Attribute node A6</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-kind(A6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"attribute"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-name(A6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.w3.org/1999/xlink", "xlink:href")</td></tr><tr class="attribute"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(A6)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>"http://example.com/0,,1655091,00.html"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:typed-value(A6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://example.com/0,,1655091,00.html")</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:type-name(A6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-id(A6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-idrefs(A6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:parent(A6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-A7" class="attribute"><td colspan="3" rowspan="1">// Attribute node A7</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-kind(A7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"attribute"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-name(A7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:QName("", "sizes")</td></tr><tr class="attribute"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(A7)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"M  L  XL"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:typed-value(A7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">(xs:token("M"), xs:token("L"), xs:token("XL"))</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:type-name(A7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">cat:sizeList</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-id(A7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-idrefs(A7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:parent(A7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T3"><td colspan="3" rowspan="1">// Text node T3</td></tr><tr class="text" id="ex-T3"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T3</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T3)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T3)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T3)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">""</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T3)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">""</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T3)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T3)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T3)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E2"><span class="deltaxml-old" style="background:#FF5555">E2</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr id="ex-E3" class="element"><td colspan="3" rowspan="1">// Element node E3</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:base-uri(E3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-kind(E3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"element"</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-name(E3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.example.com/catalog", "title")</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(E3)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"Staind:  Been  Awhile  Tee  Black  (1-sided)"</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(E3)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:token("Staind: Been Awhile Tee Black (1-sided)")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:type-name(E3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:token</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-id(E3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-idrefs(E3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:parent(E3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:children(E3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:attributes(E3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:namespace-nodes(E3)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:namespace-bindings(E3)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>("xml", "http://www.w3.org/XML/1998/namespace", "", "http://www.example.com/catalog", "html", "http://www.w3.org/1999/xhtml", "xlink", "http://www.w3.org/1999/xlink", "xsi", "http://www.w3.org/2001/XMLSchema-instance")</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T4"><td colspan="3" rowspan="1">// Text node T4</td></tr><tr class="text" id="ex-T4"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T4</span></td></tr><tr class="add_version" style="display: none;" id="ex-T1"><td colspan="3" rowspan="1">// Text node T1</td></tr><tr class="text" id="ex-T1"><td colspan="3" rowspan="1"><span class="deltaxml-new" style="background:#90EE90">// Text node T1</span></td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T4</span><span class="deltaxml-new" style="background:#90EE90">dm:base-uri(T1</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T4</span><span class="deltaxml-new" style="background:#90EE90">dm:node-kind(T1</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T4</span><span class="deltaxml-new" style="background:#90EE90"> dm:string-value(T1</span>)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"Staind:  Been  Awhile  Tee  Black  (1-sided)"</td></tr><tr class="text"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T4</span><span class="deltaxml-new" style="background:#90EE90"> dm:typed-value(T1</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("Staind:  Been  Awhile  Tee  Black  (1-sided)")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T4</span><span class="deltaxml-new" style="background:#90EE90">dm:type-name(T1</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T4</span><span class="deltaxml-new" style="background:#90EE90">dm:parent(T1</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E3">E3</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T6"><td colspan="3" rowspan="1">// Text node T6</td></tr><tr class="text" id="ex-T6"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T6</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T6)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T6)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T6)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n    "</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T6)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"\n    "</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n    ")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T6)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("\n    ")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T6)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T6)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E2"><span class="deltaxml-old" style="background:#FF5555">E2</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr id="ex-E4" class="element"><td colspan="3" rowspan="1">// Element node E4</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:base-uri(E4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-kind(E4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"element"</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-name(E4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.example.com/catalog", "description")</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(E4)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n        <span class="deltaxml-old" style="background:#FF5555">\n  </span>    <span class="deltaxml-old" style="background:#FF5555">      </span>Lyrics  from  the  hit  song  'It's  Been  Awhile'\n            are  shown  in  white,  beneath  the  large\n            'Flock  &amp;  Weld'  Staind  logo.\n        <span class="deltaxml-old" style="background:#FF5555">\n    </span>"</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(E4)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n        <span class="deltaxml-old" style="background:#FF5555">\n  </span>    <span class="deltaxml-old" style="background:#FF5555">      </span>Lyrics  from  the  hit  song  'It's  Been  Awhile'\n            are  shown  in  white,  beneath  the  large\n            'Flock  &amp;  Weld'  Staind  logo.\n        <span class="deltaxml-old" style="background:#FF5555">\n    </span>")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:type-name(E4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">cat:description</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-id(E4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-idrefs(E4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:parent(E4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:children(E4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E5">E5</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:attributes(E4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:namespace-nodes(E4)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:namespace-bindings(E4)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>("xml", "http://www.w3.org/XML/1998/namespace", "", "http://www.example.com/catalog", "html", "http://www.w3.org/1999/xhtml", "xlink", "http://www.w3.org/1999/xlink", "xsi", "http://www.w3.org/2001/XMLSchema-instance")</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T6"><td colspan="3" rowspan="1">// Text node T6</td></tr><tr class="text" id="ex-T6"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T6</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T6)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T6)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T6)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n        "</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T6)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"\n        "</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n        ")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T6)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("\n        ")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T6)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E4">E4</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T6)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E4"><span class="deltaxml-old" style="background:#FF5555">E4</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr id="ex-E5" class="element"><td colspan="3" rowspan="1">// Element node E5</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:base-uri(E5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-kind(E5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"element"</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-name(E5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.w3.org/1999/xhtml", "html:p")</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(E5)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n            Lyrics  from  the  hit  song  'It's  Been  Awhile'\n            are  shown  in  white,  beneath  the  large\n            'Flock  &amp;  Weld'  Staind  logo.\n        "</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(E5)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n            Lyrics  from  the  hit  song  'It's  Been  Awhile'\n            are  shown  in  white,  beneath  the  large\n            'Flock  &amp;  Weld'  Staind  logo.\n        ")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:type-name(E5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyType</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-id(E5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-idrefs(E5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:parent(E5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E4">E4</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:children(E5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:attributes(E5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:namespace-nodes(E5)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:namespace-bindings(E5)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>("xml", "http://www.w3.org/XML/1998/namespace", "", "http://www.example.com/catalog", "html", "http://www.w3.org/1999/xhtml", "xlink", "http://www.w3.org/1999/xlink", "xsi", "http://www.w3.org/2001/XMLSchema-instance")</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T7"><td colspan="3" rowspan="1">// Text node T7</td></tr><tr class="text" id="ex-T7"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T7</span></td></tr><tr class="add_version" style="display: none;" id="ex-T2"><td colspan="3" rowspan="1">// Text node T2</td></tr><tr class="text" id="ex-T2"><td colspan="3" rowspan="1"><span class="deltaxml-new" style="background:#90EE90">// Text node T2</span></td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T7</span><span class="deltaxml-new" style="background:#90EE90">dm:base-uri(T2</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T7</span><span class="deltaxml-new" style="background:#90EE90">dm:node-kind(T2</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T7</span><span class="deltaxml-new" style="background:#90EE90"> dm:string-value(T2</span>)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n            Lyrics  from  the  hit  song  'It's  Been  Awhile'\n            are  shown  in  white,  beneath  the  large\n            'Flock  &amp;  Weld'  Staind  logo.\n        "</td></tr><tr class="text"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T7</span><span class="deltaxml-new" style="background:#90EE90"> dm:typed-value(T2</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n            Lyrics  from  the  hit  song  'It's  Been  Awhile'\n            are  shown  in  white,  beneath  the  large\n            'Flock  &amp;  Weld'  Staind  logo.\n        ")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T7</span><span class="deltaxml-new" style="background:#90EE90">dm:type-name(T2</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T7</span><span class="deltaxml-new" style="background:#90EE90">dm:parent(T2</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E5">E5</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T9"><td colspan="3" rowspan="1">// Text node T9</td></tr><tr class="text" id="ex-T9"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T9</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T9)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T9)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T9)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n    "</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T9)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"\n    "</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n    ")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T9)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("\n    ")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T9)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E4">E4</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T9)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E4"><span class="deltaxml-old" style="background:#FF5555">E4</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr class="delete_version" style="display: none;" id="ex-T11"><td colspan="3" rowspan="1">// Text node T11</td></tr><tr class="text" id="ex-T11"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T11</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T11)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T11)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T11)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n    "</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T11)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"\n    "</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n    ")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T11)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("\n    ")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T11)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T11)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E2"><span class="deltaxml-old" style="background:#FF5555">E2</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr id="ex-E6" class="element"><td colspan="3" rowspan="1">// Element node E6</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:base-uri(E6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-kind(E6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"element"</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-name(E6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.example.com/catalog", "price")</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(E6)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"25.00"</td></tr><tr class="element"><td colspan="3" rowspan="1">// The typed-value is based on the content type of the complex type for the element</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(E6)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">cat:monetaryAmount(25.0)</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:type-name(E6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">cat:price</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-id(E6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-idrefs(E6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:parent(E6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:children(E6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:attributes(E6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:namespace-nodes(E6)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:namespace-bindings(E6)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>("xml", "http://www.w3.org/XML/1998/namespace", "", "http://www.example.com/catalog", "html", "http://www.w3.org/1999/xhtml", "xlink", "http://www.w3.org/1999/xlink", "xsi", "http://www.w3.org/2001/XMLSchema-instance")</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T10"><td colspan="3" rowspan="1">// Text node T10</td></tr><tr class="text" id="ex-T10"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T10</span></td></tr><tr class="add_version" style="display: none;" id="ex-T3"><td colspan="3" rowspan="1">// Text node T3</td></tr><tr class="text" id="ex-T3"><td colspan="3" rowspan="1"><span class="deltaxml-new" style="background:#90EE90">// Text node T3</span></td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T10</span><span class="deltaxml-new" style="background:#90EE90">dm:base-uri(T3</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T10</span><span class="deltaxml-new" style="background:#90EE90">dm:node-kind(T3</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T10</span><span class="deltaxml-new" style="background:#90EE90"> dm:string-value(T3</span>)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"<span class="deltaxml-old" style="background:#FF5555">  25.00  </span><span class="deltaxml-new" style="background:#90EE90">25.00</span>"</td></tr><tr class="text"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T10</span><span class="deltaxml-new" style="background:#90EE90"> dm:typed-value(T3</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("  25.00  </span><span class="deltaxml-new" style="background:#90EE90">xs:untypedAtomic("25.00</span>")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T10</span><span class="deltaxml-new" style="background:#90EE90">dm:type-name(T3</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T10</span><span class="deltaxml-new" style="background:#90EE90">dm:parent(T3</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E6">E6</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T14"><td colspan="3" rowspan="1">// Text node T14</td></tr><tr class="text" id="ex-T14"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T14</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T14)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T14)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T14)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T14)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T14)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n"</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T14)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"\n"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T14)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T14)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("\n")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T14)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T14)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T14)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E2">E2</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T14)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E2"><span class="deltaxml-old" style="background:#FF5555">E2</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr class="delete_version" style="display: none;" id="ex-T14"><td colspan="3" rowspan="1">// Text node T14</td></tr><tr class="text" id="ex-T14"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T14</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T14)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T14)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T14)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T14)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T14)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n\n"</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T14)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"\n\n"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T14)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n\n")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T14)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("\n\n")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T14)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T14)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T14)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T14)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E1"><span class="deltaxml-old" style="background:#FF5555">E1</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr id="ex-E7" class="element"><td colspan="3" rowspan="1">// Element node E7</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:base-uri(E7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-kind(E7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"element"</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-name(E7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.example.com/catalog", "album")</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(E7)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"<span class="deltaxml-old" style="background:#FF5555">\n  </span>  <span class="deltaxml-old" style="background:#FF5555">  </span>It's  Been  A  While  <span class="deltaxml-old" style="background:#FF5555">\n    \n      10.99  \n      Staind  \n</span><span class="deltaxml-new" style="background:#90EE90">  10.99    Staind  </span>"</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(E7)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">fn:error()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:type-name(E7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">cat:albumType</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-id(E7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-idrefs(E7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:parent(E7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:children(E7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E8">E8</a>], [<a href="#ex-E9">E9</a>], [<a href="#ex-E10">E10</a>], [<a href="#ex-E11">E11</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:attributes(E7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-A8">A8</a>], [<a href="#ex-A9">A9</a>], [<a href="#ex-A10">A10</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:namespace-nodes(E7)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:namespace-bindings(E7)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>("xml", "http://www.w3.org/XML/1998/namespace", "", "http://www.example.com/catalog", "html", "http://www.w3.org/1999/xhtml", "xlink", "http://www.w3.org/1999/xlink", "xsi", "http://www.w3.org/2001/XMLSchema-instance")</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-A8" class="attribute"><td colspan="3" rowspan="1">// Attribute node A8</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-kind(A8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"attribute"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-name(A8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:QName("", "code")</td></tr><tr class="attribute"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(A8)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"A1481344"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:typed-value(A8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:ID("A1481344")</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:type-name(A8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:ID</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-id(A8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">true</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-idrefs(A8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:parent(A8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-A9" class="attribute"><td colspan="3" rowspan="1">// Attribute node A9</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-kind(A9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"attribute"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-name(A9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:QName("", "label")</td></tr><tr class="attribute"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(A9)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"Staind  :  Its  Been  A  While"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:typed-value(A9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:token("Staind : Its Been A While")</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:type-name(A9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:token</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-id(A9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-idrefs(A9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:parent(A9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-A10" class="attribute"><td colspan="3" rowspan="1">// Attribute node A10</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-kind(A10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"attribute"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-name(A10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:QName("", "formats")</td></tr><tr class="attribute"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(A10)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"CD"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:typed-value(A10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">cat:formatType("CD")</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:type-name(A10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">cat:formatType</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-id(A10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-idrefs(A10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:parent(A10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T13"><td colspan="3" rowspan="1">// Text node T13</td></tr><tr class="text" id="ex-T13"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T13</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T13)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T13)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T13)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T13)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T13)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n    "</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T13)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"\n    "</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T13)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n    ")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T13)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("\n    ")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T13)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T13)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T13)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T13)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E7"><span class="deltaxml-old" style="background:#FF5555">E7</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr id="ex-E8" class="element"><td colspan="3" rowspan="1">// Element node E8</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:base-uri(E8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-kind(E8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"element"</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-name(E8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.example.com/catalog", "title")</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(E8)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"It's  Been  A  While"</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(E8)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:token("It's Been A While")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:type-name(E8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:token</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-id(E8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-idrefs(E8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:parent(E8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:children(E8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:attributes(E8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:namespace-nodes(E8)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:namespace-bindings(E8)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>("xml", "http://www.w3.org/XML/1998/namespace", "", "http://www.example.com/catalog", "html", "http://www.w3.org/1999/xhtml", "xlink", "http://www.w3.org/1999/xlink", "xsi", "http://www.w3.org/2001/XMLSchema-instance")</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T14"><td colspan="3" rowspan="1">// Text node T14</td></tr><tr class="text" id="ex-T14"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T14</span></td></tr><tr class="add_version" style="display: none;" id="ex-T4"><td colspan="3" rowspan="1">// Text node T4</td></tr><tr class="text" id="ex-T4"><td colspan="3" rowspan="1"><span class="deltaxml-new" style="background:#90EE90">// Text node T4</span></td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T14</span><span class="deltaxml-new" style="background:#90EE90">dm:base-uri(T4</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T14</span><span class="deltaxml-new" style="background:#90EE90">dm:node-kind(T4</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T14</span><span class="deltaxml-new" style="background:#90EE90"> dm:string-value(T4</span>)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"<span class="deltaxml-old" style="background:#FF5555">  </span>It's  Been  A  <span class="deltaxml-old" style="background:#FF5555">While  </span><span class="deltaxml-new" style="background:#90EE90">While</span>"</td></tr><tr class="text"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T14</span><span class="deltaxml-new" style="background:#90EE90"> dm:typed-value(T4</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("  It's  </span><span class="deltaxml-new" style="background:#90EE90">xs:untypedAtomic("It's  </span>Been  A  <span class="deltaxml-old" style="background:#FF5555">While  </span><span class="deltaxml-new" style="background:#90EE90">While</span>")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T14</span><span class="deltaxml-new" style="background:#90EE90">dm:type-name(T4</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T14</span><span class="deltaxml-new" style="background:#90EE90">dm:parent(T4</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E8">E8</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T16"><td colspan="3" rowspan="1">// Text node T16</td></tr><tr class="text" id="ex-T16"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T16</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T16)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T16)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T16)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T16)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T16)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n    "</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T16)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"\n    "</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T16)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n    ")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T16)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("\n    ")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T16)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T16)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T16)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T16)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E7"><span class="deltaxml-old" style="background:#FF5555">E7</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr id="ex-E9" class="element"><td colspan="3" rowspan="1">// Element node E9</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:base-uri(E9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-kind(E9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"element"</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-name(E9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.example.com/catalog", "description")</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(E9)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">""</td></tr><tr class="element"><td colspan="3" rowspan="1">// xsi:nil is true so the typed value is the empty sequence</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(E9)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:type-name(E9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">cat:description</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-id(E9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-idrefs(E9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:parent(E9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:children(E9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:attributes(E9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-A11">A11</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:namespace-nodes(E9)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:namespace-bindings(E9)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>("xml", "http://www.w3.org/XML/1998/namespace", "", "http://www.example.com/catalog", "html", "http://www.w3.org/1999/xhtml", "xlink", "http://www.w3.org/1999/xlink", "xsi", "http://www.w3.org/2001/XMLSchema-instance")</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-A11" class="attribute"><td colspan="3" rowspan="1">// Attribute node A11</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-kind(A11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"attribute"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-name(A11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.w3.org/2001/XMLSchema-instance", "xsi:nil")</td></tr><tr class="attribute"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(A11)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"true"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:typed-value(A11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:boolean("true")</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:type-name(A11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:boolean</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-id(A11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-idrefs(A11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:parent(A11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E9">E9</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T18"><td colspan="3" rowspan="1">// Text node T18</td></tr><tr class="text" id="ex-T18"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T18</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T18)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T18)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T18)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T18)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T18)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n    "</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T18)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"\n    "</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T18)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n    ")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T18)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("\n    ")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T18)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T18)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T18)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T18)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E7"><span class="deltaxml-old" style="background:#FF5555">E7</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr id="ex-E10" class="element"><td colspan="3" rowspan="1">// Element node E10</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:base-uri(E10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-kind(E10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"element"</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-name(E10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.example.com/catalog", "price")</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(E10)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"10.99"</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(E10)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">cat:monetaryAmount(10.99)</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:type-name(E10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">cat:price</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-id(E10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-idrefs(E10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:parent(E10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:children(E10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:attributes(E10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-A12">A12</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:namespace-nodes(E10)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:namespace-bindings(E10)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>("xml", "http://www.w3.org/XML/1998/namespace", "", "http://www.example.com/catalog", "html", "http://www.w3.org/1999/xhtml", "xlink", "http://www.w3.org/1999/xlink", "xsi", "http://www.w3.org/2001/XMLSchema-instance")</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr id="ex-A12" class="attribute"><td colspan="3" rowspan="1">// Attribute node A12</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-kind(A12)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"attribute"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:node-name(A12)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:QName("", "currency")</td></tr><tr class="attribute"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(A12)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"USD"</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:typed-value(A12)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">cat:currencyType("USD")</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:type-name(A12)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">cat:currencyType</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-id(A12)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:is-idrefs(A12)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="attribute"><td rowspan="1" colspan="1">dm:parent(A12)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E10">E10</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T17"><td colspan="3" rowspan="1">// Text node T17</td></tr><tr class="text" id="ex-T17"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T17</span></td></tr><tr class="add_version" style="display: none;" id="ex-T5"><td colspan="3" rowspan="1">// Text node T5</td></tr><tr class="text" id="ex-T5"><td colspan="3" rowspan="1"><span class="deltaxml-new" style="background:#90EE90">// Text node T5</span></td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T17</span><span class="deltaxml-new" style="background:#90EE90">dm:base-uri(T5</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T17</span><span class="deltaxml-new" style="background:#90EE90">dm:node-kind(T5</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T17</span><span class="deltaxml-new" style="background:#90EE90"> dm:string-value(T5</span>)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"<span class="deltaxml-old" style="background:#FF5555">  10.99  </span><span class="deltaxml-new" style="background:#90EE90">10.99</span>"</td></tr><tr class="text"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T17</span><span class="deltaxml-new" style="background:#90EE90"> dm:typed-value(T5</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("  10.99  </span><span class="deltaxml-new" style="background:#90EE90">xs:untypedAtomic("10.99</span>")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T17</span><span class="deltaxml-new" style="background:#90EE90">dm:type-name(T5</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T17</span><span class="deltaxml-new" style="background:#90EE90">dm:parent(T5</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E10">E10</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T21"><td colspan="3" rowspan="1">// Text node T21</td></tr><tr class="text" id="ex-T21"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T21</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T21)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T21)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T21)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T21)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T21)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n    "</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T21)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"\n    "</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T21)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n    ")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T21)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("\n    ")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T21)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T21)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T21)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T21)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E7"><span class="deltaxml-old" style="background:#FF5555">E7</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr id="ex-E11" class="element"><td colspan="3" rowspan="1">// Element node E11</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:base-uri(E11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-kind(E11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"element"</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:node-name(E11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:QName("http://www.example.com/catalog", "artist")</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:string-value(E11)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"  Staind  "</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:typed-value(E11)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">" Staind "</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:type-name(E11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:string</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-id(E11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:is-idrefs(E11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">false</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:parent(E11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:children(E11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:attributes(E11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">()</td></tr><tr class="element"><td rowspan="1" colspan="1">dm:namespace-nodes(E11)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-N1">N1</a>], [<a href="#ex-N2">N2</a>], [<a href="#ex-N3">N3</a>], [<a href="#ex-N4">N4</a>], [<a href="#ex-N5">N5</a>])</td></tr><tr class="element"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>dm:namespace-bindings(E11)</td><td valign="baseline" rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>("xml", "http://www.w3.org/XML/1998/namespace", "", "http://www.example.com/catalog", "html", "http://www.w3.org/1999/xhtml", "xlink", "http://www.w3.org/1999/xlink", "xsi", "http://www.w3.org/2001/XMLSchema-instance")</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T19"><td colspan="3" rowspan="1">// Text node T19</td></tr><tr class="text" id="ex-T19"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T19</span></td></tr><tr class="add_version" style="display: none;" id="ex-T6"><td colspan="3" rowspan="1">// Text node T6</td></tr><tr class="text" id="ex-T6"><td colspan="3" rowspan="1"><span class="deltaxml-new" style="background:#90EE90">// Text node T6</span></td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T19</span><span class="deltaxml-new" style="background:#90EE90">dm:base-uri(T6</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1"><span class="deltaxml-new" style="background:#90EE90"> </span>xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T19</span><span class="deltaxml-new" style="background:#90EE90">dm:node-kind(T6</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T19</span><span class="deltaxml-new" style="background:#90EE90"> dm:string-value(T6</span>)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"  Staind  "</td></tr><tr class="text"><td rowspan="1" valign="baseline" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T19</span><span class="deltaxml-new" style="background:#90EE90"> dm:typed-value(T6</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("  Staind  ")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T19</span><span class="deltaxml-new" style="background:#90EE90">dm:type-name(T6</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T19</span><span class="deltaxml-new" style="background:#90EE90">dm:parent(T6</span>)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E11">E11</a>])</td></tr><tr><td colspan="3" rowspan="1"> </td></tr><tr class="delete_version" style="display: none;" id="ex-T24"><td colspan="3" rowspan="1">// Text node T24</td></tr><tr class="text" id="ex-T24"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T24</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T24)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T24)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T24)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T24)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T24)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n"</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T24)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"\n"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T24)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T24)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("\n")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T24)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T24)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T24)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E7">E7</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T24)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E7"><span class="deltaxml-old" style="background:#FF5555">E7</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr><tr class="delete_version" style="display: none;" id="ex-T24"><td colspan="3" rowspan="1">// Text node T24</td></tr><tr class="text" id="ex-T24"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555">// Text node T24</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:base-uri(T24)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:anyURI("http://www.example.com/catalog.xml")</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:base-uri(T24)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:anyURI("http://www.example.com/catalog.xml")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:node-kind(T24)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">"text"</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:node-kind(T24)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"text"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:string-value(T24)</td><td valign="baseline" rowspan="1" colspan="1">=</td><td rowspan="1" colspan="1">"\n\n"</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:string-value(T24)</span></td><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">=</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">"\n\n"</span></td></tr><tr class="delete_version" style="display: none;"><td valign="baseline" rowspan="1" colspan="1">dm:typed-value(T24)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic("\n\n")</td></tr><tr class="text"><td valign="baseline" rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:typed-value(T24)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic("\n\n")</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:type-name(T24)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">xs:untypedAtomic</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:type-name(T24)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">xs:untypedAtomic</span></td></tr><tr class="delete_version" style="display: none;"><td rowspan="1" colspan="1">dm:parent(T24)</td><td rowspan="1" colspan="1">= </td><td rowspan="1" colspan="1">([<a href="#ex-E1">E1</a>])</td></tr><tr class="text"><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">dm:parent(T24)</span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">= </span></td><td rowspan="1" colspan="1"><span class="deltaxml-old" style="background:#FF5555">([</span><a href="#ex-E1"><span class="deltaxml-old" style="background:#FF5555">E1</span></a><span class="deltaxml-old" style="background:#FF5555">])</span></td></tr><tr class="delete_version" style="display: none;"><td colspan="3" rowspan="1"> </td></tr><tr class="modify_version"><td colspan="3" rowspan="1"><span class="deltaxml-old" style="background:#FF5555"> </span></td></tr></tbody></table><p>A graphical representation of the data model for the preceding example is shown below. Document order in this representation can be found by following the traditional left-to-right, depth-first traversal; however, because the image has been rotated for easier presentation, this appears to be bottom-to-top, depth-first order.</p><table border="0" cellspacing="0" summary="Graphic"><tbody><tr><td rowspan="1" colspan="1"><img src="dm-example.png" alt="Graphical depiction of the example data model." /></td></tr><tr><td rowspan="1" colspan="1">Graphic representation of the data model. [<a href="dm-example-large.png">large view</a>, <a href="dm-example.svg">SVG</a>]</td></tr></tbody></table></div><div class="div1"><h2><a name="impl-summary" id="impl-summary"></a>F Implementation-Defined and Implementation-Dependent Items (Non-Normative)</h2><div class="div2"><h3><a name="implementation-defined" id="implementation-defined"></a>F.1 Implementation-Defined Items</h3><p>The following items are <a title="implementation defined" href="#dt-implementation-defined">implementation-defined</a>.</p><ol><li>Support for additional user-defined or implementation-defined types is implementation-defined. (See <a href="#types-representation"><span style="display: none;" class="delete_version"><b>2.7.1 Representation of Types</b></span><span style="display: none;" class="add_version"><b>2.6.1 Representation of Types</b></span><span class="modify_version"><b><span class="deltaxml-old" style="background:#FF5555">2.7.1</span><span class="deltaxml-new" style="background:#90EE90">2.6.1</span> Representation of Types</b></span></a>)</li><li class="delete_version" style="display: none;">When converting from an <code>xs:string</code> to an <code>xs:float</code> or <code>xs:double</code>, it is implementation-defined whether the lexical value “-0” (and similar forms such as “-0.0”) convert to negative zero or to positive zero in the value space. (See <a href="#NegativeZero"><b>2.7.6 Negative Zero</b></a>)</li><li class="modify_version"><span class="deltaxml-old" style="background:#FF5555">When converting from an </span><code><span class="deltaxml-old" style="background:#FF5555">xs:string</span></code><span class="deltaxml-old" style="background:#FF5555"> to an </span><code><span class="deltaxml-old" style="background:#FF5555">xs:float</span></code><span class="deltaxml-old" style="background:#FF5555"> or </span><code><span class="deltaxml-old" style="background:#FF5555">xs:double</span></code><span class="deltaxml-old" style="background:#FF5555">, it is implementation-defined whether the lexical value “-0” (and similar forms such as “-0.0”) convert to negative zero or to positive zero in the value space. (See </span><a href="#NegativeZero"><b><span class="deltaxml-old" style="background:#FF5555">2.7.6 Negative Zero</span></b></a><span class="deltaxml-old" style="background:#FF5555">)</span></li><li><span style="display: none;" class="delete_version">Some typed values in the data model are <a title="absent" href="#dt-absent">absent</a>. Attempting to access an absent typed value is always an error. Behavior in these cases is implementation-defined and the host language is responsible for determining the result. (See <a href="#accessors"><b>5 Accessors</b></a>)</span><span style="display: none;" class="add_version">Some typed values in the data model are <em>undefined</em>. Attempting to access an undefined property is always an error. Behavior in these cases is implementation-defined and the host language is responsible for determining the result. (See <a href="#accessors"><b>5 Accessors</b></a>)</span><span class="modify_version">Some typed values in the data model are <a title="absent" href="#dt-absent"><span class="deltaxml-old" style="background:#FF5555">absent</span></a><em><span class="deltaxml-new" style="background:#90EE90">undefined</span></em>. Attempting to access an <span class="deltaxml-old" style="background:#FF5555">absent typed value </span><span class="deltaxml-new" style="background:#90EE90">undefined property </span>is always an error. Behavior in these cases is implementation-defined and the host language is responsible for determining the result. (See <a href="#accessors"><b>5 Accessors</b></a>)</span></li></ol></div><div class="div2"><h3><a name="implementation-dependent" id="implementation-dependent"></a>F.2 Implementation-Dependent Items</h3><p>The following items are <a title="implementation dependent" href="#dt-implementation-dependent">implementation-dependent</a>.</p><ol><li>The relative order of Namespace Nodes nodes is stable but implementation-dependent. (See <a href="#document-order"><b>2.4 Document Order</b></a>)</li><li>The relative order of Attribute Nodes nodes is stable but implementation-dependent. (See <a href="#document-order"><b>2.4 Document Order</b></a>)</li><li>The relative order of distinct trees is stable but implementation-dependent. (See <a href="#document-order"><b>2.4 Document Order</b></a>)</li><li>The names of anonymous types are implementation-dependent. (See <a href="#types-representation"><span style="display: none;" class="delete_version"><b>2.7.1 Representation of Types</b></span><span style="display: none;" class="add_version"><b>2.6.1 Representation of Types</b></span><span class="modify_version"><b><span class="deltaxml-old" style="background:#FF5555">2.7.1</span><span class="deltaxml-new" style="background:#90EE90">2.6.1</span> Representation of Types</b></span></a>)</li><li>The prefix associated with type names is implementation-dependent. (See <a href="#PSVI2NodeTypes"><b>3.3.1.1 Element and Attribute Node Type Names</b></a>)</li><li class="add_version" style="display: none;">The representation of the set of prefix/URI pairs returned by the <span class="function"><a href="#dm-namespace-bindings"><span class="prefix">dm:</span>namespace-bindings</a></span> accessor is implementation-dependent. (See <a href="#dm-namespace-bindings"><b>5.7 namespace-bindings Accessor</b></a>)</li><li class="modify_version"><span class="deltaxml-new" style="background:#90EE90">The representation of the set of prefix/URI pairs returned by the </span><span class="function"><a href="#dm-namespace-bindings"><span class="prefix"><span class="deltaxml-new" style="background:#90EE90">dm:</span></span><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></a></span><span class="deltaxml-new" style="background:#90EE90"> accessor is implementation-dependent. (See </span><a href="#dm-namespace-bindings"><b><span class="deltaxml-new" style="background:#90EE90">5.7 namespace-bindings Accessor</span></b></a><span class="deltaxml-new" style="background:#90EE90">)</span></li><li class="add_version" style="display: none;">The representation of namespaces, i.e. whether or not they are represented as nodes, is implementation-dependent. (See <a href="#Node"><b>6 Nodes</b></a>)</li><li class="modify_version"><span class="deltaxml-new" style="background:#90EE90">The representation of namespaces, i.e. whether or not they are represented as nodes, is implementation-dependent. (See </span><a href="#Node"><b><span class="deltaxml-new" style="background:#90EE90">6 Nodes</span></b></a><span class="deltaxml-new" style="background:#90EE90">)</span></li></ol></div></div><div class="div1"><h2><a name="ChangeLog" id="ChangeLog"></a>G Change Log (Non-Normative)</h2><p class="xpath">The following changes have been made to this document since the Recommendation of 23 January 2007.</p><ul><li><p>The W3C Schema 1.1 dateTimeStamp datatype has been added.</p></li><li><p>The function item datatype has been added to support Higher Order Functions.</p></li></ul></div><div class="div1"><h2><a name="accessors-list" id="accessors-list"></a>H Accessor Summary (Non-Normative)</h2><p>This section summarizes the return values of each accessor by node type.</p><div><h3 id="acc-summ-attributes">H.1 <a href="#dm-attributes"><em>dm:</em>attributes</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the empty sequence</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">attributes</b> property. The order of Attribute Nodes is stable but implementation dependent.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div><h3 id="acc-summ-base-uri">H.2 <a href="#dm-base-uri"><em>dm:</em>base-uri</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">base-uri</b> property.</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">base-uri</b> property.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>If the attribute has a parent, returns the value of the <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> of its parent; otherwise it returns the empty sequence.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">base-uri</b> property.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>If the comment has a parent, returns the value of the <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> of its parent; otherwise, returns the empty sequence.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>If the Text Node has a parent, returns the value of the <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span> of its parent; otherwise, returns the empty sequence.</p></dd></dl></div><div><h3 id="acc-summ-children">H.3 <a href="#dm-children"><em>dm:</em>children</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">children</b> property.</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">children</b> property.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div><h3 id="acc-summ-document-uri">H.4 <a href="#dm-document-uri"><em>dm:</em>document-uri</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the absolute URI of the resource from which the Document Node was constructed, or the empty sequence if no such absolute URI is available.</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div><h3 id="acc-summ-is-id">H.5 <a href="#dm-is-id"><em>dm:</em>is-id</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">is-id</b> property.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">is-id</b> property.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div><h3 id="acc-summ-is-idrefs">H.6 <a href="#dm-is-idrefs"><em>dm:</em>is-idrefs</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">is-idrefs</b> property.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">is-idrefs</b> property.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div><h3 id="acc-summ-namespace-bindings"><span class="deltaxml-new" style="background:#90EE90">H.7 </span><a href="#dm-namespace-bindings"><em><span class="deltaxml-new" style="background:#90EE90">dm:</span></em><span class="deltaxml-new" style="background:#90EE90">namespace-bindings</span></a><span class="deltaxml-new" style="background:#90EE90"> Accessor</span></h3><dl><dt><a href="#DocumentNode"><span class="deltaxml-new" style="background:#90EE90">Document Nodes</span></a></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the empty sequence</span></p></dd><dt><a href="#ElementNode"><span class="deltaxml-new" style="background:#90EE90">Element Nodes</span></a></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the value of the </span><b class="dm-node-prop"><span class="deltaxml-new" style="background:#90EE90">namespaces</span></b><span class="deltaxml-new" style="background:#90EE90"> property as a set of prefix/URI pairs.</span></p></dd><dt><a href="#AttributeNode"><span class="deltaxml-new" style="background:#90EE90">Attribute Nodes</span></a></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the empty sequence.</span></p></dd><dt><a href="#NamespaceNode"><span class="deltaxml-new" style="background:#90EE90">Namespace Nodes</span></a></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the empty sequence.</span></p></dd><dt><a href="#ProcessingInstructionNode"><span class="deltaxml-new" style="background:#90EE90">Processing Instruction Nodes</span></a></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the empty sequence.</span></p></dd><dt><a href="#CommentNode"><span class="deltaxml-new" style="background:#90EE90">Comment Nodes</span></a></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the empty sequence.</span></p></dd><dt><a href="#TextNode"><span class="deltaxml-new" style="background:#90EE90">Text Nodes</span></a></dt><dd><p><span class="deltaxml-new" style="background:#90EE90">Returns the empty sequence.</span></p></dd></dl></div><div><h3 id="acc-summ-namespace-nodes"><span class="deltaxml-old" style="background:#FF5555">H.7</span><span class="deltaxml-new" style="background:#90EE90">H.8</span> <a href="#dm-namespace-nodes"><em>dm:</em>namespace-nodes</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the empty sequence</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">namespaces</b> property as a sequence of Namespace Nodes. The order of Namespace Nodes is stable but implementation dependent.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div><h3 id="acc-summ-nilled"><span class="deltaxml-old" style="background:#FF5555">H.8</span><span class="deltaxml-new" style="background:#90EE90">H.9</span> <a href="#dm-nilled"><em>dm:</em>nilled</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the empty sequence</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">nilled</b> property.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div><h3 id="acc-summ-node-kind"><span class="deltaxml-old" style="background:#FF5555">H.9</span><span class="deltaxml-new" style="background:#90EE90">H.10</span> <a href="#dm-node-kind"><em>dm:</em>node-kind</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns “<code>document</code>”.</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns “<code>element</code>”.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns “<code>attribute</code>”.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns “<code>namespace</code>”.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns “<code>processing-instruction</code>”.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns “<code>comment</code>”.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns “<code>text</code>”.</p></dd></dl></div><div><h3 id="acc-summ-node-name"><span class="deltaxml-old" style="background:#FF5555">H.10</span><span class="deltaxml-new" style="background:#90EE90">H.11</span> <a href="#dm-node-name"><em>dm:</em>node-name</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">node-name</b> property.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">node-name</b> property.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>If the <b class="dm-node-prop">prefix</b> is not empty, returns an <code>xs:QName</code> with the value of the <b class="dm-node-prop">prefix</b> property in the local-name and an empty namespace name, otherwise returns the empty sequence.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns an <code>xs:QName</code> with the value of the <b class="dm-node-prop">target</b> property in the local-name and an empty namespace URI and empty prefix.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div><h3 id="acc-summ-parent"><span class="deltaxml-old" style="background:#FF5555">H.11</span><span class="deltaxml-new" style="background:#90EE90">H.12</span> <a href="#dm-parent"><em>dm:</em>parent</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the empty sequence</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">parent</b> property.</p></dd></dl></div><div><h3 id="acc-summ-string-value"><span class="deltaxml-old" style="background:#FF5555">H.12</span><span class="deltaxml-new" style="background:#90EE90">H.13</span> <a href="#dm-string-value"><em>dm:</em>string-value</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">string-value</b> property.</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">string-value</b> property.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">string-value</b> property.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">uri</b> property.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">content</b> property.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">content</b> property.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">content</b> property.</p></dd></dl></div><div><h3 id="acc-summ-type-name"><span class="deltaxml-old" style="background:#FF5555">H.13</span><span class="deltaxml-new" style="background:#90EE90">H.14</span> <a href="#dm-type-name"><em>dm:</em>type-name</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">type-name</b> property.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">type-name</b> property.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns <code>xs:untypedAtomic</code>.</p></dd></dl></div><div><h3 id="acc-summ-typed-value"><span class="deltaxml-old" style="background:#FF5555">H.14</span><span class="deltaxml-new" style="background:#90EE90">H.15</span> <a href="#dm-typed-value"><em>dm:</em>typed-value</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">typed-value</b> property.</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">typed-value</b> property.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">typed-value</b> property.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">uri</b> property as an <code>xs:string</code>.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">content</b> property as a <code>xs:string</code>.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">content</b> property as a <code>xs:string</code>.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns the value of the <b class="dm-node-prop">content</b> property as an <code>xs:untypedAtomic</code>.</p></dd></dl></div><div><h3 id="acc-summ-unparsed-entity-public-id"><span class="deltaxml-old" style="background:#FF5555">H.15</span><span class="deltaxml-new" style="background:#90EE90">H.16</span> <a href="#dm-unparsed-entity-public-id"><em>dm:</em>unparsed-entity-public-id</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the public identifier of the specified unparsed entity or the empty sequence if no such entity exists.</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd></dl></div><div><h3 id="acc-summ-unparsed-entity-system-id"><span class="deltaxml-old" style="background:#FF5555">H.16</span><span class="deltaxml-new" style="background:#90EE90">H.17</span> <a href="#dm-unparsed-entity-system-id"><em>dm:</em>unparsed-entity-system-id</a> Accessor</h3><dl><dt><a href="#DocumentNode">Document Nodes</a></dt><dd><p>Returns the system identifier of the specified unparsed entity or the empty sequence if no such entity exists.</p></dd><dt><a href="#ElementNode">Element Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#AttributeNode">Attribute Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#NamespaceNode">Namespace Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#ProcessingInstructionNode">Processing Instruction Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#CommentNode">Comment Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd><dt><a href="#TextNode">Text Nodes</a></dt><dd><p>Returns the empty sequence.</p></dd></dl></div></div><div class="div1"><h2><a name="infoset-construction-summary" id="infoset-construction-summary"></a>I Infoset Construction Summary (Non-Normative)</h2><p>This section summarizes data model construction from an Infoset for each kind of information item. General notes <a href="#const-infoset">occur elsewhere</a>.</p><div><h3><a name="auto-const-infoset-document" id="auto-const-infoset-document"></a>I.1 Document Nodes Information Items</h3><p>The <b class="info-item">document information item</b> is required. A Document Node is constructed for each <b class="info-item">document information item</b>.</p><p>The following infoset properties are required: <b class="infoset-property">[children]</b> and <b class="infoset-property">[base URI]</b>.</p><p>The following infoset properties are optional: <b class="infoset-property">[unparsed entities]</b>.</p><p>Document Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">base-uri</b></dt><dd><p>The value of the <b class="infoset-property">[base URI]</b> property, if available. Note that the base URI property, if available, is always an absolute URI (if an absolute URI can be computed) though it may contain Unicode characters that are not allowed in URIs. These characters, if they occur, are present in the <b class="dm-node-prop">base-uri</b> property and will have to be encoded and escaped by the application to obtain a URI suitable for retrieval, if retrieval is required.</p><p>In practice a <b class="infoset-property">[base URI]</b> is not always known. In this case the value of the <b class="dm-node-prop">base-uri</b> property of the document node will be the empty sequence. This is not intrinsically an error, though it may cause some operations that depend on the base URI to fail.</p></dd><dt class="label"><b class="dm-node-prop">children</b></dt><dd><p>The sequence of nodes constructed from the information items found in the <b class="infoset-property">[children]</b> property.</p><p>For each element, processing instruction, and comment found in the <b class="infoset-property">[children]</b> property, a corresponding Element, Processing Instruction, or Comment Node is constructed and that sequence of nodes is used as the value of the <b class="dm-node-prop">children</b> property.</p><p>If present among the <b class="infoset-property">[children]</b>, the <b class="info-item">document type declaration information item</b> is ignored.</p></dd><dt class="label"><b class="dm-node-prop">unparsed-entities</b></dt><dd><p>If the <b class="infoset-property">[unparsed entities]</b> property is present and is not the empty set, the values of the <b class="info-item">unparsed entity information items</b> must be used to support the <span class="function"><a href="#dm-unparsed-entity-system-id"><span class="prefix">dm:</span>unparsed-entity-system-id</a></span> and <span class="function"><a href="#dm-unparsed-entity-public-id"><span class="prefix">dm:</span>unparsed-entity-public-id</a></span> accessors.</p><p>The internal structure of the values of the <b class="dm-node-prop">unparsed-entities</b> property is implementation defined.</p></dd><dt class="label"><b class="dm-node-prop">string-value</b></dt><dd><p>The concatenation of the string-values of all its Text Node descendants in document order. If the document has no such descendants, the zero-length string.</p></dd><dt class="label"><b class="dm-node-prop">typed-value</b></dt><dd><p>The <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> of the node as an <code>xs:untypedAtomic</code> value.</p></dd><dt class="label"><b class="dm-node-prop">document-uri</b></dt><dd><p>The <b class="dm-node-prop">document-uri</b> property holds the absolute URI for the resource from which the document node was constructed, if one is available and can be made absolute. For example, if a collection of documents is returned by the <span class="function">fn:collection</span> function, the <b class="dm-node-prop">document-uri</b> property may serve to distinguish between them even though each has the same <b class="dm-node-prop">base-uri</b> property.</p><p>If the <b class="dm-node-prop">document-uri</b> is not the empty sequence, then the following constraint must hold: the node returned by evaluating <code>fn:doc()</code> with the <b class="dm-node-prop">document-uri</b> as its argument must return the document node that provided the value of the <b class="dm-node-prop">document-uri</b> property.</p><p>In other words, for any Document Node <code>$arg</code>, either <code>fn:document-uri($arg)</code> must return the empty sequence or <code>fn:doc(fn:document-uri($arg))</code> must return <code>$arg</code>.</p></dd></dl></div><div><h3><a name="auto-const-infoset-element" id="auto-const-infoset-element"></a>I.2 Element Nodes Information Items</h3><p>The <b class="info-item">element information items</b> are required. An Element Node is constructed for each <b class="info-item">element information item</b>.</p><p>The following infoset properties are required: <b class="infoset-property">[namespace name]</b>, <b class="infoset-property">[local name]</b>, <b class="infoset-property">[children]</b>, <b class="infoset-property">[attributes]</b>, <b class="infoset-property">[in-scope namespaces]</b>, <b class="infoset-property">[base URI]</b>, and <b class="infoset-property">[parent]</b>.</p><p>Element Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">base-uri</b></dt><dd><p>The value of the <b class="infoset-property">[base URI]</b> property, if available. Note that the base URI property, if available, is always an absolute URI (if an absolute URI can be computed) though it may contain Unicode characters that are not allowed in URIs. These characters, if they occur, are present in the <b class="dm-node-prop">base-uri</b> property and will have to be encoded and escaped by the application to obtain a URI suitable for retrieval, if retrieval is required.</p><p>In practice a <b class="infoset-property">[base URI]</b> is not always known. In this case the value of the <b class="dm-node-prop">base-uri</b> property of the document node will be the empty sequence. This is not intrinsically an error, though it may cause some operations that depend on the base URI to fail.</p></dd><dt class="label"><b class="dm-node-prop">node-name</b></dt><dd><p>An <code>xs:QName</code> constructed from the <b class="infoset-property">[prefix]</b>, <b class="infoset-property">[local name]</b>, and <b class="infoset-property">[namespace name]</b> properties.</p></dd><dt class="label"><b class="dm-node-prop">parent</b></dt><dd><p>The node that corresponds to the value of the <b class="infoset-property">[parent]</b> property or the empty sequence if there is no parent.</p></dd><dt class="label"><b class="dm-node-prop">type-name</b></dt><dd><p>All Element Nodes constructed from an infoset have the type <code>xs:untyped</code>.</p></dd><dt class="label"><b class="dm-node-prop">children</b></dt><dd><p>The sequence of nodes constructed from the information items found in the <b class="infoset-property">[children]</b> property.</p><p>For each element, processing instruction, comment, and maximal sequence of adjacent <b class="info-item">character information items</b> found in the <b class="infoset-property">[children]</b> property, a corresponding Element, Processing Instruction, Comment, or Text Node is constructed and that sequence of nodes is used as the value of the <b class="dm-node-prop">children</b> property.</p><p>Because the data model requires that all general entities be expanded, there will never be <b class="info-item">unexpanded entity reference information item</b> children.</p></dd><dt class="label"><b class="dm-node-prop">attributes</b></dt><dd><p>A set of Attribute Nodes constructed from the <b class="info-item">attribute information items</b> appearing in the <b class="infoset-property">[attributes]</b> property. This includes all of the "special" attributes (<code>xml:lang</code>, <code>xml:space</code>, <code>xsi:type</code>, etc.) but does not include namespace declarations (because they are not attributes).</p><p>Default and fixed attributes provided by the DTD are added to the <b class="infoset-property">[attributes]</b> and are therefore included in the data model <b class="dm-node-prop">attributes</b> of an element.</p></dd><dt class="label"><b class="dm-node-prop">namespaces</b></dt><dd><p>A set of Namespace Nodes constructed from the <b class="info-item">namespace information items</b> appearing in the <b class="infoset-property">[in-scope namespaces]</b> property. Implementations that do not support Namespace Nodes may simply preserve the relevant bindings in this property.</p><p>Implementations <strong>may</strong> ignore <b class="info-item">namespace information items</b> for namespaces which are not known to be used. A namespace is known to be used if:</p><ul><li><p>It appears in the <a title="expanded-QName" href="#dt-expanded-qname">expanded QName</a> of the <b class="dm-node-prop">node-name</b> of the element.</p></li><li><p>It appears in the <a title="expanded-QName" href="#dt-expanded-qname">expanded QName</a> of the <b class="dm-node-prop">node-name</b> of any of the element's attributes.</p></li></ul><p>Note: applications may rely on namespaces that are not known to be used, for example when QNames are used in content and that content does not have a type of <code>xs:QName</code> Such applications may have difficulty processing data models where some namespaces have been ignored.</p></dd><dt class="label"><b class="dm-node-prop">nilled</b></dt><dd><p>All Element Nodes constructed from an infoset have a <b class="dm-node-prop">nilled</b> property of "<em>false</em>".</p></dd><dt class="label"><b class="dm-node-prop">string-value</b></dt><dd><p>The <b class="dm-node-prop">string-value</b> is constructed from the <b class="info-item">character information item</b><b class="infoset-property">[children]</b> of the element and all its descendants. The precise rules for selecting significant <b class="info-item">character information items</b> and constructing characters from them is described in <a href="#const-infoset-text"><b>6.7.3 Construction from an Infoset</b></a> of <a href="#TextNode"><b>6.7 Text Nodes</b></a>.</p><p>This process is equivalent to concatenating the <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>s of all of the Text Node descendants of the resulting Element Node.</p><p>If the element has no such descendants, the <b class="dm-node-prop">string-value</b> is the empty string.</p></dd><dt class="label"><b class="dm-node-prop">typed-value</b></dt><dd><p>The <b class="dm-node-prop">string-value</b> as an <code>xs:untypedAtomic</code>.</p></dd><dt class="label"><b class="dm-node-prop">is-id</b></dt><dd><p>All Element Nodes constructed from an infoset have a <b class="dm-node-prop">is-id</b> property of "<em>false</em>".</p></dd><dt class="label"><b class="dm-node-prop">is-idrefs</b></dt><dd><p>All Element Nodes constructed from an infoset have a <b class="dm-node-prop">is-idrefs</b> property of "<em>false</em>".</p></dd></dl></div><div><h3><a name="auto-const-infoset-attribute" id="auto-const-infoset-attribute"></a>I.3 Attribute Nodes Information Items</h3><p>The <b class="info-item">attribute information items</b> are required. An Attribute Node is constructed for each <b class="info-item">attribute information item</b>.</p><p>The following infoset properties are required: <b class="infoset-property">[namespace name]</b>, <b class="infoset-property">[local name]</b>, <b class="infoset-property">[normalized value]</b>, <b class="infoset-property">[attribute type]</b>, and <b class="infoset-property">[owner element]</b>.</p><p>Attribute Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">node-name</b></dt><dd><p>An <code>xs:QName</code> constructed from the <b class="infoset-property">[prefix]</b>, <b class="infoset-property">[local name]</b>, and <b class="infoset-property">[namespace name]</b> properties.</p></dd><dt class="label"><b class="dm-node-prop">parent</b></dt><dd><p>The Element Node that corresponds to the value of the <b class="infoset-property">[owner element]</b> property or the empty sequence if there is no owner.</p></dd><dt class="label"><b class="dm-node-prop">type-name</b></dt><dd><p>The value <code>xs:untypedAtomic</code>.</p></dd><dt class="label"><b class="dm-node-prop">string-value</b></dt><dd><p>The <b class="infoset-property">[normalized value]</b> of the attribute.</p></dd><dt class="label"><b class="dm-node-prop">typed-value</b></dt><dd><p>The attribute’s typed-value is its <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> as an <code>xs:untypedAtomic</code>.</p></dd><dt class="label"><b class="dm-node-prop">is-id</b></dt><dd><p>If the attribute is named <code>xml:id</code> and its <b class="infoset-property">[attribute type]</b> property does not have the value <code>ID</code>, then <a href="#xml-id">[xml:id]</a> processing is performed. This will assure that the value does have the type <code>ID</code> and that it is properly normalized. If an error is encountered during xml:id processing, an implementation <strong>may</strong> raise a dynamic error. The <b class="dm-node-prop">is-id</b> property is always <code>true</code> for attributes named <code>xml:id</code>.</p><p>If the <b class="infoset-property">[attribute type]</b> property has the value <code>ID</code>, <code>true</code>, otherwise <code>false</code>.</p></dd><dt class="label"><b class="dm-node-prop">is-idrefs</b></dt><dd><p>If the <b class="infoset-property">[attribute type]</b> property has the value <code>IDREF</code> or <code>IDREFS</code>, <code>true</code>, otherwise <code>false</code>.</p></dd></dl></div><div><h3><a name="auto-const-infoset-namespace" id="auto-const-infoset-namespace"></a>I.4 Namespace Nodes Information Items</h3><p>The <b class="info-item">namespace information items</b> are required.</p><p>The following infoset properties are required: <b class="infoset-property">[prefix]</b>, <b class="infoset-property">[namespace name]</b>.</p><p>Namespace Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">prefix</b></dt><dd><p>The <b class="infoset-property">[prefix]</b> property.</p></dd><dt class="label"><b class="dm-node-prop">uri</b></dt><dd><p>The <b class="infoset-property">[namespace name]</b> property.</p></dd><dt class="label"><b class="dm-node-prop">parent</b></dt><dd><p>The element in whose <b class="infoset-property">[in-scope namespaces]</b> property the <b class="info-item">namespace information item</b> appears, if the implementation exposes any mechanism for accessing the <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span> accessor of Namespace Nodes.</p></dd></dl></div><div><h3><a name="auto-const-infoset-pi" id="auto-const-infoset-pi"></a>I.5 Processing Instruction Nodes Information Items</h3><p>A Processing Instruction Node is constructed for each <b class="info-item">processing instruction information item</b> that is not ignored.</p><p>The following infoset properties are required: <b class="infoset-property">[target]</b>, <b class="infoset-property">[content]</b>, <b class="infoset-property">[base URI]</b>, and <b class="infoset-property">[parent]</b>.</p><p>Processing Instruction Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">target</b></dt><dd><p>The value of the <b class="infoset-property">[target]</b> property.</p></dd><dt class="label"><b class="dm-node-prop">content</b></dt><dd><p>The value of the <b class="infoset-property">[content]</b> property.</p></dd><dt class="label"><b class="dm-node-prop">base-uri</b></dt><dd><p>The value of the <b class="infoset-property">[base URI]</b> property, if available. Note that the base URI property, if available, is always an absolute URI (if an absolute URI can be computed) though it may contain Unicode characters that are not allowed in URIs. These characters, if they occur, are present in the <b class="dm-node-prop">base-uri</b> property and will have to be encoded and escaped by the application to obtain a URI suitable for retrieval, if retrieval is required.</p><p>In practice a <b class="infoset-property">[base URI]</b> is not always known. In this case the value of the <b class="dm-node-prop">base-uri</b> property of the document node will be the empty sequence. This is not intrinsically an error, though it may cause some operations that depend on the base URI to fail.</p></dd><dt class="label"><b class="dm-node-prop">parent</b></dt><dd><p>The node corresponding to the value of the <b class="infoset-property">[parent]</b> property.</p></dd></dl><p>There are no Processing Instruction Nodes for processing instructions that are children of a <b class="info-item">document type declaration information item</b>.</p></div><div><h3><a name="auto-const-infoset-comment" id="auto-const-infoset-comment"></a>I.6 Comment Nodes Information Items</h3><p>The <b class="info-item">comment information items</b> are optional.</p><p>A Comment Node is constructed for each <b class="info-item">comment information item</b>.</p><p>The following infoset properties are required: <b class="infoset-property">[content]</b> and <b class="infoset-property">[parent]</b>.</p><p>Comment Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">content</b></dt><dd><p>The value of the <b class="infoset-property">[content]</b> property.</p></dd><dt class="label"><b class="dm-node-prop">parent</b></dt><dd><p>The node corresponding to the value of the <b class="infoset-property">[parent]</b> property.</p></dd></dl><p>There are no Comment Nodes for comments that are children of a <b class="info-item">document type declaration information item</b>.</p></div><div><h3><a name="auto-const-infoset-text" id="auto-const-infoset-text"></a>I.7 Text Nodes Information Items</h3><p>The <b class="info-item">character information items</b> are required. A Text Node is constructed for each maximal sequence of <b class="info-item">character information items</b> in document order.</p><p>The following infoset properties are required: <b class="infoset-property">[character code]</b> and <b class="infoset-property">[parent]</b>.</p><p>The following infoset properties are optional: <b class="infoset-property">[element content whitespace]</b>.</p><p>A sequence of <b class="info-item">character information items</b> is maximal if it satisfies the following constraints:</p><ol class="enumar"><li><p>All of the information items in the sequence have the same parent.</p></li><li><p>The sequence consists of adjacent <b class="info-item">character information items</b> uninterrupted by other types of information item.</p></li><li><p>No other such sequence exists that contains any of the same <b class="info-item">character information items</b> and is longer.</p></li></ol><p>Text Node properties are derived from the infoset as follows:</p><dl><dt class="label"><b class="dm-node-prop">content</b></dt><dd><p>A string comprised of characters that correspond to the <b class="infoset-property">[character code]</b> properties of each of the <b class="info-item">character information items</b>.</p><p>If the resulting Text Node consists entirely of whitespace and the <b class="infoset-property">[element content whitespace]</b> property of the <b class="info-item">character information items</b> used to construct this node are <code>true</code>, the <b class="dm-node-prop">content</b> of the Text Node is the zero-length string. Text Nodes are only allowed to be empty if they have no parents; an empty Text Node will be discarded when its parent is constructed, if it has a parent.</p><p>The content of the Text Node is not necessarily normalized as described in the <a href="#charmod">[Character Model]</a>. It is the responsibility of data producers to provide normalized text, and the responsibility of applications to make sure that operations do not de-normalize text.</p></dd><dt class="label"><b class="dm-node-prop">parent</b></dt><dd><p>The node corresponding to the value of the <b class="infoset-property">[parent]</b> property.</p></dd></dl></div></div><div class="div1"><h2><a name="psvi-construction-summary" id="psvi-construction-summary"></a>J PSVI Construction Summary (Non-Normative)</h2><p>This section summarizes data model construction from a PSVI for each kind of information item. General notes <a href="#const-psvi">occur elsewhere</a>.</p><div><h3><a name="auto-const-psvi-document" id="auto-const-psvi-document"></a>J.1 Document Nodes Information Items</h3><p>Construction from a PSVI is identical to construction from the Infoset.</p></div><div><h3><a name="auto-const-psvi-element" id="auto-const-psvi-element"></a>J.2 Element Nodes Information Items</h3><p>The following Element Node properties are affected by PSVI properties.</p><dl><dt class="label"><b class="dm-node-prop">type-name</b></dt><dd><p>The <b class="dm-node-prop">type-name</b> is determined as described in <a href="#PSVI2NodeTypes"><b>3.3.1.1 Element and Attribute Node Type Names</b></a>.</p></dd><dt class="label"><b class="dm-node-prop">children</b></dt><dd><p>The sequence of nodes constructed from the information items found in the <b class="infoset-property">[children]</b> property.</p><p>For each element, processing instruction, comment, and maximal sequence of adjacent <b class="info-item">character information items</b> found in the <b class="infoset-property">[children]</b> property, a corresponding Element, Processing Instruction, Comment, or Text Node is constructed and that sequence of nodes is used as the value of the <b class="dm-node-prop">children</b> property.</p><p>For elements with schema simple types, or complex types with simple content, if the <b class="infoset-property">[schema normalized value]</b> PSVI property exists, the processor <strong>may</strong> use a sequence of nodes containing the Processing Instruction and Comment Nodes corresponding to the <b class="info-item">processing instruction</b> and <b class="info-item">comment information items</b> found in the <b class="infoset-property">[children]</b> property, plus an optional single Text Node whose string value is the <b class="infoset-property">[schema normalized value]</b> for the <b class="dm-node-prop">children</b> property. If the <b class="infoset-property">[schema normalized value]</b> is the empty string, the Text Node <strong>must not</strong> be present, otherwise it <strong>must</strong> be present.</p><p>The relative order of Processing Instruction and Comment Nodes must be preserved, but the position of the Text Node, if it is present, among them is implementation defined.</p><p>The effect of the above rules is that where a fixed or default value for an element is defined in the schema, and the element takes this default value, a text node will be created to contain the value, even though there are no character information items representing the value in the PSVI. The position of this text node relative to any comment or processing instruction children is implementation-dependent.</p><p><a href="#xmlschema-1">[Schema Part 1]</a> also permits an element with mixed content to take a default or fixed value (which will always be a simple value), but at the time of this writing it is unclear how such a defaulted value is represented in the PSVI. Implementations therefore <strong>may</strong> represent such a default value by creating a text node, but are not required to do so.</p><p>Because the data model requires that all general entities be expanded, there will never be <b class="info-item">unexpanded entity reference information item</b> children.</p></dd><dt class="label"><b class="dm-node-prop">attributes</b></dt><dd><p>A set of Attribute Nodes constructed from the <b class="info-item">attribute information items</b> appearing in the <b class="infoset-property">[attributes]</b> property. This includes all of the "special" attributes (<code>xml:lang</code>, <code>xml:space</code>, <code>xsi:type</code>, etc.) but does not include namespace declarations (because they are not attributes).</p><p>Default and fixed attributes provided by XML Schema processing are added to the <b class="infoset-property">[attributes]</b> and are therefore included in the data model <b class="dm-node-prop">attributes</b> of an element.</p></dd><dt class="label"><b class="dm-node-prop">namespaces</b></dt><dd><p>A set of Namespace Nodes constructed from the <b class="info-item">namespace information items</b> appearing in the <b class="infoset-property">[in-scope namespaces]</b> property. Implementations that do not support Namespace Nodes may simply preserve the relevant bindings in this property.</p><p>Implementations <strong>may</strong> ignore <b class="info-item">namespace information items</b> for namespaces which are not known to be used. A namespace is known to be used if:</p><ul><li><p>It appears in the <a title="expanded-QName" href="#dt-expanded-qname">expanded QName</a> of the <b class="dm-node-prop">node-name</b> of the element.</p></li><li><p>It appears in the <a title="expanded-QName" href="#dt-expanded-qname">expanded QName</a> of the <b class="dm-node-prop">node-name</b> of any of the element's attributes.</p></li><li><p>It appears in the <a title="expanded-QName" href="#dt-expanded-qname">expanded QName</a> of any values of type <code>xs:QName</code> that appear among the element's children or the typed values of its attributes.</p></li></ul><p>Note: applications may rely on namespaces that are not known to be used, for example when QNames are used in content and that content does not have a type of <code>xs:QName</code> Such applications may have difficulty processing data models where some namespaces have been ignored.</p></dd><dt class="label"><b class="dm-node-prop">nilled</b></dt><dd><p>If the <b class="infoset-property">[validity]</b> property exists on an information item and is "<em>valid</em>" then if the <b class="infoset-property">[nil]</b> property exists and is true, then the <b class="dm-node-prop">nilled</b> property is "<em>true</em>". In all other cases, including all cases where schema validity assessment was not attempted or did not succeed, the <b class="dm-node-prop">nilled</b> property is "<em>false</em>".</p></dd><dt class="label"><b class="dm-node-prop">string-value</b></dt><dd><p>The string-value is calculated as follows:</p><ul><li><p>If the element is empty: its string value is the zero length string.</p></li><li><p>If the element has a type of <code>xs:untyped</code>, a complex type with element-only content, or a complex type with mixed content: its string-value is the concatenation of the <b class="dm-node-prop">string-value</b>s of all its Text Node descendants in document order.</p></li><li><p>If the element has a simple type or a complex type with simple content: its string-value is the <b class="infoset-property">[schema normalized value]</b> of the node.</p></li></ul><p>If an implementation stores only the typed value of an element, it may use any valid lexical representation of the typed value for the <b class="dm-node-prop">string-value</b> property.</p></dd><dt class="label"><b class="dm-node-prop">typed-value</b></dt><dd><p>The typed-value is calculated as follows:</p><ul><li><p>If the element is of type <code>xs:untyped</code>, its typed-value is its <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> as an <code>xs:untypedAtomic</code>.</p></li><li><p>If the element has a complex type with empty content, its typed-value is the empty sequence.</p></li><li><p>If the element has a simple type or a complex type with simple content: its typed value is computed as described in <a href="#TypedValueDetermination"><b>3.3.1.2 Typed Value Determination</b></a>. The result is a sequence of zero or more atomic values. The relationship between the type-name, typed-value, and string-value of an element node is consistent with XML Schema validation.</p><p>Note that in the case of dates and times, the timezone is preserved as described in <a href="#dates-and-times"><b>3.3.2 Dates and Times</b></a>, and in the case of <code>xs:QName</code>s and <code>xs:NOTATION</code>s, the prefix is preserved as described in <a href="#qnames-and-notations"><b>3.3.3 QNames and NOTATIONS</b></a>.</p></li><li><p>If the element has a complex type with mixed content (including <code>xs:anyType</code>), its typed-value is its <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> as an <code>xs:untypedAtomic</code>.</p></li><li><p><span style="display: none;" class="delete_version">Otherwise, the element must be a complex type with element-only content. The typed-value of such an element is <a title="absent" href="#dt-absent">absent</a>. Attempting to access this property with the <span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span> accessor always raises an error.</span><span style="display: none;" class="add_version">Otherwise, the element must be a complex type with element-only content. The typed-value of such an element is undefined. Attempting to access this property with the <span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span> accessor always raises an error.</span><span class="modify_version">Otherwise, the element must be a complex type with element-only content. The typed-value of such an element is <a title="absent" href="#dt-absent"><span class="deltaxml-old" style="background:#FF5555">absent</span></a><span class="deltaxml-new" style="background:#90EE90">undefined</span>. Attempting to access this property with the <span class="function"><a href="#dm-typed-value"><span class="prefix">dm:</span>typed-value</a></span> accessor always raises an error.</span></p></li></ul></dd><dt class="label"><b class="dm-node-prop">is-id</b></dt><dd><p>If the element has a complex type with element-only content, the <b class="dm-node-prop">is-id</b> property is <code>false</code>. Otherwise, if the typed-value of the element consists of exactly one atomic value and that value is of type <code>xs:ID</code>, or a type derived from <code>xs:ID</code>, the <b class="dm-node-prop">is-id</b> property is <code>true</code>, otherwise it is <code>false</code>.</p><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>This means that in the case of a type constructed by list from <code>xs:ID</code>, the ID is recognized provided that the list is of length one. A type constructed as a union involving <code>xs:ID</code> is recognized provided the actual value is of type <code>xs:ID</code>.</p></td></tr></table></blockquote><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>The element that is marked with the <b class="dm-node-prop">is-id</b> property, and which will therefore be retrieved by the fn:id function, is the node whose typed value contains the <code>xs:ID</code> value. This node is a child of the element node that, according to XML Schema, is uniquely identified by this ID.</p></td></tr></table></blockquote></dd><dt class="label"><b class="dm-node-prop">is-idrefs</b></dt><dd><p>If the element has a complex type with element-only content, the <b class="dm-node-prop">is-idrefs</b> property is <code>false</code>. Otherwise, if any of the atomic values in the typed-value of the element is of type <code>xs:IDREF</code> or <code>xs:IDREFS</code>, or a type derived from one of those types, the <b class="dm-node-prop">is-idrefs</b> property is <code>true</code>, otherwise it is <code>false</code>.</p></dd></dl><p>All other properties have values that are consistent with construction from an infoset.</p></div><div><h3><a name="auto-const-psvi-attribute" id="auto-const-psvi-attribute"></a>J.3 Attribute Nodes Information Items</h3><p>The following Attribute Node properties are affected by PSVI properties.</p><dl><dt class="label"><b class="dm-node-prop">string-value</b></dt><dd><ul><li><p>The <b class="infoset-property">[schema normalized value]</b> PSVI property if that exists.</p></li><li><p>Otherwise, the <b class="infoset-property">[normalized value]</b> property.</p></li></ul><p>If an implementation stores only the typed value of an attribute, it may use any valid lexical representation of the typed value for the <b class="dm-node-prop">string-value</b> property.</p></dd><dt class="label"><b class="dm-node-prop">type-name</b></dt><dd><p>The <b class="dm-node-prop">type-name</b> is determined as described in <a href="#PSVI2NodeTypes"><b>3.3.1.1 Element and Attribute Node Type Names</b></a>.</p></dd><dt class="label"><b class="dm-node-prop">typed-value</b></dt><dd><p>The typed-value is calculated as follows:</p><ul><li><p>If the attribute is of type <code>xs:untypedAtomic</code>: its typed-value is its <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> as an <code>xs:untypedAtomic</code>.</p></li><li><p>Otherwise, a sequence of zero or more atomic values as described in <a href="#TypedValueDetermination"><b>3.3.1.2 Typed Value Determination</b></a>. The relationship between the type-name, typed-value, and string-value of an attribute node is consistent with XML Schema validation.</p></li></ul></dd><dt class="label"><b class="dm-node-prop">is-id</b></dt><dd><p>If the attribute is named <code>xml:id</code> and its <b class="infoset-property">[attribute type]</b> property does not have the value <code>xs:ID</code> or a type derived from <code>xs:ID</code>, then <a href="#xml-id">[xml:id]</a> processing is performed. This will assure that the value does have the type <code>xs:ID</code> and that it is properly normalized. If an error is encountered during xml:id processing, an implementation <strong>may</strong> raise a dynamic error. The <b class="dm-node-prop">is-id</b> property is always true for attributes named <code>xml:id</code>.</p><p>Otherwise, if the typed-value of the attribute consists of exactly one atomic value and that value is of type <code>xs:ID</code>, or a type derived from <code>xs:ID</code>, the <b class="dm-node-prop">is-id</b> property is <code>true</code>, otherwise it is <code>false</code>.</p><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>This means that in the case of a type constructed by list from <code>xs:ID</code>, the ID is recognized provided that the list is of length one. A type constructed as a union involving <code>xs:ID</code> is recognized provided the actual value is of type <code>xs:ID</code>.</p></td></tr></table></blockquote></dd><dt class="label"><b class="dm-node-prop">is-idrefs</b></dt><dd><p>If any of the atomic values in the typed-value of the attribute is of type <code>xs:IDREF</code> or <code>xs:IDREFS</code>, or a type derived from one of those types, the <b class="dm-node-prop">is-idrefs</b> property is <code>true</code>, otherwise it is <code>false</code>.</p><blockquote><table width="90%" summary="Note"><tr><td width="10%" align="left" valign="top"><b>Note:</b></td><td align="left" valign="top"><p>This rule means that a type constructed by list with an item type of <code>xs:IDREF</code> (or a type derived from <code>xs:IDREF</code>) has the <b class="dm-node-prop">is-idrefs</b> property, whether or not the list type is named <code>xs:IDREFS</code> or is derived from <code>xs:IDREFS</code>. Because union types are allowed, it also means that an element or attribute with the <b class="dm-node-prop">is-idrefs</b> property can contain atomic values of type <code>xs:IDREF</code> alongside values of other types.</p></td></tr></table></blockquote></dd></dl><p>All other properties have values that are consistent with construction from an infoset.</p><p>Note: attributes from the XML Schema instance namespace, "<code>http://www.w3.org/2001/XMLSchema-instance</code>", (<code>xsi:schemaLocation</code>, <code>xsi:type</code>, etc.) appear as ordinary attributes in the data model.</p></div><div><h3><a name="auto-const-psvi-namespace" id="auto-const-psvi-namespace"></a>J.4 Namespace Nodes Information Items</h3><p>Construction from a PSVI is identical to construction from the Infoset.</p></div><div><h3><a name="auto-const-psvi-pi" id="auto-const-psvi-pi"></a>J.5 Processing Instruction Nodes Information Items</h3><p>Construction from a PSVI is identical to construction from the Infoset.</p></div><div><h3><a name="auto-const-psvi-comment" id="auto-const-psvi-comment"></a>J.6 Comment Nodes Information Items</h3><p>Construction from a PSVI is identical to construction from the Infoset.</p></div><div><h3><a name="auto-const-psvi-text" id="auto-const-psvi-text"></a>J.7 Text Nodes Information Items</h3><p>For Text Nodes constructed from the <b class="infoset-property">[schema normalized value]</b> of elements, <b class="dm-node-prop">content</b> contains the value of the <b class="infoset-property">[schema normalized value]</b>.</p><p>Otherwise, construction from a PSVI is the same as construction from the Infoset except for the <b class="dm-node-prop">content</b> property. When constructing the <b class="dm-node-prop">content</b> property, <b class="infoset-property">[element content whitespace]</b> is not used to test if whitespace is collapsed. Instead, if the resulting Text Node consists entirely of whitespace and the <b class="info-item">character information items</b> used to construct this node have a parent and that parent is an element and its {content type} is not “<code>mixed</code>”, then the <b class="dm-node-prop">content</b> of the Text Node is the zero-length string.</p><p>Text Nodes are only allowed to be empty if they have no parents; an empty Text Node will be discarded when its parent is constructed, if it has a parent.</p></div></div><div class="div1"><h2><a name="infoset-mapping-summary" id="infoset-mapping-summary"></a>K Infoset Mapping Summary (Non-Normative)</h2><p>This section summarizes the infoset mapping for each kind of node. General notes <a href="#infoset-mapping">occur elsewhere</a>.</p><div><h3><a name="auto-infoset-mapping-document" id="auto-infoset-mapping-document"></a>K.1 Document Nodes Information Items</h3><p>A Document Node maps to a <b class="info-item">document information item</b>. The mapping fails and produces no value if the Document Node contains Text Node children that do not consist entirely of white space or if the Document Node contains more than one Element Node child.</p><p>The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[children]</b></dt><dd><p>A list of information items obtained by processing each of the <span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span> in order and mapping each to the appropriate information item(s).</p></dd><dt class="label"><b class="infoset-property">[document element]</b></dt><dd><p>The <b class="info-item">element information item</b> that is among the <b class="infoset-property">[children]</b>.</p></dd><dt class="label"><b class="infoset-property">[unparsed entities]</b></dt><dd><p>An unordered set of <b class="info-item">unparsed entity information item</b>s constructed from the <b class="dm-node-prop">unparsed-entities</b>.</p><p>Each unparsed entity maps to an <b class="info-item">unparsed entity information item</b>. The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[name]</b></dt><dd><p>The name of the entity.</p></dd><dt class="label"><b class="infoset-property">[system identifier]</b></dt><dd><p>The system identifier of the entity.</p></dd><dt class="label"><b class="infoset-property">[public identifier]</b></dt><dd><p>The public identifier of the entity.</p></dd><dt class="label"><b class="infoset-property">[declaration base URI]</b></dt><dd><p>Implementation defined. In the many cases, the <b class="dm-node-prop">document-uri</b> is the correct answer and implementations <strong>must</strong> use this value if they have no better information. Implementations that keep track of the original <b class="infoset-property">[declaration base URI]</b> for entities should use that value.</p></dd></dl><p>The following properties of the <b class="info-item">unparsed entity information item</b> have no value: <b class="infoset-property">[notation name]</b>, <b class="infoset-property">[notation]</b>.</p></dd></dl><p>The following properties of the <b class="info-item">document information item</b> have no value: <b class="infoset-property">[notations]</b><b class="infoset-property">[character encoding scheme]</b><b class="infoset-property">[standalone]</b><b class="infoset-property">[version]</b><b class="infoset-property">[all declarations processed]</b>.</p></div><div><h3><a name="auto-infoset-mapping-element" id="auto-infoset-mapping-element"></a>K.2 Element Nodes Information Items</h3><p>An Element Node maps to an <b class="info-item">element information item</b>.</p><p>The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[namespace name]</b></dt><dd><p>The namespace name of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[local name]</b></dt><dd><p>The local part of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[prefix]</b></dt><dd><p>The prefix associated with the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[children]</b></dt><dd><p>A list of information items obtained by processing each of the <span class="function"><a href="#dm-children"><span class="prefix">dm:</span>children</a></span> in order and mapping each to the appropriate information item(s).</p></dd><dt class="label"><b class="infoset-property">[attributes]</b></dt><dd><p>An unordered set of information items obtained by processing each of the <span class="function"><a href="#dm-attributes"><span class="prefix">dm:</span>attributes</a></span> and mapping each to the appropriate information item(s).</p></dd><dt class="label"><b class="infoset-property">[in-scope namespaces]</b></dt><dd><p>An unordered set of <b class="info-item">namespace information items</b> constructed from the <b class="dm-node-prop">namespaces</b>.</p><p>Each in-scope namespace maps to a <b class="info-item">namespace information item</b>. The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[prefix]</b></dt><dd><p>The prefix associated with the namespace.</p></dd><dt class="label"><b class="infoset-property">[namespace name]</b></dt><dd><p>The URI associated with the namespace.</p></dd></dl></dd><dt class="label"><b class="infoset-property">[base URI]</b></dt><dd><p>The value of <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span>.</p></dd><dt class="label"><b class="infoset-property">[parent]</b></dt><dd><ul><li><p>If this node is the root of the infoset mapping operation, <em>unknown</em>.</p></li><li><p>If this node has a parent, the information item that corresponds to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.</p></li><li><p>Otherwise <em>no value</em>.</p></li></ul></dd></dl><p>The following property has no value: <b class="infoset-property">[namespace attributes]</b>.</p></div><div><h3><a name="auto-infoset-mapping-attribute" id="auto-infoset-mapping-attribute"></a>K.3 Attribute Nodes Information Items</h3><p>An Attribute Node maps to an <b class="info-item">attribute information item</b>.</p><p>The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[namespace name]</b></dt><dd><p>The namespace name of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[local name]</b></dt><dd><p>The local part of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[prefix]</b></dt><dd><p>The prefix associated with the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[normalized value]</b></dt><dd><p>The value of <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>.</p></dd><dt class="label"><b class="infoset-property">[owner element]</b></dt><dd><ul><li><p>If this node has a parent, the information item that corresponds to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.</p></li><li><p>Otherwise <em>no value</em>.</p></li></ul></dd></dl><p>The following properties have no value: <b class="infoset-property">[specified]</b><b class="infoset-property">[attribute type]</b><b class="infoset-property">[references]</b>.</p></div><div><h3><a name="auto-infoset-mapping-namespace" id="auto-infoset-mapping-namespace"></a>K.4 Namespace Nodes Information Items</h3><p>A Namespace Node maps to a <b class="info-item">namespace information item</b>.</p><p>The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[prefix]</b></dt><dd><p>The prefix associated with the namespace.</p></dd><dt class="label"><b class="infoset-property">[namespace name]</b></dt><dd><p>The value of <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>.</p></dd></dl></div><div><h3><a name="auto-infoset-mapping-processing-instruction" id="auto-infoset-mapping-processing-instruction"></a>K.5 Processing Instruction Nodes Information Items</h3><p>An Processing Instruction Node maps to a <b class="info-item">processing instruction information item</b>.</p><p>The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[target]</b></dt><dd><p>The local part of the value of <span class="function"><a href="#dm-node-name"><span class="prefix">dm:</span>node-name</a></span>.</p></dd><dt class="label"><b class="infoset-property">[content]</b></dt><dd><p>The value of <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>.</p></dd><dt class="label"><b class="infoset-property">[base URI]</b></dt><dd><p>The value of <span class="function"><a href="#dm-base-uri"><span class="prefix">dm:</span>base-uri</a></span>.</p></dd><dt class="label"><b class="infoset-property">[parent]</b></dt><dd><ul><li><p>If this node is the root of the infoset mapping operation, <em>unknown</em>.</p></li><li><p>If this node has a parent, the information item that corresponds to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.</p></li><li><p>Otherwise <em>no value</em>.</p></li></ul></dd><dt class="label"><b class="infoset-property">[notation]</b></dt><dd><p><em>no value</em>.</p></dd></dl></div><div><h3><a name="auto-infoset-mapping-comment" id="auto-infoset-mapping-comment"></a>K.6 Comment Nodes Information Items</h3><p>A Comment Node maps to a <b class="info-item">comment information item</b>.</p><p>The following properties are specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[content]</b></dt><dd><p>The value of the <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span>.</p></dd><dt class="label"><b class="infoset-property">[parent]</b></dt><dd><ul><li><p>If this node is the root of the infoset mapping operation, <em>unknown</em>.</p></li><li><p>If this node has a parent, the information item that corresponds to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.</p></li><li><p>Otherwise <em>no value</em>.</p></li></ul></dd></dl></div><div><h3><a name="auto-infoset-mapping-text" id="auto-infoset-mapping-text"></a>K.7 Text Nodes Information Items</h3><p>A Text Node maps to a sequence of <b class="info-item">character information items</b>.</p><p>Each character of the <span class="function"><a href="#dm-string-value"><span class="prefix">dm:</span>string-value</a></span> of the node is converted into a <b class="info-item">character information item</b> as specified by this mapping:</p><dl><dt class="label"><b class="infoset-property">[character code]</b></dt><dd><p>The Unicode code point value of the character.</p></dd><dt class="label"><b class="infoset-property">[parent]</b></dt><dd><ul><li><p>If this node is the root of the infoset mapping operation, <em>unknown</em>.</p></li><li><p>If this node has a parent, the information item that corresponds to the node returned by <span class="function"><a href="#dm-parent"><span class="prefix">dm:</span>parent</a></span>.</p></li><li><p>Otherwise <em>no value</em>.</p></li></ul></dd><dt class="label"><b class="infoset-property">[element content whitespace]</b></dt><dd><p><em>Unknown</em>.</p></dd></dl><p>This sequence of characters constitutes the infoset mapping.</p></div></div></div></body></html>