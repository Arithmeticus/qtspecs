-*-org-*-

CHANGES.TXT for XQuery 1.1 and XPath 2.1

Items below are not yet incorporated into the editor's drafts unless
they are marked with 'DONE'. Once completed items have been entered
into the revision log, they are deleted from this document.-

Items marked TODO are actionable now, without satisfying other
dependencies.

* Editorial improvements

** DONE Make XPath / XQuery description of static components and scope more consistent
   CLOSED: [2010-05-03 Mon 20:11]

* Backlog

** DONE suppress-indentation serialization parameter
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=6535
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Jan/0013.html

** DONE Bugzilla Bug 7450, [XPath] 'for' expression example does not produce expected output
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=7450

** DONE Bugzilla Bug 7048, [XPath+XQuery] typos in Binary Operators table
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=7048

** DONE Fixed multiple use of Error 0096 - created new error XQST0111 for decimal formats.
   CLOSED: [2010-03-22 Mon 10:08]

** DONE expanded QName syntax "uri":local
   SCHEDULED: <2010-07-08 Thu> CLOSED: [2010-07-13 Tue 09:38]
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=6131

   Status: Now in the grammar.

** DONE partial-apply function syntax
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2009Dec/0053.html


** DONE Bugzilla Bug 8265, [XQuery] Do schema import, module import and module declaration add to the statically known namespaces?
   CLOSED: [2010-05-03 Mon 20:56]
   See http://www.w3.org/Bugs/Public/show_bug.cgi?id=8265


** DONE Add references to XML Schema 1.1
   CLOSED: [2010-11-23 Tue 13:52] -  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Aug/0034.html

   support for xs:dateTimeStamp - revised (Andrew Eisenberg)
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2009Feb/0055.html

   XML Query WG Face-To-Face Meeting #392 Minutes (draft) (Jonathan Robie)
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2009Feb/0068.html


* Teleconference #421, 2010-01-05
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Jan/0020.html

** DONE WAITING Q2.1.1 parsing problem for XQuery 1.1 + Update (Michael D)
   See http://lists.w3.org/Archives/Member/w3c-xsl-query/2009Nov/0107.html


** DONE Validation by type
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2009Nov/0061.html
   DECISION: Accept Mike Kay's proposed new text for validation by type.



* Teleconference #422, 2010-01-12
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Jan/0055.html

** DONE Q2.5.1 Bugzilla Bug 6272, [XQuery11] Context item declaration
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=6272


* Teleconference #423, 2010-01-19
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Jan/0081.html

** DONE derives-from() and union types


** DONE WAITING Bug 7860:
   SCHEDULED: <2010-11-27 Sat> CLOSED: [2010-11-27 Sat 14:26]

   Jonathan to write up proposal in
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=7860#c1
   and publish it for review.

   -[ ] Dependency on grammar - AType production is needed:
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2009Oct/0133.html


** DONE Guidance for Handling Modules
   CLOSED: [2010-03-22 Mon 22:17]

   Make content of XQuery 1.0e2's Appendix J ("Guidance for Handling of
   Modules") normative for XQuery 1.1 (moving content into body of doc).

   ACTION A-423-02 on JRobie to have draft of XQuery 1.1 ready for F2F
   that reflects decision to make content of Appendix J ("Guidance for
   Handling of Modules") normative.

** DONE Diffs appendix


* Teleconference #424, 2010-01-26
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Jan/0142.html

** DONE ACTION A-424-01: Jonathan will solve Bug 8762 by
   SCHEDULED: <2010-06-26 Sat>
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=8762
   adding an extra-gramatical constraint, similar to
   Constraint: occurrence-indicators and use example from bug report.


* Teleconference #425 2010-02-02
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Feb/0005.html

  (No decisions that change XQuery / XPath)

* Teleconference #426 2010-02-09
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Feb/0071.html

  (No decisions that change XQuery / XPath)


* F2F #427 16 February 2010

** DONE Fix XQ.E19 - it should agree with the final comment here:
   CLOSED: [2010-03-22 Mon 10:03]

   http://www.w3.org/Bugs/Public/show_bug.cgi?id=4463


** DONE Change

  "Therefore it is not legal syntax for a user to invoke functions
  with unprefixed names which match any of the names"

  to

  "Therefore, an unprefixed function name must not be any of the names
  in A.3 Reserved Function Names"

** DONE WAITING Adopt [XQuery 1.1] Organization of sections
   CLOSED: [2010-03-22 Mon 22:18]
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=8502#c1

** DONE Adopt [XQuery 1.1] overwriteability of context item static type
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=8875#c1

** DONE Q1.1.2 Bugzilla Bug 8564, [XQuery] orphaned error XQDY0096
   CLOSED: [2010-03-22 Mon 16:55]
   See http://www.w3.org/Bugs/Public/show_bug.cgi?id=8564

** DONE Process mdyck's feedback here:
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2009Nov/0075.html


* Teleconference #428 2010-03-02
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Mar/0099.html

  No decisions that change XQuery 1.1 / XPath 2.1

* Teleconference #429 2010-03-09
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Mar/0116.html

** DONE Adopt John Snelson's typeswitch proposal
   SCHEDULED: <2010-06-26 Sat> DEADLINE: <2010-06-27 Sun> CLOSED: [2010-06-27 Sun 14:30]
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Feb/0220.html

* Teleconference #430 2010-03-23
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Mar/0164.html

  No decisions that change XQuery 1.1 / XPath 2.1

* Teleconference #431 2010-04-06
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Apr/0099.html

  No decisions that change XQuery 1.1 / XPath 2.1

* Bugs reported on 2010-03-22 WD

** DONE Process Mike Kay's feedback here:
   SCHEDULED: <2010-06-27 Sun> CLOSED: [2010-06-27 Sun 16:05]
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Mar/0170.html


* Teleconference #432 2010-04-13
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Apr/0127.html

** DONE Bug 9139: Dynamic function calls and context
   CLOSED: [2010-04-15 Thu 13:57]

   DECISION: adopt comment #14 as amended by comment #15.

** DONE Bug 9183: Dynamic invocation of xs:QName or xs:NOTATION
   CLOSED: [2010-04-15 Thu 13:57]
   constructor functions

   DECISION: adopt comment #1 as amended by comment #2.

* Teleconference #433 2010-04-20
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Apr/0170.html
  (No decisions that affect XQuery 1.1 / XPath 2.1)

* Teleconference #434 2010-04-27
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010May/0013.html

** DONE DECISION: the % option is provisionally accepted, for
   SCHEDULED: <2010-06-26 Sat>

*** DONE Add editorial note discussing annotations for other languages in our family
    SCHEDULED: <2010-06-28 Mon>

** DONE FunctionTest portion of function annotations
   SCHEDULED: <2010-06-26 Sat>


* Teleconference #435 2010-05-04

** DONE DECIDED: XQuery 1.1 will modify output declarations to allow the URL
   CLOSED: [2010-11-23 Tue 13:57] - see http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Nov/0041.html

   Reopened pending discussion of
   http://lists.w3.org/Archives/Member/w3c-xsl-query/20n10Jun/0151.html

*** DONE Add note saying we are still working on this
   SCHEDULED: <2010-06-26 Sat >CLOSED: [2010-06-28 Mon 19:36]


* Teleconference #436 2010-05-11
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010May/0131.html

** DONE Q2.6.2 Bugzilla Bug 9252,
   CLOSED: [2010-06-28 Mon 12:03]
   [XQuery 1.1] Error handling in switch expression

   Implement comments #0 and #1 from Bug 9252
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=9252#c4

   Status: Processed what I could, reopened the bug to resolve the
   remaining issue.


** DONE Q2.6.4 Bugzilla Bug 9497
   SCHEDULED: <2010-06-26 Sat> CLOSED: [2010-06-27 Sun 15:07]
   [XQuery11] 4.16 Context Item Declaration: VarValue/VarDefaultVal
   inside a library module
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=9497

   Define error for the condition mentioned in the bug.


*  Teleconference #437 2010-05-18
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2010May/0167.html

** DONE J4.2.2 DECISION: accept MKay's proposed solution in
   SCHEDULED: <2010-06-27 Sun> CLOSED: [2010-11-11 Thu 13:14]
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=8810#c2. Need to
   refer to LEIRI spec. (for XQuery 1.1 and XPath 2.1)

   *** POSTPONE **** -- editorial, not much mileage here ...

   The relevant portion for XQuery is here:

   Second, several specs (XQuery, XSLT, F+O) make frequent reference
   to "resolving" a URI. These references can easily be found by
   searching (but take care, because the word is also used in other
   senses, e.g. resolving a namespace prefix). I propose that each of
   these specs contains the definition:

   [DEFINITION: to *resolve* a relative URI is to expand it to an
   absolute URI, by reference to a base URI, as if by calling the
   function fn:resolve-uri.]

   and that appropriate uses of the term resolve should be linked to
   this definition. The definition can go in 2.4.5 URI Literals for
   XQuery, in 6 Functions that manipulate URIs for F+O, and in 5.8 URI
   References for XSLT.

*  Teleconference #438 2010-06-01
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Jun/0005.html

   No decisions that affect XQuery


*  Teleconference #439 2010-06-08
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Jun/0034.html

   No decisions that affect XQuery


*  Teleconference #440 2010-06-08
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Jun/0079.html

** DONE AGREED Bug 9497
   SCHEDULED: <2010-06-26 Sat> CLOSED: [2010-06-27 Sun 15:09]

   [XQuery11] 4.16 Context Item Declaration) to be fixed along the
   lines proposed in comment #2 of the bugzilla entry (JR)


** DONE AGREED Bug 9600 (Constructor functions conflicting with user-defined functions)
   SCHEDULED: <2010-06-26 Sat> CLOSED: [2010-06-27 Sun 16:23]
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=9600

   agreed to accept the proposed text in comment #9.


*  Teleconference #441 2010-06-22
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Jun/0161.html

** DONE Bug 9757 -  Group By Clause: Equivalence: "atomic" is incorrect
   SCHEDULED: <2010-06-27 Sun> CLOSED: [2010-06-27 Sun 13:01]
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=9757

*  XML Query WG F2F Meeting #444, Oxford
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Aug/0034.html

** DONE
   CLOSED: [2010-11-23 Tue 14:03] - see http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Nov/0038.html

   ACTION A-444-04: Jonathan to add text to XPath to the effect: You
   can label your functions as non-deterministic.  Implementations may
   use this information when optimizing expressions. For example, it
   may be significant how many times a non-deterministic function is
   executed or in what order.  SCHEDULED: <2010-09-07 Tue>


** DONE ACTION A-444-15: Jonathan to close 9252 to reflect the decision not to require errors to be raised in non-matching case operands.
   SCHEDULED: <2010-09-03 Fri>  CLOSED: [2010-09-03 Fri 16:34]


** DONE DECISION (Bugzilla Bug 8221, "deterministic / stable") -
   CLOSED: [2010-11-11 Thu 13:40]
   deterministic and nondeterministic [[
    A fn is deterministic if all calls within an execution scope
    and with identical arguments return an identical result.
    That result may be implementation defined/depedent
    (e.g. in the order of items in a sequence)

    If the function is dependent on the dynamic context, we
    regard it as deterministic treating that part of the context
    as an implicit argument, so if the context and arguments are
    the same the result must be the same.

    All other functions are non-deterministic.

    Side-effecting and determinism are orthogonal

** DONE DECISION: close 9816, "[XQuery] Is there really a need to prohibit
   CLOSED: [2010-11-11 Thu 13:52]
   checking of NOTATIONs during validation?": the sentence prohibiting
   the check that notation
   names are declared is to be removed from XQuery 1.1, and queued
   as a pending erratum for XQuery 1.0.

   Resolves
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=9816

** DONE DECIDED Bug 9302, "[XQuery11] How are output declarations processed?"
   CLOSED: [2010-11-23 Tue 14:07] - see http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Nov/0041.html

   We adopt
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Jul/0159.html
   as the solution to
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=9302, modulo the
   following corrections:

    "output:parameter-document =":

        should be no =

    Various schema corrections - now found here:

    http://www.w3.org/XML/Group/qtspecs/specifications/xslt-xquery-serialization-11/html/Overview.html#serparams-in-xdm-instance

    Refer to above.


** DONE DECISION - move serialization options (XQuery C3) to the static context.
   => John Snelson

   Module scope. Implementations are allowed to overwrite or
   augment. Consistency rules column needs to be filled in.


* Teleconference #445 2010-08-31
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Aug/0033.html

** DONE Bug 8221:  deterministic / stable
   CLOSED: [2010-11-11 Thu 14:46]
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=8221#c2

* Minutes of XML Query/XSL WG Joint Teleconference #447 2010-09-14
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Sep/0097.html

   (No changes to XQuery / XPath 3.0)

* Minutes for XML Query/XSL WG Joint Teleconference #448 2010-09-21
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Sep/0228.html

** DONE DECISION:  J4.4.3 ACTION A-440-05, potential conflict between built-in
    functions and declared/imported/constructor functions
    CLOSED: [2010-11-12 Fri 18:19]
    http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Sep/0016.html et seq

    In principle, adopt solution in
    http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Sep/0068.html
    Jonathan, Mike and Michael to co-ordinate and ensure that they agree
    on the wording.

** DONE DECISION:  J4.4.4 ACTION A-444-04: Jonathan to add text to XPath to the
   CLOSED: [2010-11-11 Thu 17:34]
    effect: You can label your functions as non-deterministic.
    Implementations may use this information when optimizing expressions.
    For example, it may be significant how many times a non-deterministic
    function is executed or in what order.

    The working group agree that ACTION-444-04 can be closed with no
    further changes to the document

** DONE DECISION: J4.4.6 Bugzilla Bug 10571,
   CLOSED: [2010-11-13 Sat 14:26]
    [XPath21] Need a precise definition of what a ParenthesizeItemType matches
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=10571

    Adopt the suggested solution in the bug (adding a new bullet at the
    end of 2.5.4.2 that reads, "A ParenthesizedItemType matches an item
    if and only if the item matches the ItemType that is in
    parentheses."), and then close the bug.

** DONE DECISION: J4.4.7 Bugzilla Bug 10579,
    [XPath21] The closure of a function item should be defined http://www.w3.org/Bugs/Public/show_bug.cgi?id=10579
    => John Snelson

    The bug can be closed by transforming the note (the definition of a
    closure in section 2.8 of internal last call draft of Data Model)
    into a proper definition and linking to it.

** DONE DECISION: Q2.6.2 Bugzilla Bug 10271,
   CLOSED: [2010-11-13 Sat 14:36]
    [XQuery11]: Wrong error for duplicate decimal format declarations
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=10271

    Jonathan will record the solution that he is adopting for bug 10271,
    and mark the bug RESOLVED FIXED

** DONE DECISION: Q2.6.3 Bugzilla Bug 10272,
   CLOSED: [2010-11-13 Sat 14:43]
    [XQuery11]: Missing error for duplicate property names within a single declaration?
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=10272

    Jonathan will define a new error/select an existing error for this
    situation and mark the bug RESOLVED FIXED.

** DONE DECISION: Q2.6.4 Bugzilla Bug 10273,
   CLOSED: [2010-11-13 Sat 14:57]
    [XQuery11]: Mistaken allowance of missing DFPropertyName pair in EBNF?
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=10273

    Bug reclassified as editorial. Jonathan to record the solution and
    mark the bug RESOLVED FIXED.

** DONE DECISION: Q2.6.5 Bugzilla Bug 10407,
   CLOSED: [2010-11-13 Sat 15:10]
    [XQuery11] Consistency constraint for external variables needs to consider default value
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=10407

    Adopt the solution in comment #2, changing the last sentence

    If the variable declaration does not include a declared type, the
    external environment must provide a type and a matching value, using
    the same matching rules.

    to

    The external environment may provide a value of any type.

** DONE DECISION: Q2.6.6 Bugzilla Bug 10466,
   SCHEDULED: <2010-11-12 Fri> CLOSED: [2010-11-15 Mon 08:15]
    [XQuery11] Are inline functions "user defined" and is a "user defined" function the same thing as a "user-declared" function?
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=10466

      Eliminate the term "user-declared".  "User-defined" are functions
      with a body.

** DONE DECISION: Q2.6.7 Bugzilla Bug 10503,
   CLOSED: [2010-11-15 Mon 11:14]
    [XPath21] Section on input sources doesn't mention new functions
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=10503

    Accept proposal in bug report (Section 2.4.4 of XPath 2.1 should
    also refer to fn:unparsed-text, fn:uri-collection and
    fn:get-environment-variable).


* XML Query/XSL WG Joint Teleconference #449 Minutes 2010-09-28
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Sep/0262.html

** DONE J4.4.5 Bugzilla Bug 10683, [XQ1.1] Use of "none" for default
   CLOSED: [2010-11-16 Tue 19:15]
    element/function namespace
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=10683

    RESOLVED: We'll define "absent", that absent refers to the state
    of a property that has no value, and will mention that we use this
    particularly with respect to namepace URIs. And that we replace
    uses of "null", "empty", or "none" wrt namespace URIs with
    "absent".

** DONE JJ4.4.7 Bugzilla Bug 10686, [XPath 2.1] in-scope variables for inline functions
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=10686
    => John Snelson

    RESOLVED: We agree with the commentor, bug will be fixed as suggested.

** DONE JJ4.4.8 Bugzilla Bug 10689,
   CLOSED: [2010-11-16 Tue 20:03]
    [XPath 21] Definition of minus sign does
    not define which error to use if it is a single value
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=10689

    RESOLVED: The Working Groups decided to remove error codes from
    the discussion of static context completely - errors are
    defined in "4.10 Decimal-Format Declaration". 12:47 PM In 4.10,
    error XQST0097 already covers this case, so there is no need to
    change the text in that section.

** DONE JJ4.4.9 Bugzilla Bug 10700,
   CLOSED: [2010-11-27 Sat 14:42]
    [XPath21] Consistency constraints do not
    place a restriction on the use of the xmlns namespace
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=10700

    RESOLVED: Make the proposed change, exact wording left to the editor.

** DONE JJ4.4.10 Bugzilla Bug 10705, [XPath21] Default namespace used for
    annotation assertions when matching
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=10705
    => John Snelson

    RESOLVED: The commentor is correct, wording left to the editor.

** DONE JJ4.4.12 Bugzilla Bug 10716, [XPath21] Use of term "evaluation order"
   CLOSED: [2010-11-15 Mon 13:51]
    in XPath/XQuery
    http://www.w3.org/Bugs/Public/show_bug.cgi?id=10716

    RESOLVED: We will use the phrase "Parentheses may be used to
    override the precedence rules".

* XML Query/XSL WG Joint Teleconference #450 Minutes 2010-10-12
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Oct/0092.html

** DONE RESOLVED: Bug 10679 (Definition of item and XDM instance does not
    include function items) classed as editorial.

    John fixed this: errors.xml,1.28,1.29 expressions.xml,1.130,1.131

** DONE RESOLVED: Bug 10680 (Editorial: Erroneous reference to [err:XPST0081])
   CLOSED: [2010-11-27 Sat 14:55]
   classed as editorial.

** DONE RESOLVED: Bug 10681 (Should math be a prebound prefix), decided that
   CLOSED: [2010-11-11 Thu 17:11]
    XQuery should not predeclare the namespace prefixes math, err, and out.

*** DONE Add examples that declare needed prefixes
    CLOSED: [2010-11-27 Sat 15:03]

** DONE RESOLVED: Bug 10682 (Use of the term URI in introduction) classed as
   CLOSED: [2010-11-27 Sat 15:43]
   editorial.

** DONE RESOLVED Bug 10727 (Problems with description on how to evaluate the
    prefix expression for constructed namespace nodes.) Resolved/Fixed as
    per comment #1

   CLOSED: [2010-11-27 Sat 16:03]

** DONE RESOLVED Bug 10728
   CLOSED: [2010-12-05 Sun 14:08]

   (Constructed namespace nodes should forbid the
    namespace URI "http://www.w3.org/2000/xmlns/") closed as Resolved/Fixed
    (agreeing with the originator)

** DONE RESOLVED Bug 10733 (Definition of group by expression not sufficent)
   CLOSED: [2010-12-05 Sun 15:11]
    closed as Resolved/Fixed (no detailed wording agreed, but the technical
    approach is as defined in comment #2)


* XML Query/XSL WG Joint Teleconference #451 Minutes 2010-10-19
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Oct/0156.html


** DONE Bug 10989
   SCHEDULED: <2010-11-15 Mon> CLOSED: [2010-11-15 Mon 19:55]

   DECISION: Agree that bug 10989 "[XQuery1.0] 3.7.1.1 Attributes:
    quot-quot and apos-apos special regardless of delimiter?" documents a
    bug that needs fixing.


* XML Query/XSL WG Joint Teleconference #452 Minutes
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Oct/0175.html

** DONE DECISION: Close bug 10207 "[XPath] Matching abstract schema-element tests"  as "RESOLVED FIXED".
   SCHEDULED: <2010-11-15 Mon> CLOSED: [2010-12-05 Sun 15:44]

   Accepting the changes proposed from comment  #1.

** DONE DECISION: Close bug 10855 "[XQuery11] Behaviour not specified when using duplicate DFPropertyName values in the same DecimalFormatDecl", yes it's an error.
   CLOSED: [2010-11-15 Mon 09:21]

** DONE DECISION: Classify bug 10856 "[XQuery11] Decimal format declarations do not define how properties are interpreted." as editorial.
   CLOSED: [2010-12-05 Sun 16:14]

** DONE DECISION: Close bug 10858 "[XQuery11] Decimal format declarations do how to interpret missing properties." as editorial.
   CLOSED: [2010-11-15 Mon 09:31]

** DONE ACTION A-452-01: All editors to review the use of the word "legal"
   CLOSED: [2010-11-16 Tue 10:34]

   and to replace "legal" with valid, conformant, well-formed, must, "it
   is an error if...", or any other appropriate term.


* XML Query WG Face-To-Face Meeting #453 Minutes -- 2010-11-01 - 2010-11-02
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Nov/0006.html

** DONE DECISION: change "an expression" to "Query Body" in XQuery 2.3.1:

     "Independently of whether the Static Typing Feature is in effect,
     if an implementation can determine during the static analysis
     phase that the evaluation of the QueryBody would necessarily
     raise a type error or a dynamic error, the implementation may
     (but is not required to) report that error during the static
     analysis phase. However, the fn:error() function must not be
     evaluated during the static analysis phase."

     Close http://www.w3.org/Bugs/Public/show_bug.cgi?id=10848
     This does not close
     http://www.w3.org/Bugs/Public/show_bug.cgi?id=11171

This text was further refined by the following decision:

** DONE DECISION: Change text in 2.3.1:
   CLOSED: [2010-12-11 Sat 14:43]
     Independently of whether the Static Typing Feature is in effect, if
     an implementation can determine during the static analysis phase that an
     expression, if evaluated, would necessarily raise a type error or a
     dynamic error, the implementation may (but is not required to) report
     that error during the static analysis phase.
   - to -
     Independently of whether the Static Typing Feature is in effect, if
     an implementation can determine during the static analysis phase that a
     query body, if evaluated, would necessarily raise a dynamic error or an
     expression, if evaluated, would necessarily raise a type error, the
     implementation may (but is not required to) report that error during the
     static analysis phase.

** DONE DECISION: Remove the sentence "However, the fn:error() function must not
   CLOSED: [2010-12-11 Sat 15:24]
   be evaluated during the static analysis phase." from 2.1.3, and add a
   note to illustrate the differences introduced by the first sentence.

** DONE DECISION: Change the following sentance (XQuery 4.15):
   => John Snelson
   Implementations can add their own annotations, which should not be in
   the fn namespace.
- to -
  Implementations can add their own annotations, which must not be in any
  of the following namespaces:
   *  http://www.w3.org/XML/1998/namespace
   *  http://www.w3.org/2001/XMLSchema
   *  http://www.w3.org/2001/XMLSchema-instance

** DONE DECISION: Change the last sentence in 2.5.3:
   => John Snelson
   Users should avoid creating annotation assertions in the fn namespace,
   since this namespace is reserved for future language extensions.
- to -
  Users must not create annotation assertions in the following namespaces
  [XQST0045]:
   *  http://www.w3.org/XML/1998/namespace
   *  http://www.w3.org/2001/XMLSchema
   *  http://www.w3.org/2001/XMLSchema-instance


** DONE DECISION: Prohibit the xmlns namespace in EQNames.
   CLOSED: [2010-12-11 Sat 16:06]
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=10869
   Raise the error XQST0070 in this case.


** DONE DECISION:  Change the definitions of public/private functions as so:
   CLOSED: [2010-12-11 Sat 16:33]

   Bugzilla Bug 10874, [XQuery11] Definition of public/private functions
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=10874

   [Definition: A private function is a function with a %private
   annotation.  A private function is hidden from module import, which
   can not import it into the function signatures of another module.]
   [Definition: A public function is a function without a %private
   annotation. A public function is accessible to module import, which can
   import it into the function signatures of another module. ]

** DONE DECISION:  Allow multiple private functions to be declared with the same
   name providing that they are in different modules.
   CLOSED: [2010-12-11 Sat 16:54]

   Q2.8.11 Bugzilla Bug 10876, [XQuery11] Is it
   valid to have conflicting private functions in two different modules?
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=10876

** DONE DECISION: Reword the text describing deterministic and non-determinstic
   CLOSED: [2010-12-11 Sat 17:09]
   text to distinguish the terms from the annotations %deterministic and
   %non-deterministic.

** DONE DECISION: Wherever annotations are used, add text restricting the set of
   annotations allowed in the fn namespace to the set which have a defined
   meaning.

   => John Snelson

** DONE DECISION: Prohibit user defined functions from being declared in the math namespace.
   CLOSED: [2010-12-11 Sat 17:37]

   Q2.8.14 Bugzilla Bug 10883, [XQuery11] Should it
   be allowed to declare a function in the math namespace?
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=10883


** DONE DECISION: Adopt the rules outlined in bug 10885 comment #0 to define the
   behaviour of depends on in the presence of function items.
   => John Snelson

** DONE DECISION: Jonathan to fix the group-by example listed in bug 10980 using
   CLOSED: [2010-12-11 Sat 18:20]
   Andrew's report as a guide.

   Q2.8.16 Bugzilla Bug 10980, [XQuery11] incorrect group by example
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=10980


** DONE DECISION: Jonathan to remove the default value from annotations, explain
   how he will fix bug 11014 and mark the bug resolved fixed.

   => John Snelson

* DRAFT Minutes of XML Query/XSL WG Joint Teleconference #454, 2010-11-16
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Nov/0117.html

** DONE ACTION A-454-06: Jonathan Robie to fix EQ names of attributes per Bug 10857.
   CLOSED: [2010-12-12 Sun 11:54]


** DONE ACTION A-454-07: Jonathon Robie to add text about annotations per bug 10875.
   CLOSED: [2010-12-12 Sun 12:16]



* Minutes XML Query/XSL WG Joint Teleconference #455 Agenda 2010-11-23
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Nov/0191.html

** DONE Q1.1.2 [XQuery] Wrong string
   CLOSED: [2010-12-12 Sun 12:52]
   http://lists.w3.org/Archives/Public/public-qt-comments/2010Nov/0036.html

   We agreed to make the change that was requested by the submittor.


** DONE Q2.9.2 Bugzilla Bug 10110, [XQuery11UC]expected result sample for
   CLOSED: [2010-12-12 Sun 13:04]
   windowing question 2 seems wrong (Jonathan)
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=10110

   We agreed to make the change suggested by the commentor

* Minutes: XML Query/XSL WG Joint Teleconference #456 (2010-11-30)
http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Nov/0305.html

** DONE DECISION: Allow casting to union types and constructor functions for union
   CLOSED: [2010-12-12 Sun 16:41]
   types.

** ACTION A-456-03: Jonathan and MKay to allow casting + constructor functions
   for union types in the next WDs of the XQuery/XPath and F+O documents.

* Fixed: Minutes: XML Query/XSL WG Joint Teleconference #457 2010-12-07
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Dec/0349.html

  No decisions that affect XQuery 3.0 / XPath 3.0

* XML Query/XSL WG Joint Teleconference #458 Minutes 2010-12-14
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Dec/0345.html

** DONE Modules - consistent story

   DECIDED: Without objection Jonathan Robie to make whatever
   clarification he deems fit to the effect that modules conform to
   the BNF and there may be multiple modules that has the same target
   namespace, but not to take the action of comment 3 in BZ 10876.

* MINUTES for XML Query/XSL WG Joint Teleconference #459 Agenda 2010-12-21
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2010Dec/0670.html

** DONE Static errors in try/catch and conditionals

   DECISION: "Statically detecting errors in try/catch and conditional
   expressions" (http://www.w3.org/Bugs/Public/show_bug.cgi?id=10848)
   Jonathan will remove the sentence "If an error found in a try
   clause can be detected statically, an implementation is free to
   raise a static error."  Remove "If an error found in a try clause
   can be detected statically, an implementation is free to raise a
   static error."  because the problem has been resolved as mentioned
   in Comment #5 of this bug. After doing this, the bug will be marked
   as resolved/fixed.

** DONE Dynamic errors in try/catch and conditionals

   DECISION: "[XQuery11] dynamic errors reported during static
   analysis" (http://www.w3.org/Bugs/Public/show_bug.cgi?id=11171) Add
   the following paragraph to 3.14 Try/Catch Expressions and mark the
   bug as resolved/fixed.  "Try/catch expressions have a special rule
   for propagating dynamic errors. The try/catch expression ignores
   any dynamic errors encountered in catch clauses other than the
   first catch clause that matches an error raised by the try clause,
   and these catch clause expressions need not be evaluated."

* XML Query/XSL WG Joint Teleconference #460 Minutes 2011-01-04
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jan/0036.html

  No decisions that affect XQuery 3.0 / XPath 3.0

* XML Query/XSL WG Joint Teleconference #461 Minutes 2011-01-11
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jan/0207.html

  No decisions that affect XQuery 3.0 / XPath 3.0

** DONE Development vs. Deployment URI

   ACTION A-461-03 Jonathan Robie (bug 11561) to propose wording for a
   non-normative note on the subject (development URI vs deployment
   URI).  By 2011-01-18.

* XML Query/XSL WG Joint Teleconference #462 Minutes 2011-01-18
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jan/0229.html

  No decisions that affect XQuery 3.0 / XPath 3.0

  (Use cases need fixing for several queries - see action items)

* XML Query/XSL WG Joint Teleconference #463 MINUTES 2011-01-25
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jan/0290.html

** DONE Remove %deterministic, %non-deterministic

   DECISION: Remove the %deterministic and %non-deterministic
   annotations (and annotation assertions) from XQuery 3.0.

* Re: REVISED MINUTES XML Query/XSL WG Joint Teleconference #464 Agenda 2011-02-01
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Feb/0045.html

** DONE Modules imported only once

   Q2.7.1 Bugzilla Bug 10863, If a module is imported via multiple
   paths, it is imported only once. There is only one instance of each
   global variable in the module. There are no conflicts due to
   duplicates.

** DONE Prohibited namespaces in annotation assertions

   Q2.7.3 Bugzilla Bug 11538, Prohibit the 5  following namespaces in
   annotation assertions:

   http://www.w3.org/XML/1998/namespace
   http://www.w3.org/2001/XMLSchema
   http://www.w3.org/2001/XMLSchema-instance
   http://www.w3.org/2005/xpath-functions
   http://www.w3.org/2005/xpath-functions/math

* Minutes, XML Query/XSL WG Joint Teleconference #465 2011-02-08
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Feb/0049.html

  No decisions that affect XQuery 3.0 / XPath 3.0

* REVISED MINUTES XML Query/XSL WG Joint Teleconference #466 Agenda 2011-02-15
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Feb/0077.html

** DONE Bug 9183 - [XPath 2.1] Dynamic invocation of xs:QName or xs:NOTATION constructor functions

   DECISION : http://www.w3.org/Bugs/Public/show_bug.cgi?id=9183 accepted
   with changes proposed in comment #4. Editor to make the changes.

** DONE Bug 11964 - Function conversion rules and QNames
   SCHEDULED: <2011-03-30 Wed>

   DECISION : Bug http://www.w3.org/Bugs/Public/show_bug.cgi?id=11964
   resolved according to comment #0 AND  comment #1

   Michael Kay 2011-02-02 17:54:45 UTC

     So I propose changing the function calling rules so the cast from
     untypedAtomic to the expected type does not happen if the
     required type is namespace-sensitive (that is, QName, NOTATION,
     or a type derived therefrom, or a union type with such a type in
     its membership).

   [reply] [-] Comment 1 Michael Kay 2011-02-04 15:21:39 UTC

     (a) ban atomization of the operand of cast|castable if the target
     type is namespace-sensitive


* MINUTES for XML Query/XSL WG Joint Teleconference #467 2011-02-22
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Feb/0096.html

** DONE Bug 11095 - Lack of clarity on 'unknown' types
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=11095#c6

   To review these changes, look at these two sections:

   2.2.5 Consistency Constraints
   2.5.4 SequenceType Matching

   Also modified type-name references to type annotation as needed.

* Revised Minutes of F2F minutes #468 (Mark, Andy, Jonathan)
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Mar/0013.html


** DONE ACTION A-468-19 Jonathan to Resolve bug 12173 according to comment #3
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=12173#c3


* Minutes XML Query/XSL WG Joint Teleconference #469 on 2011-03-15
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Mar/0049.html

  No decisions affect XQuery.

* XML Query/XSL WG Joint Teleconference #470 minutes 2011-04-05
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Apr/0046.html

** DONE DECISION: Re bug 12208

  (How XDM nodes are created should be an implementation-defined
  item): Agree that how XDM nodes are created and from what
  information should be an implementation-defined item.
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=12208

* XML Query/XSL WG Joint Teleconference #471 minutes 2011-04-12
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Apr/0134.html

  No decisions that affect XQuery

* XML Query/XSL WG Joint Teleconference #472 Minutes 2011-04-26
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Apr/0154.html

** DONE DECISION: re bug #11792, change the CatchClause to remove the
   catchvars. Use the same six variables that XSLT uses.
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=11792

** DONE DECISION: Agreed to accept the change in comment #3 of bug 10857 as
   SCHEDULED: <2011-07-17 Sun> CLOSED: [2011-07-17 Sun 13:43]
   editorial.
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=10857#c3


* XML Query/XSL WG Joint Teleconference #473 Minutes 2011-05-03
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011May/0033.html

** DONE DECISION: Adopt solution proposed in the original comment for bug
   CLOSED: [2011-07-17 Sun 22:59]
   11713, subject to editorial decision as to the name of the term for
   "generalized union type".
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=11713

** DONE DECISION: Mark bug 11561 as resolved fixed.
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=11561#c6

* Re: DRAFT XML Query/XSL WG Joint Teleconference #474 Agenda 2011-05-10
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011May/0131.html

  No changes that affect XQuery

* Re: DRAFT XML Query/XSL WG Joint Teleconference #475 Agenda 2011-05-24
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011May/0131.html

** DECISION:  Adopt proposal http://lists.w3.org/Archives/Member/w3c-xsl-query/2011May/0057.html (Opt-in and opt-out feature support)

    With the following modified syntax:
        declare option f:require-feature "xquery-schema-import fn:xquery-module vendor:funky-feature";
    And the additional rules:
        - If a required feature is not recognized, an raise error.
        - If a prohibited feature is not recognized, ignore it.
    Noting the current statement in the specification "An option declaration must not be used to change the syntax accepted by the processor," will have to change.
    While these declarations can occur in any module, there should not be a propagation effect for module imports.


* MINUTES XML Query/XSL WG Joint Teleconference #476 Agenda 2011-05-3
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jun/0003.html

** DONE ACTION A-476-03: Jonathan to add the new URI-Qualified wildcard syntax
   in the XPath and XQuery documents.

* XML Query/XSL WG Joint Teleconference #477 Minutes 2011-06-07
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jun/0010.html

** DONE ACTION A-477-02 Jonathan to correct the computed namespace example in bug 12645.
   Consensus: Michael Kay is correct, use his example.

** DONE ACTION A-477-06 Jonathan to resolve bug 12855 in the spec

** DONE ACTION A-477-07 Jonathan to make a good faith effort to get the resolution
   of 10065 into the current specs.

*  XML Query/XSL WG Joint Teleconference #478 Minutes 2011-06-21
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jun/0044.html

   No decisions that affect XQuery

* XML Query/XSL WG Joint Teleconference #479 Minutes 2011-06-28
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jun/0219.html

** DONE ACTION - A-479-08 - Jonathan Robie - Update the XQuery F+O
   specification with the new operator.
   DEADLINE: <2011-07-17 Sun> CLOSED: [2011-07-17 Sun 23:25]


* DRAFT XML Query/XSL WG Joint Teleconference #480 Agenda 2011-07-12
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jul/0125.html

** DONE Q2.5.4 Bugzilla Bug 13073, [XQuery30] implementation-defined items in F&O and Data Model
   CLOSED: [2011-07-17 Sun 11:29]
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=13073

   Andrew Eisenberg 2011-06-27 20:33:11 UTC

   I suggest that bullets 3 and 4 be modified:

   3. Support for [XQuery and XPath Data Model (XDM) 3.0], as specified in 5.3
      Data Model Conformance. [Insert: and a definition of every item specified to be
      implementation-defined, unless that item is part of an optional feature that is
      not supported by the implementation.]

   4. Support for all functions defined in [XQuery and XPath Functions and
      Operators 3.0]. [Insert: and a definition of every item specified to be
      implementation-defined, unless that item is part of an optional feature that is
      not supported by the implementation.]

** DONE http://www.w3.org/Bugs/Public/show_bug.cgi?id=12738

   Q2.5.1 / bug http://www.w3.org/Bugs/Public/show_bug.cgi?id=12738 :
   Changes to be implemented to resolve the bug :
   1. URIExpr? => URIExpr
   2. If URIExpr evaluates to a zero length string, an error is raised
   3. Future features: we want to reverse both of these in a future version


** DONE http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jun/0210.html

   Jonathan's propoasal accepted with several things to fix :
   - Only within a given module
   - Query analysis time
   - prohibit-feature
   - Do not raise an error if you do not recognize a feature name.
   - Add new namespace to the list of namespaces in Basics
   - An engine MUST recognize the name of any feature it supports

* DRAFT Minutes of XML Query/XSL WG Joint Teleconference #481, 2011-07-19
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jul/0200.html

** DONE DECISION: Bug 12738, to be marked resolved/fixed after Jonathon and M. Dyck
          make changes in items 1 & 2.
          http://www.w3.org/Bugs/Public/show_bug.cgi?id=12738

** DONE DECISION: Bug 12909, Ghislain's proposal accepted (http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jul/0067.html)
          bug to to marked resolved/fixed

** DONE DECISION: Accepted all 5 proposals for prohibiting features and vendor extensions.
          http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jul/0077.html

   ACTION A-481-03  Jonathon to merge proposals into spec for proposal: "prohibiting features and vendor extensions".
                 Also, add clarifying text: turning off (disabling) a feature means the implementation should act
                 as if feature was not implemented (wording left to the editor).
                 See http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Jul/0077.html

* Minutes from F2F in Markham, joint meeting 482 (minor corrections)
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Aug/0001.html


** DONE DECISION: 10706 closed, John's wording was accepted.
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=10706#c5

   #### Sent email for clarification ####

   Clarified rules on ItemType Subtype Judgement for function items:
   annotations in these rules are optional, the rules apply even if no
   annotations are present; return types are covariant, function
   arguments are contravariant.

** DONE DECISION: adopt the mapping operator from 2011Jul/0151.html
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=12951

   we are going to have the simple mapping operator ! and a path
   operator / and we will changing Mapping back to Path in the
   grammar. Ths closes issue 12951.

** DONE DECISION change XQTY0102 to XQDY0102 and make it dynamic. (close 13289)
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=13289

** DONE DECISION 13290 closed editorial
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=13290

** DONE DECISION: adopt err:additional as a variable implicitly bound by
   try/catch such as err:additional as item* (value implementation
   defined) Mary will write a test that the variable is bound.

* Draft Minutes of XML Query/XSL WG Joint Teleconference #483, 2011-09-13    
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Sep/0116.html

** DONE DECISION: mark bug 13399 as RESOLVED FIXED - MikeK's comment #2 accepted.
   CLOSED: [2011-10-28 Fri 15:08]

   Note: it would still be good to come up with better terminology
   (see bug report), but it is not obvious how.
    
** DONE DECISION: Adopt Andrew's proposed ammendment of 'group by' syntax as
   CLOSED: [2011-10-28 Fri 19:36]
   described in
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Aug/0035.html

* DRAFT Minutes: XML Query/XSL WG Joint Teleconference #484 2011-09-20
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Sep/0250.html

  No decisions that affect XQuery.

* XML Query/XSL WG Joint Teleconference #485 Minutes 2011-09-27
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Sep/0301.html

** DONE Concerning: LiteralFunctionItem
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Sep/0265.html

   Change 'LiteralFunctionItem' to "NamedFunctionRef". Change XQueryX to 
   match these changes

** DONE Q2.5.5 Questions on http://www.w3.org/2011/xquery-features
   See http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Sep/0093.html

   Accepted: It is an error to define functions and annotations in the
   "features" namespace.

* Minutes for XML Query/XSL WG Joint Teleconference #486 2011-10-04
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Oct/0030.html

** DONE DECISION: Re bug 11733 [F+O 3.0] Casting to union types:
   adopt the proposal in
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Sep/0109.html
   (Changes are for 3.0.)

** DONE DECISION: In a partial function application, function conversion rules
   MUST (not MAY) raise applicable type errors. (Don't defer them.)

   => folded into mdyck's function proposal

** DONE DECISION re Bug 13399, [XP 3.0] Constraints on Unions in SequenceType:
   CLOSED: [2011-10-28 Fri 19:37]
   JRobie will editorially choose between the two sets of types described in
   comment 5. MKay will let him know if he finds a substantive difference
   between them.

* Minutes XML Query/XSL WG Joint Teleconference #487 Agenda 2011-10-04
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Oct/0090.html

  No decisions that affect XQuery.

* XML Query/XSL WG Joint Teleconference #488 MINUTES 2011-10-18
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Oct/0113.html

  My interpretation: no decisions yet that affect XQuery, functions
  still somewhat open.

## RESOLVED: we don't want the restriction that fn:function-lookup() can 
  only access functions that are present in the static context.

## RESOLVED: adopted fn:function-lookup(), with the ability to return a 
  superset of the functions present in the static context. Scribal 
  interpretation: I gained the impression of a consensus to implement this 
  decision by making the function access information in the dynamic 
  context, but this might have been a slightly confused decision and in 
  any case depends on acceptance of the not-yet-considered proposal for 
  reforming the way functions are modelled in the static and dynamic context.


* XML Query/XSL WG Joint Teleconference #489 MINUTES 2011-10-25
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Oct/0147.html

** DONE DECISION: Accepted new proposal contained in
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Oct/0042.html
  that "static has mapping to signatures" and "dynamic has mapping to 
  functions"

  ### Part of mdyck function proposal

** DONE DECISION: Accepted that there can be functions in the dynamic context 
   whose signatures are not in the static context.

  ### Part of mdyck function proposal


** DONE DECISION: Agreed to accept current proposal in
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Oct/att-0064/function_proposal.html 
  (with text in square brackets removed).

  ### mdyck function proposal

** DONE RESOLVED Bug 13674 by accepting the amendments in Comment #16.


* Minutes for XQuery meeting #490 TPAC, Santa Clara, CA
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Nov/0004.html

** DONE DECISION: For XQuery 3.0, adopt direction 1 in Ghislain's proposal: 
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Oct/0091.html 
  (optional features across specs)

** DONE DECISION: For the prohibit/require feature, the feature name for XQUF will 
  be qf:xquery-update.  The name "xquery-" will be used in all feature names 
  in place of "query-".

  Moot - the "xquery-" prefix does not apply to features in the XQuery
  specification, it applies to features in other specs such as update.
  (I think "Moot" is used here in the American sense of "no longer relevant", not
  the British sense of "controversial" - MHK)

** DONE DECISION: Accept both parts (A and B) in the proposal of Comment #3 of bug 
  http://www.w3.org/Bugs/Public/show_bug.cgi?id=10368 (scope of components).

  ### mdyck action

** MOOT DECISION: Bug http://www.w3.org/Bugs/Public/show_bug.cgi?id=14239 
  (Function signatures vs. "Function signatures" static context component) 
  can be closed (by Ghislain) as per Comment #1.

  ### in function proposal

** DONE DECISION: Bug http://www.w3.org/Bugs/Public/show_bug.cgi?id=14350 
  (technical: 3.1.5.3 Function Item Coercion: number of parameters) can be 
  closed accepting the comments.

  ### mdyck

** DONE ACTION A-490-01: Jonathan to incorporate the list of XQuery optional 
  features into the feature tree described in Ghislain's direction 1 
  proposal:  
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Oct/0091.html.

** DONE ACTION A-490-02: Jonathan and Mary to come up with a proposal for default 
  namespaces for option declarations and annotations.

  In the specification, for review by WGs.

** DONE   ACTION A-490-03: Michael Dyck to implement Comment #3 part A and B of bug 
  http://www.w3.org/Bugs/Public/show_bug.cgi?id=10368 (review of appendix C 
  re scope of components).

  ### mdyck

** DONE ACTION A-490-09: Jonathan to remove the deterministic note from the list 
  of substantive changes in XQuery 3.0 (J.2.1).

** DONE ACTION A-490-10: Jonathan to clearly state that the ChangeLog contains all 
  changes being made since XQuery 1.0.

* [MINUTES] Re: REVISED XML Query/XSL WG Joint Teleconference #491 Agenda 2011-11-15
  http://lists.w3.org/Archives/Member/w3c-xsl-query/2011Nov/0016.html

** DONE DECISION:  To close bug #14652 with the following definition: A
   sequence type A is a subtype of a sequence type B if the
   judgement subtype(A, B) is true.

** DONE (Mooted, actually, by a later decision) DECISION: To close bug #14330 with the following resolution:
   1. function items can refer to context-independent built-in functions
   2. function items can not refer to context-dependent built-in functions
   3. you can create an inline function to wrap a context-dependent
   built-in function
   4. Add a note to status section, warning that we may allow some
   context dependent functions to be referred to by function items

   # mdyck has added text for #2, and has left #1 and #3 unstated.
   # Jim has action A-491-06 to do #4.


* DRAFT XML Query/XSL WG Joint Teleconference #492 Minutes 2011-11-29
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2011Nov/0068.html

** DONE Resolved bug 14883 
   by removing the mention of function annotations on inline functions
   in XPath 3.0 Last Call draft
.
** DONE Resolved bug 14921 
   by adopting the XML restriction that control characters cannot
   appear in unescaped form in an XQuery that's using XML 1.1 rules.

      Finally, there is considerable demand to define a standard
      representation of arbitrary Unicode characters in XML
      documents. Therefore, XML 1.1 allows the use of character
      references to the control characters #x1 through #x1F, most of
      which are forbidden in XML 1.0. For reasons of robustness,
      however, these characters still cannot be used directly in
      documents. In order to improve the robustness of character
      encoding detection, the additional control characters #x7F
      through #x9F, which were freely allowed in XML 1.0 documents,
      now must also appear only as character references. (Whitespace
      characters are of course exempt.)  The minor sacrifice of
      backward compatibility is considered not significant. Due to
      potential problems with APIs, #x0 is still forbidden both
      directly and as a character reference.

* Re: DRAFT XML Query/XSL WG Joint Teleconference #493 Agenda 2011-12-06
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2011Dec/0029.html

** DONE ACTION A-493-08: 

   Jonathan to do editorial changes as a result of resolving bug 14996 by Mike Kay:
   XQuery now needs to be changed as follows:
   1. creating a function item is allowed for context dependent functions
   2. invoking a function item that refers to a context dependent
      function raises an error"

      Existing:
          If <var>FC</var> is a dynamic function call:
          <var>FC</var>'s base expression is evaluated with respect to <var>DC</var>.
          If this yields a sequence consisting of a single function
          with the same arity as the arity of the <code>ArgumentList</code>,
          let <var>F</var> denote that function.
          Otherwise, a type error is raised
          <errorref class="TY" code="0004"/>.

      Added:
	  If <var>F</var> is a <xtermref spec="FO30"
          ref="dt-context-dependent">context-dependent</xtermref>
          built-in function, a <termref def="dt-dynamic-error">dynamic
          error</termref> is raised <errorref class="DY"
          code="0112"/>.


** DONE ACTION A-493-09: Jonathan will change XPath specification so that
   line-end normalization is host language defined to resolve bug 14917.
   Errata against 2.0.

** DONE ACTION A-493-10: Jonathan to make sure that our other W3C
   specifications are optional features, NOT extensions, to resolve bug 15043.
   
** DONE BUG 14995 - added default language, calendar, and place to the dynamic context.
   Done by MHK 2011-12-07.

* XML Query/XSL WG Joint Teleconference #494 MINUTES 2011-12-13
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2011Dec/0052.html

** DONE Decision: Mark bug 15044 as resolved.
   Done in spec.

* XML Query/XSL WG Joint Teleconference #495 MINUTES 2012-01-10
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Jan/0044.html

** DONE Inline functions and XPath 1.0 compatibility mode
   https://www.w3.org/Bugs/Public/show_bug.cgi?id=15398

* Minutes for XML Query/XSL WG Joint Teleconference #496 2012-01-17
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Jan/0093.html

  No decisions that affect this specification.

* XML Query/XSL WG Joint Teleconference #497 Minutes 2012-01-24
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Jan/0125.html

** DONE DECISION: A grouping variable will be bound to an atomized value.

* Minutes of meeting #500, Prague, day three (Joint meeting)
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Feb/0032.html

## MONDAY:

** DONE fn:unparsed-text
   https://www.w3.org/Bugs/Public/show_bug.cgi?id=14932#c10


   [Definition: Available text resources. This is a mapping of strings
   to text resources. The string represents the absolute URI of a
   resource. The resource is returned by the fn:unparsed-text function
   when applied to that URI.] The set of available resources is not
   limited to the set of statically known documents, and it may be
   empty.

** DONE Conflict between EQName syntax and JSON
   https://www.w3.org/Bugs/Public/show_bug.cgi?id=15399#c2

Not yet ready to implement:
#b#
   Bug 15912 (Context dependent function items). DECIDED to resolve bug
   15912 by splitting the category of functions that are
   context-dependent into two (static-context-dependent and
   dynamic-context-dependent), and permitting use of those that are only
   static-context-dependent in function item literals and dynamic
   function calls.

## TUESDAY:
Q2.5.1 Agreed to formalise definition of static context. Awaiting
definition from Jonathan Robie.

Q2.5.2 Agreed to formalise definition of dynamic context. Awaiting
definition from Jonathan Robie and Ghislain Fourny.

Q2.5.3 Agreed to close bug 14921 in favour of 15966. Bug 15966 will be
discussed on Weds 14-Feb-2012 at the F2F.

** DONE Q2.5.6 The working group will adopt the proposal from Michael Kay's
proposal in bug 15789.

** DONE Q2.5.7 Jonathan Robie to adopt the text based on Michael Kay's comment
in bug 15675 in collaboration with Michael Kay.

** DONE Q2.5.9 https://www.w3.org/Bugs/Public/show_bug.cgi?id=15690
   Jonathan Robie to adapt the text based on the proposal to carry
   all function annotations through function coercion.
    


Q2.5.11 Jonathan Robie has proposed text as editorial change and to
define an additional error code for the case of annotation assertions
where the annotation is in the reserved fn namespace.

## WEDNESDAY:

** DONE Q2.5.8 Bug 15807 - [XQ30] 3.16.3 Cast - {variety}simple?
Decision: Accepted Mikes comment #3

J4.2.4 unparsed-text vs. unparsed-text-lines
Decision: Will be resolved inside the XSLT WG first.


* XML Query/XSL WG Joint Teleconference #501 Minutes 2012-02-28
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Feb/0066.html

  No decisions recorded

** DONE (DONE?) ACTION A-501-01 Jonathan Robie to reopen bug 15044 (group by variables)
   and then re-resolve it with comments consistent with the resolution to  
   15728
   (group by variable scope). 15278 will be resolved.

ACTION A-501-02 Jonathan Robie to create formal definition of static  
context.
ETA 2012-03-13

ACTION A-501-03 Jonathan Robie and Ghislain to create formal definition
of dynamic context.
ETA 2012-03-13

* XML Query/XSL WG Joint Teleconference #502 Minutes 2012-03-13
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Mar/0074.html

  No decisions that affect this specification.

* XML Query/XSL WG Joint Teleconference #503 Minutes
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Mar/0095.html


** DONE DECISION Bug 16089 - Abandon the special rule (cast rule 1) that
  says atomization doesn't happen if the target type is namespace
  sensitive (comment #5).

** DONE DECISION Bug 16369 - Calling the fn:error() function always raises a
  dynamic error.  (comment #1)


* XML Query/XSL WG Joint Teleconference #504 Minutes
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Mar/0118.html

** DONE DECISION 504-02 regarding bug
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=15966 (XML 1.0 vs. XML
   1.1 - "applied consistently by all aspects of the implementation"):
   The proposal from message
   https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Mar/0094.html
   was adopted.

** DONE ACTION A-504-06: Jonathan to close the
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=15966 (XML 1.0 vs. XML
   1.1 - "applied consistently by all aspects of the implementation"). In
   the comment, give a link to Mike Kay's message
   https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Mar/0094.html.


* XML Query/XSL WG Joint Teleconference #505 Minutes 2012-04-03
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Apr/0009.html

** DONE Bugzilla Bug 15912, [XP3] Function items based on collation-dependent functions
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=15912

   Accepted. The editors will update the spec based on Ghislain's message,
   reflecting comments that have been made during the discussion. See:
   https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Apr/0000.html


* Minutes XML Query/XSL WG Joint Teleconference #506 2012-04-17
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Apr/0038.html

  No decisions that affect this specification.


* XML Query/XSL WG Joint Teleconference #507 Minutes 2012-04-24
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Apr/0052.html

  No decisions that affect this specification.

* XML Query/XSL WG Joint Teleconference #508 Minutes
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012May/0027.html

  No decisions that affect this specification.

* Minutes: XML Query/XSL WG Joint Teleconference #509 2012-05-15
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012May/0062.html

** DONE This affects XQuery:

   Bugzilla Bug 16565, [FO30] resolution of relative $collation URIs
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=16565

   RESOLVED/FIXED: Whether relative collation URIs are resolved
   resolved against the static base URI or the dynamic base URI is
   implementation defined.

** DONE ACTION A-509-03 

   Jonathan to modify XQuery document to accomodate new production
   BracedURILiteral, see Bug 16679.


* MINUTES: XML Query/XSL WG Joint Teleconference #510 on 2012-05-22
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012May/0128.html

** DONE Ghislain's static/dynamic context proposal

   DECIDED to accept the proposals on static and dynamic context for 
   modules in Ghislain's paper at

   _https://lists.w3.org/Archives/Member/w3c-xsl-query/2012May/0118.html_

   noting that there should be no substantive impact on the way the context 
   behaves in XPath.

** DONE 

   DECIDED to resolve bug 16681 by removing the new error code XPDY0129 and 
   reverting to FORG0001.

** DONE 
   DECIDED to accept the resolution of bug 16178 proposed in the bugzilla 
   entry, modified as necessary in the light of the resolution of bug 16199.

** DONE 

   DECIDED to resolve bug 16199 by creating a namespace to act as the 
   default namespace for annotations and annotation assertions as proposed 
   in the bugzilla entry; the new namespac would not have any predeclared 
   prefix.

* MINUTES XML Query/XSL WG Joint Teleconference #511 on 2012-05-29

  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012May/0171.html


** DONE Jonathan Robie to update  the change log and specification.

  ACTION A-511-02 John Snelson to fix the test
  hof-309 for proposed resolution of comment #2 of
  bug
  https://www.w3.org/Bugs/Public/show_bug.cgi?id=15999
  and also close the bug. 


* XML Query/XSL WG Joint Teleconference #512 Minutes 2012-06-12
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Jun/0078.html

** DONE Bang operator precedence

   RESOLVED: Accept the change in precedence of the bang operator as  
   suggested in
   bug http://www.w3.org/Bugs/Public/show_bug.cgi?id=16197

** DONE Pure union type

   RESOLVED: Resolve bug 17181 by changing the terminology "restricted union  
   type"
   to "pure union type"

** DONE Editorial for Bug 16104

   RESOLVED: Mark bug 16104 as editorial for 2a and 2b, add a comment that we
   disagree with (1) and (2c).

** DONE Catchall bug for XQuery 3.1 requirements

   RESOLVED: make a bug that enumerates bugs that were originally filed as  
   3.0 but
   that have been moved to 3.1; mark this bug as fixed later and close it.

   Done by Jim:
   https://www.w3.org/Bugs/Public/show_bug.cgi?id=18891


* DRAFT XML Query/XSL WG Joint Teleconference #513 MINUTES 2012-06-19
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Jun/0122.html

  No decisions that affect this specification.

* DRAFT XML Query/XSL WG Joint Teleconference #514 Minutes
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Jun/0135.html


** DONE (by Mike Kay)

  DECISION: Adopt Michael Kay's proposal to decouple uri-collection() and collection():
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Jun/0129.html
  The suggestion in the proposal to possibly drop "Statically known documents" and 
  "statically known collections" is not supported. 
  
** DONE (by Mike Kay)

   Implemented DECISION to close bug 17595 by applying the changes in
   http://lists.w3.org/Archives/Member/w3c-xsl-query/2012Jul/0049.html  

* MINUTES XML Query/XSL WG Joint Teleconference #515 Agenda 2012-07-10
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Jul/0019.html

** DONE Annotation Assertions 2.5.5.7

  ACTION A-515-04 on Jonathan to revise the text about annotation
  assertions in section 2.5.5.7 of the XQuery 3.0 spec
  (https://www.w3.org/XML/Group/qtspecs/specifications/xquery-30/html/xquery-30.html#dt-annotation-assertion)
  to answer concerns raised in bug
  https://www.w3.org/Bugs/Public/show_bug.cgi?id=17474 (Annotation
  Assertions), and along the lines of saying that (i) not recognizing an
  assertion has no effect on processing and (ii) an assertion
  _restricts_ the set of matched functions.


* XML Query/XSL WG Joint Teleconference #516 Minutes 2012-07-17
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Jul/0040.html

  No decisions that affect these specifications

* DRAFT Montreal Face-To-Face #517 Minutes (2012-07-23 to 2012-07-25)
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Jul/0081.html


** DONE Static Base URI  
   DECISION - proposal in July 0049 accepted as resolving issue 16583
   https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Jul/0049.html
   https://www.w3.org/Bugs/Public/show_bug.cgi?id=17595
   https://www.w3.org/Bugs/Public/show_bug.cgi?id=16583

** DONE Comment before end of version declaration

   DECISION: if there is a Comment before the end of a version declaration
   then either a static error must be raised or the comment must be
   ignored;
   it's implementation dependent. Not specific static error, for 1.0
   compatibility.

** DONE Bug 17474
   DECISION: consensus to adopt Jonathan's revised definition of
   annotations in his comments to bug 17474.

** DONE Bug 16199
   DECISION - 16199 has already been fixed but the current draft does not
   yet reflect the resolution (and will).

** DONE Bug 14368
   DECISION: close 14368: Module URI to be replaced by "the target
   namespace of a module"

** DONE Bug 14369
   DECISION: close 14369 by renaming global variable to module variable,
   renaming "Variable Declaration" to "Module Variable Declaration",
   ensuring that the definition of "module variable" includes those added
   to the module by the implementation; no changes to the grammar OR
   reword and avoid the term global variable.

** DONE Bug 14930
   DECISION: close 14930 adopting the resolution suggested in comment 0;
   this is a very minor substantive change or clarification.

** DONE BUG 15075
   DECISION: close 15075 by updating appendix D to incorporate the items
   Andrew so kindly and helpfully identified

** DONE BUG 10406
   DECISION: 10406 is fixed in the current draft.

** DONE Incompatibilities
   DECISION: The 3.0 specs need to identify incompatibilities with 2.0
   specs, and also provide a means to identify incompatibilities with
   XPath 1.0 (directly or indirectly).

** DONE ACTION A-517-07 validating xs:untyped
   Jonathan to add to change log that we have clarified 
   the meaning of validating of xs:untyped as removing type annotations, 
   and to add a note to the spec.

** DONE Bugs 14236 and 16679

14326 is not yet done

16679 fixed

[discussion and attempts to understand the stas quo]

current: Q{URI} ncname
prefix:ncname - providing this prefix has been bound to the same URI
problems identified with XPath spec
1. treatment of whitespace in curly braces
consensus - whitespace gets collapsed as per normalise-space()

2. the equivalence rule has an exception and the exception is:
  if the URI is empty it's equiv to no namespace

3. Issue 3  No escaping in { } - Liam thinks it is broken
(but consensus not to fix)
Andrew points out that this is not a problem with XQuery, where
character references can be used.
E.g. we can't match <foo xmlns="{  }"> (and would like a Note saying so)

4. what are the vailidation rules -
currently implementations may reject  something that is not a valid
xs:AnyURI
as defined in XSD or XSD 1.1 - definitions are different
Should refer to RFC 3987 normatively.

Anders points out we should be consistent and check to see that the
rules for validating namespaces are the same everywhere.

Proposed new text:

The uri represented by a braced uri literal is whatever's
between the braces after ws normalization.
If there's only whitespace between the braces
the corresponding URI consists of the empty string.
No %-encoding or decoding is performed;


Retain the error for an invalid URI because implementations are
allowed to enforce it (see 16679)

ACTION A-517-02 Jonathan to take the 4 items minuted for meeting 517 for
issue 16679 and change the XPath spec appropriately.


* XML Query/XSL WG Joint Teleconference #518 Minutes 2012-09-11
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Sep/0025.html

** DONE (no-op) J4.4.2 Bugzilla Bug 18401, Optional Features in XPath 3.0
https://www.w3.org/Bugs/Public/show_bug.cgi?id=18401

  Accepted. INVALID, XPath says, "Therefore, XPath relies on
  specifications that use it (such as [XPointer] and [XSL
  Transformations (XSLT) Version 3.0]) to specify conformance criteria
  for XPath in their respective environments."


** DONE Bugzilla Bug 11585, [XQuery30] Non-Schema-Aware XQuery processors:
conformance rules
https://www.w3.org/Bugs/Public/show_bug.cgi?id=11585

Accepted:
1. combine Schema Import Feature and Schema Validation Feature into 
"schema  aware" feature
2. if not schema aware, all elements are xs:untyped, all attributes are
   xs:untypedAtomic.
3. if not schema aware, raise an error for schema import
4. if not schema aware, raise an error for schema validation

* XML Query/XSL WG Joint Teleconference #519 MINUTES 2012-09-18
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Sep/0063.html


** DONE DECISION: The "Serialization Feature" means the serialization spec, but 
that there are other ways to serialize in general.

** DONE (noop) DECISION: There are no at risk features in XPath 3.0 or XQuery 3.0

** DONE DECISION: Public/private is mandatory. Public/private in a main module 
   is ignored.

** DONE (noop) DECISION: The module feature will remain optional.

** DONE DECISION: Higher order functions will be an optional feature.

** DONE DECISION: We will keep the "Static Typing" feature, which will remain 
   optional.

* XML Query/XSL WG Joint Teleconference #520 MINUTES 2012-09-25
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Sep/0094.html

** DONE DECISION: Jonathan to mark bug 11585 as resolved fixed

** DONE J4.3.5 bug 15390 [QT3TS] Serialization tests too liberal about errors

* MINUTES - XML Query WG Face-To-Face Meeting #523 -- 2012-10-29 - 2012-10-30
https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Oct/0087.html


** DONE DECISION Michael Kay's rewording proposal for schema-element test
matching in bug https://www.w3.org/Bugs/Public/show_bug.cgi?id=10207 is
accepted.

** DONE DECISION Bug https://www.w3.org/Bugs/Public/show_bug.cgi?id=19425 is
resolved by accepting Michael Kay's rewording in comment 1.

** DONE DECISION Prohibiting a feature only raises errors upon static detection
of a feature use (still at module scope). The serialization feature is
an exception regarding require/prohibit-feature.

   Use better description of decision in bug 19602.

** DONE DECISION The XMLNS namespace is forbidden for all EQNames, not just node
tests.

   Not happy with where I put this error, but doing anything else
   requires reorg of literals, not for today.

** DONE https://www.w3.org/Bugs/Public/show_bug.cgi?id=19670

   A named feature is a feature that is associated with a QName that
   allows to require or prohibit it with a require-feature or
   prohibit-feature option. Vendors SHOULD associate any extensions
   with a named feature.

   The name all-extensions corresponds to the set of named features
   whose QName is not in the http://www.w3.org/2011/xquery-options
   namespace.

** DONE DECISION: version behaviour changed to be permissive as noted - see bug
19671.
In addition, need to add a rule that an implementation MAY raise
an error if a query or module attempts to import a module
of a different version than the main query.

** DONE DECISION: Comments 3, 4 and 5 to bug 19267 adopted.

   #### But see changes in bug report

** DONE DECISION: close Bug 19365 with comment 3

** DONE ACTION A-523-05 Jonathan to come up with a list of items requiring WG
discussion from Michael Kay's feedback.

** DONE ACTION A-523-06  Jonathan to add reserved function names to
imcompatibiliy appendix - function, namespace-node, switch

* DONE Mike Kay feedback (ad lib)

https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Oct/0066.html
https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Oct/0067.html
https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Oct/0068.html
https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Oct/0069.html
https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Oct/0070.html

** DONE Says "XPath 3.0 is a superset of [XML Path Language (XPath) Version 
1.0]," - should describe the relationship with 2.0! 

** DONE The abstract then proceeds to describe the main features that
distinguish 2.0 from 1.0, with no mention of 3.0 features.

** DONE para 3, the information that "XPath has a natural subset that can be 
used for matching (testing whether or not a node matches a pattern); 
this use of XPath is described in [XSL Transformations (XSLT) Version 
3.0]." is probably of little relevance at this point of the exposition.

* DONE Ghislain feedback (ad lib)

** DONE https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Oct/0071.html
** DONE https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Oct/0072.html
** DONE https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Oct/0073.html

* Open BZs

** DONE https://www.w3.org/Bugs/Public/show_bug.cgi?id=15687 We should consider separate error codes for annotations on functions in the fn
reserved namespace vs. the annotation assertions of annotations in the fn reserved namespace.
** DONE https://www.w3.org/Bugs/Public/show_bug.cgi?id=19089 (duplicate)
** DONE https://www.w3.org/Bugs/Public/show_bug.cgi?id=16199
** DONE https://www.w3.org/Bugs/Public/show_bug.cgi?id=15675 Computed Namespace Constructors
** DONE https://www.w3.org/Bugs/Public/show_bug.cgi?id=19077
** DONE https://www.w3.org/Bugs/Public/show_bug.cgi?id=19090 casting to xs:anySimpleType
** DONE https://www.w3.org/Bugs/Public/show_bug.cgi?id=19120
** DONE https://www.w3.org/Bugs/Public/show_bug.cgi?id=15999  HOF

* XML Query/XSL WG Joint Teleconference #524 Minutes 2012-12-11
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Dec/0022.html

* DONE ACTION A-524-01 

  Jonathan Robie to adjust minutes from meeting #523 and re-submit in
  meeting #525.

* MINUTES XML Query/XSL WG Joint Teleconference #525 Agenda 2012-12-18
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2012Dec/0054.html

* DONE Bugzilla Bug 20267.  

  Jonathan to update Appendix C.1 to include html-version and
  item-separator.

* DONE Bugzilla Bug 19504.  
  Group voted for change.  Jonathan to propse wording.  Tim to update
  test suite.

* DONE Bugzilla Bug 20310. 

  Andrew proposes "In addition to the errors defined in this
  specification, an implementation may raise a dynamic error for a
  reason beyond the scope of this specification. For example,
  limitations may exist on the maximum numbers or sizes of various
  objects. An error must be raised if such a limittation is exceeded."
  Jonathan to post proposed change and mark as RESOLVED FIXED.

* DONE Bugzilla Bug 20350.  Considered editorial.  Jonathan to fix.

* Minutes of XML Query/XSL WG Joint Teleconference #526 2013-01-08
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Jan/0024.html

  DECISION re:
     Q2.5.1 Bugzilla Bug 11585, [XQuery30] Non-Schema-Aware XQuery
            processors: conformance rules
     Q2.5.2 Bugzilla Bug 19750, [XQ30] Error code required

     We will go ahead to CR without changes in doc related to this
     issue.  We will consider issue in CR based on implementation
     experience.  If necessary, we can define new conformance profiles
     to allow behaviour.

** DONE Q2.5.3 Bugzilla Bug 20450, [XQ3.0] Option declarations in the XQuery namespace

   Accept changes #1 and #2b of Comment #0:

   all implementations recognise options in the XQuery namespace, and
   an option in that namespace that's not defined in the spec is an
   error.

** DONE ACTION A-526-01 on JRobie:
   https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Mar/0057.html
   Prepare an internal review draft of XQuery 3.1 Requirements + Use
   Cases.  ETA 2013-01-30

* MINUTES XML Query/XSL WG Joint Teleconference #527 Agenda 2013-01-15
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Jan/0051.html

  No decisions wrt XQuery 3.0

* Minutes XML Query/XSL WG Joint Teleconference #528 2013-01-22
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Jan/0073.html

** DONE RESOLVED: Accept the fix in  
https://www.w3.org/Bugs/Public/show_bug.cgi?id=19004#c13

** DONE RESOLVED: Accept rewording proposed bug comment 0 as a resolution to 20643.

** DONE RESOLVED: Resolve 20639 reject bug as too late for this relate, and not
appropriate for future either.


* XML Query/XSL WG Joint Teleconference #529 Minutes 2013-01-29
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Jan/0088.html

** DONE ACTION A-529-03 

   Jonathan to create a new error if the axis step contains
   namespace-node() then the default axis is namespace, which results
   in a static error [err:TBD] ERR Don't Do This Will resolve bug
   20738 at the same time.

   Resolution here:
   https://www.w3.org/Bugs/Public/show_bug.cgi?id=20736#c2


* XML Query WG Face-To-Face Meeting #530 Minutes
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Feb/0018.html

  No decisions wrt XQuery 3.0

* Draft Minutes XML Query WG Face-To-Face Meeting #530 Agenda -- 2013-02-06 - 2013-02-07
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Feb/0030.html

  No decisions wrt XQuery 3.0

* XML Query/XSL WG Joint Teleconference #531 Minutes 2013-02-26
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Feb/0140.html

  No decisions wrt XQuery 3.0

* XML Query/XSL WG Joint Teleconference #532 Minutes 2013-03-05
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Mar/0057.html

  No decisions recorded

* XML Query/XSL WG Joint Teleconference #533 Minutes 2013-03-12
  http:s//lists.w3.org/Archives/Member/w3c-xsl-query/2013Mar/0147.html  

** DONE DECISION: close bug 14917 adopting comment #3

** TODO DECISION: an editorial clarification needs to be made for require/prohibit   ### do together
   feature option declaration using Ghislain's proposed wording. See 
   https://www.w3.org/Bugs/Public/show_bug.cgi?id=21130#c2

  
* Minutes for XML Query/XSL WG Joint Teleconference #534 2013-03-19
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Mar/0235.html

** DONE DECISION: Ghislain's proposal in comment 4 of 20634 accepted for xs:error

** DONE DECISION: resolve 21011 by stating that focus, dynamic context and context
   position are all defined, or none of them are defined. Editorial.

** DONE DECISION: Jonathan to add a subsection in the Incompatibilities
   section for XQuery, as in XSLT, to describe function item behaviour:
   https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Feb/0050.html

** DONE DECISION: accept 20902 and list the incompatibility

** DONE DECISION: 20949 resolved by comment 1, with editorial work such as clarifying
   the use of "it".

** DONE ACTION 534-07: Jonathan to fix 20837 editorially:
   delete the two orphan errors and check there are no others.

** DONE ACTION 534-08: jonathan to close 21025 (editorial) and maybe add example>

** DONE ACTION 534-09: jonathan to propose text based on comment 1 of 18877,
   taking subsequent comments in 18877 into account.


* XML Query/XSL WG Joint Teleconference #535 Minutes 2013-03-26
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Mar/0265.html

** DONE DECISION: add an error code for "implementation-defined limit exceeded" 
   to the paragraph stating that implementations may raise an error if
   they hit a resource limit. (But without editorial carte blanche to
   go through the spec adding the same thing elsewhere.)


* Minutes - XML Query/XSL WG Joint Teleconference #536 2013-04-02
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Apr/0010.html

  No decisions wrt XQuery 3.0.

* DRAFT XML Query/XSL WG Joint Teleconference #537 Minutes 2013-04-16
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Apr/0042.html

** DONE DECISION D-537-02: In bug
   https://www.w3.org/Bugs/Public/show_bug.cgi?id=21315 (missing
   context item is type error or dynamic error). XPDY0002 should be a
   dynamic error everywhere
   (including F&O)

** DONE DECISION D-537-03: Close bug
   https://www.w3.org/Bugs/Public/show_bug.cgi?id=21315
   (XPDY0002 - type error or dynamic error) discarding
   the proposal in comment 2.


* MINUTES XML Query/XSL WG Joint Teleconference #538 Agenda 2013-04-23
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Apr/0051.html
  
** DONE DECISION: J4.2.5: fn:map will be renamed to fn:for-each and
  fn:map-pairs will be renamed to fn:for-each-pair.

* MINUTES of the XML Query/XSL WG Joint Teleconference #539 Agenda 2013-05-07
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013May/0008.html

** DONE DECISION: J4.2.2 Bugzila Bug 21797.  Ordering of parameters in '16.2 
   Basic higher-order functions' 
   https://www.w3.org/Bugs/Public/show_bug.cgi?id=21797
   Voted for changing order of arguments.  The sequence argument will come 
   first.  The function argument will be last in all 5 higher order functions.

** DONE DECISION: J4.4.1 Bugzilla Bug 21574, [XP3.0] C0 control characters in 
   XPath expressions.  Accepted Comment #0.  XPath expressions should allow 
   any Unicode character legal in XML, subject only to constraints imposed 
   by the host language.

** DONE DECISION: J4.4.2 Bugzilla Bug 21664 ([XP30] Castable expresssion). 
   Accepted Comment #0 relating to conditions under which "castable" 
   returns false versus raising an error.

** DONE DECISION: J4.4.3 Bugzilla Bug 21893, [XP30] Casting to QName - error 
   codes.  Accepted Comment #0 regarding use of FONS0004 vs XPTY0117.

** DONE DECISION: J4.5.3 Bugzilla Bug 19579 (implementation-defined limits).  
   Jonathan assigned error code XPDY0130 for "implementation-defined limit 
   exceeded" (Bug 21413).

** DONE DECISION: J4.5.5 Bugzilla Bug 21715 ("List" of named require/prohibit 
   features).  Jonathan to use the phrase "whitespace separated list".

** DONE DECISION Q2.5.5: Bugzilla Bug 19750 ([XQ30] Error code required). Marked 
   Bug 19750 as a duplicate of 20828 (typed data feature) (typed data feature).

* XML Query/XSL WG Joint Teleconference #540 Minutes 2013-05-14
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013May/0024.html

** TODO DECISION re bug 20828: Adopt the proposal in comments #9 + #10.  #### do together

** DONE DECISION re bug 21666: Accept Andrew's suggestion in comment #0.

* XML Query/XSL WG Joint Teleconference #541 Minutes 2013-05-21
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013May/0041.html

** DONE DECISION: In XQuery 3.0, appendix A.2, 5th paragraph, change this sentence:  

   "When tokenizing, the longest possible match that is valid in the
   current context is used. "  to "When tokenizing, the longest
   possible match consistent with the EBNF is used. "

** DONE DECISION: Resolved bug 20862 by accepting comment #1.  

   A note will be added saying this is primarily for the sake of xs:error.

** DONE DECISION: Resolved bug 22032 by adopting possibility #3 in the description of the bug.  

   Specifically, the dynamic error err:XQDY0102 will be raised when a namespace conflict occurs.

* XML Query/XSL WG Joint Teleconference #542 Minutes 2013-06-04
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Jun/0003.html

** TODO Bug 19597 - [QT3TS] prohibit-all-optional-features-2
   https://www.w3.org/Bugs/Public/show_bug.cgi?id=19597   #### do together

   Resolved issue by agreeing with Jonathan's comment #13. XQST0059
   should not be raised.

** TODO Q2.5.2 Bugzilla Bug 21717, Not used: XQST0124
   See http://www.w3.org/Bugs/Public/show_bug.cgi?id=21717   #### do together

   We will raise error XQST0124 if an option in the default options
   namespace is unknown, as suggested in comment #2.



* XML Query/XSL WG Joint Teleconference #543 Minutes 2013-06-11
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Jun/0012.html


** DONE RESOLVED: Resolve https://www.w3.org/Bugs/Public/show_bug.cgi?id=19597
   using the approach of relaxing the requirements of raising the
   specific error using wording along the lines of "if any of these
   QNames corresponds to a feature that the implementation supports,
   it MUST disable that feature, acting (where possible) as though the
   feature were not implemented, or raise a static error" Do not make
   any change regarding whether namespace bindings from schema imports
   and module imports need special handling, on the grounds that you
   will get an error either way, and we decline to prefer one over the
   other.

** DONE RESOLVED: Adopt the text in comment #18 without change as a resolution for
   http://www.w3.org/Bugs/Public/show_bug.cgi?id=18877.



* Mike Kay feedback
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Jul/0020.html



(5)

In 2.5.6.1, only one cell contains an exception to handle
xs:error. However, in 2.5.7 we say that xs:error? is identical to
empty-sequence(). This would imply that for the second and third rows
of the table, if Ai = xs:error then the cells should be the same as
the first row of the table, which is clearly not the case. I will
raise this on bugzilla as it is substantive.

Editorially, there appears to be missing change markup in this
section.

(4)

In 2.5.7 we read:

Calling a function in the signature in which xs:error appears always
raises a type error [err:XPTY0004].

I think "in which" should be "of which". But I don't believe the
statement is true. We've just said that xs:error? is identical to
empty-sequence(), so if empty-sequence can appear in a function
signature, then so can xs:error?. I think we would lose nothing by
deleting this sentence. Alternatively, change it to "Calling a
function in which xs:error or xs:error+ appears as an argument or
result type always raises a type error [err:XPTY0004]".


    
* MINUTES: XML Query/XSL WG Joint Teleconference #546 Agenda 2013-07-09
  https://lists.w3.org/Archives/Member/w3c-xsl-query/2013Jul/0039.html


** TODO Bug 22552
   DECISION: https://www.w3.org/Bugs/Public/show_bug.cgi?id=22552 The 
   working group agrees with the proposal. Jonathan to add additional 
   bullet point to 2.5.6.2, after the second bullet point: "Ai is xs:error 
   and Bi is a generalized atomic type"

* DONE Changes since CR in log

** expressions.xml

----------------------------
revision 1.356
date: 2014-02-17 12:56:21 +0000;  author: jrobie3;  state: Exp;  lines: +1 -0;  commitid: feuH8Jf6Qf0j9spx;
Added FunctionBody to description of Inline Functions. Resolves Bug 24199.
----------------------------
revision 1.355
date: 2014-02-17 11:03:48 +0000;  author: jrobie3;  state: Exp;  lines: +1 -1;  commitid: QcCOgCxryabEzrpx;
Clarified semantics of FLWOR expression in introductory text. Resolves Bug 24221.
----------------------------
