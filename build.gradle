buildscript {
  repositories {
    mavenLocal()
    mavenCentral()
  }

  // Get rid of that [expletive deleted] warning about xml-apis 2.0.2/1.0.b2
  configurations.all {
    resolutionStrategy {
      force 'xml-apis:xml-apis:1.4.01'
    }
  }
}

repositories {
  mavenLocal()
  mavenCentral()
}

defaultTasks 'publish'

ant.importBuild "specifications/build.xml"

task publish(dependsOn: ["publish-xpath-functions-40",
                         "publish-xquery-40",
                         "publish-xslt-40"]) {
  // just a place to hang dependencies
}

task "publish-xquery-40"(type: Copy,
                         dependsOn: ["publish-xpath-functions-40", "xquery-40"]) {
  into "build/www/xquery-40"
  from "specifications/xquery-40/html"
}

task "publish-xpath-functions-40"(type: Copy,
                                  dependsOn: ["xpath-functions-40"]) {
  into "build/www/xpath-functions-40"
  from "specifications/xpath-functions-40/html"
}

task "publish-xslt-40"(type: Copy,
                       dependsOn: ["publish-xquery-40", "xslt-40"]) {
  into "build/www/xslt-40"
  from "specifications/xslt-40/html"
}
